<ion-item class="card item" ng-show="!!vm.entry.id" ng-click='vm.showActivityDetailsModal(vm.entry)'>

	<div class="activity-item top">
		<!--<div class="ico ico-avatarsmall"></div>-->
		<!--<img ng-if="!!vm.avatar" ng-src="{{vm.avatar}}" />-->
		<div class="panel">
			<div class="visual" ng-if="!!vm.avatar">
				<img class="avatar" ng-src="{{vm.avatar}}" />
			</div>
			<div class="activity-summary">
				<a ng-if="!!vm.username" class="user-link" ng-click="$event.stopPropagation()" ui-sref="account.profile({userId: vm.entry.user.id})">
					<strong>{{vm.username}}</strong>
				</a>
			</div>
			<div class="time" ng-if="vm.entry.created">
				<i class="ico ico-timesmall"></i> {{vm.entry.created | date:'mediumDate'}}
			</div>
		</div>

		<div class="last-location" ng-if="vm.entry.location.placeName || vm.entry._location[0].placeName">
			<i class="ion-location"></i> {{vm.entry.location.placeName || vm.entry._location[0].placeName}}
		</div>

		<p class="message">
			<span class="title" ng-if="!!vm.title">{{ vm.title }} </span>
			<span class="message" ng-if="!!vm.message">{{vm.entry.message}}</span>
		</p>

		<div class="clearfix props top-props">
			<div class="right dist driven" ng-if="!vm.entry.props.distance">
				<i class="ico ico-milestraveledsmall"></i>
				<span>{{vm.entry.props.distance}}</span>
			</div>
			<div class="right freight" ng-if="!vm.entry.freight">
				<i class="ico ico-freight"></i>
				<span>{{vm.entry.props.freight}}</span>
			</div>
			<div class="right notes" ng-if="!vm.entry.notes">
				<i class="ion ion-document-text"></i>
				<span>Notes</span>
			</div>
		</div>
	</div>

	<img ng-if="vm.entry.imageURL" ng-src="{{vm.entry.imageURL}}" class="static-pic">

	<!--<div class="button-holder company-link" ng-if="!!vm.entry.company">
		<a class="button button-block button-small" 
			ui-sref="company({companyId: vm.entry.company.id || vm.entry.company})"
			ng-click="$event.stopPropagation()">
			Show Company Profile
		</a>
	</div>-->

	<static-gmap ng-if="!!vm.entry.location.coordinates" class="static-map" size="400x200" sensor="true" zoom="14" markers="{{vm.markers}}">
	</static-gmap>

	<div class="activity-item bottom">
		<div class="clearfix props">

			<div class="driven" ng-if="!!vm.activity.props.slMiles">
				<i class="ico ion-android-checkmark-circle"></i>
				<span class="dist mi">{{vm.activity.props.slMiles}}</span>
			</div>
			<div class="likes" ng-if="!!vm.entry.likes" ng-click="vm.likeActivity(vm.entry.id)">
				<i class="ion-star"></i>
				<span>{{vm.entry.likes.length}} like{{vm.entry.likes.length != 1 ? 's' : ''}}</span>
			</div>
			<div class="comments" ng-if="!!vm.entry.comments">
				<i class="ion ion-chatboxes"></i>
				<span>{{vm.entry.comments.length}} comments</span>
			</div>
		</div>

		<button ng-if="!!vm.isJob" class="button button-block button-calm" ng-click="$event.stopPropagation(); vm.apply(vm.entry)">
			Apply!
		</button>
	</div>


</ion-item>
