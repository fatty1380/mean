<ion-view class="company-screen view-section compact-size" cache-view="false">

    <ion-header-bar align-title="center">
        <button class="button button-clear" ng-click="vm.goBack()">Back</button>
        <button class="button button-clear" ng-if="!vm.isFollowing" ng-click="vm.follow()">Follow</button>
        <button class="button button-clear" ng-if="vm.isFollowing" ng-click="vm.unfollow()">Following</button>
    </ion-header-bar>

    <ion-header-bar class="bar-subheader bar-brand">
        <h3><img class="brand-img" ng-if="vm.company.profileImageURL" ng-src="{{vm.company.profileImageURL}}" alt="" /></h3>
    </ion-header-bar>

    <ion-pane class="pane profile-pane has-subheader">
        <ion-tabs class="profile-tabs tabs-top">

            <ion-tab title="JOBS" ui-sref="company.jobs">
                <ion-scroll class="jobs-list">
                    <ion-list class="activity">
                        <ion-item class="card" ng-repeat="entry in vm.jobs" ng-show="!!entry.id">
                            <tline-job-item model="entry" embedded="true"></tline-job-item>
                        </ion-item>
                        <br>
                    </ion-list>

                    <div ng-if="!vm.jobs || !vm.jobs.length" class="no-content">
                        <p class="message">{{vm.company.name}} has not posted any jobs yet. Check back again soon!</p>
                    </div>
                </ion-scroll>
            </ion-tab>

            <ion-tab title="FEED" ui-sref="company.feed">
                <ion-scroll>
                    <ion-list class="activity">
                        <tline-feed-item ng-repeat="entry in vm.feed" model="entry"></tline-feed-item>
                    </ion-list>

                    <div ng-if="!vm.feed || !vm.feed.length" class="no-content">
                        <p class="message">{{vm.company.name}} has not posted anything to their feed yet. Check back again soon!</p>
                    </div>
                </ion-scroll>
            </ion-tab>

            <ion-tab title="ABOUT" ui-sref="company.about">
                <ion-scroll class="company-about">
                    <ion-list>
                        <ion-item class="card" ng-repeat="about in vm.company.details">
                            <h3 ng-bind-html="vm.trust(about.title)"></h3>
                            <span ng-bind-html="vm.trust(about.bodyHTML)" ng-if="!!about.bodyHTML"></span>
                        </ion-item>
                        <br/>
                    </ion-list>
                </ion-scroll>
            </ion-tab>

        </ion-tabs>
    </ion-pane>

</ion-view>