<ion-modal-view class="popover-lightbox">

    <ion-list>
        <ion-item class="item-header item-divider">
            Resume Validation
        </ion-item>
        <div ng-repeat="validator in vm.validators" ng-if="!validator.hidden">
            <ion-item class="item-icon-left item-button-right item-validation-step">
                <!--ng-if="vm.status !== 'valid'"-->
                <i class="icon" ng-show="validator.status === 'loading'">
                    <ion-spinner></ion-spinner>
                </i>

                <i class="icon ion-checkmark" ng-show="validator.status === 'valid'"></i>
                <i class="icon ion-alert" ng-show="validator.status === 'invalid'"></i>
                <i class="icon ion-close" ng-show="validator.status === 'failed'"></i>
                <span class="step-title">{{validator.name}}</span>

                <button type="button" class="button button-clear button-positive" ng-if="!validator.note && validator.action" ng-click="validator.action()">
                    {{validator.fixTitle || 'Edit' }}
                </button>
            </ion-item>
            <ion-item ng-if="validator.note" class="item-button-right item-body padding">
                {{validator.note}}
                <button type="button" class="button button-clear button-positive" ng-if="validator.action" ng-click="validator.action()">
                    {{validator.fixTitle || 'Edit' }}
                </button>
            </ion-item>
        </div>

        <ion-item class="item-icon-center" ng-if="vm.status !== 'valid' && vm.status !== 'invalid'">
            <button type="button" ng-click="vm.cancelModal(vm.status)" class="button button-dark button-block">cancel</button>
        </ion-item>

        <ion-item class="item-message item-footer" ng-if="vm.status !== 'validating'">
            <span ng-if="vm.requireAll && vm.status === 'invalid'">
                You must fill in all elements of your profile before emailing your resume and documents.
            </span>
            <span ng-if="!vm.requireAll && vm.status === 'invalid'">
                Add additional information to your resume, or click {{vm.continueTitle || 'continue'}} to view
            </span>
            <!--<span ng-bind-html="vm.text.confirm">-->
            <span ng-if="vm.status === 'valid'">
                Add additional information to your resume, or click {{vm.continueTitle || 'continue'}} to {{vm.validationMode}}
            </span>
            <br ng-if="!!vm.text.confirm" />
            <div class="row">
                <div class="col-10">
                    <button type="button" class="button button-icon icon ion-close" ng-click="vm.cancelModal(vm.status)">
                    </button>
                </div>
                <div class="col-80 col-offset-10">
                    <button type="button" class="button button-positive button-block" ng-click="vm.apply()">{{vm.continueTitle || 'continue'}}</button>
                </div>
            </div>

        </ion-item>
        
    </ion-list>


</ion-modal-view>