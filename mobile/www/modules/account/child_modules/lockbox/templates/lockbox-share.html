<!-- Modal step #1 -->
<ion-modal-view class="lockbox lockbox-share view-section compact-size" ng-if="vm.shareStep === 1">

    <ion-header-bar>
        <button class="button button-clear" ng-click="vm.cancel()">Cancel</button>
        <h1 class="title">Share Profile</h1>
        <button class="button button-clear" ng-click="vm.skipDocs()">skip</button>
    </ion-header-bar>

    <div class="bar bar-subheader">
        <h3 class="title">Select documents to share along with your profile</h3>
    </div>

    <ion-pane class="has-footer">
        <ion-scroll>
            <ul class="list document-list">
                <li class="item item-checkbox" ng-repeat="doc in vm.documents track by $index" ng-if="!!doc.id">
                    <label class="checkbox">
                        <input type="checkbox" ng-model="doc.checked">
                    </label>
                    <div class="item-content">
                        <strong>{{doc.name}}</strong>
                        <span>{{doc.created | date : 'MMMM d, y'}}</span>
                    </div>
                    <oset-doc-view ng-if="!!doc.url" model="doc" btn-text="View"></oset-doc-view>
                </li>
            </ul>
            <div class="button-holder text-center">
                <a class="button button-clear manual-add" ng-click="vm.skipDocs()">
                    Send Profile Only
                </a>
            </div>
        </ion-scroll>
    </ion-pane>

    <ion-footer-bar>
        <div class="button-bar action-buttons">
            <button class="button primary" ng-click="vm.addDocumentsToShare();">
                continue ...
            </button>
        </div>
    </ion-footer-bar>

</ion-modal-view>

<!-- Modal step #2 -->
<ion-modal-view class="lockbox lockbox-share view-section compact-size" 
ng-class="{'compact-size': (vm.docsToShare && vm.docsToShare.length), 'min-size': (!vm.docsToShare || !vm.docsToShare.length)}"
ng-if="vm.shareStep === 2">

    <ion-header-bar>
        <button class="button button-clear" ng-show="vm.canAccess" ng-click="vm.back()">Back</button>
        <button class="button button-clear" ng-hide="vm.canAccess" ng-click="vm.cancel()">Cancel</button>
        <h1 class="title">Share Profile</h1>
    </ion-header-bar>

    <div class="bar bar-subheader" ng-if="vm.docsToShare.length">
        <h3 class="title">Sharing profile and {{vm.docsToShare.length}} Document{{vm.docsToShare.length === 1 ? '' : 's'}}</h3>
    </div>

    <ion-pane class="has-footer">
        <ion-scroll>
            <oset-manual-contact model="vm.contact" show-message="true" show-phone="false"></oset-manual-contact>
        </ion-scroll>
    </ion-pane>

    <ion-footer-bar>
        <div class="button-bar action-buttons">
            <button class="button secondary" ng-click="vm.cancel()">Cancel</button>
            <button class="button primary" ng-class="{'disabled': !(vm.contact.phone && vm.contact.email)}" ng-click="vm.shareDocuments()">Share</button>
        </div>
    </ion-footer-bar>

</ion-modal-view>