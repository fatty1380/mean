<ion-modal-view class="preview" ng-class="{'full-screen': !!vm.fullScreenMode}">
    <ion-header-bar ng-hide="!!vm.showControls">
        <button class="button button-clear button-primary preview-cancel-button" ng-click="vm.close($event);">Close</button>
        <h1 class="title">Preview</h1>
        <button ng-if="!vm.fullScreenMode" class="button button-icon ion-arrow-expand" ng-click="vm.enlarge($event)"></button>
        <button ng-if="vm.fullScreenMode" class="button button-icon ion-arrow-shrink" ng-click="vm.minimize($event)"></button>
    </ion-header-bar>

    <ion-content id="pdf-view-content" ng-class="{'controls-hidden': vm.showControls}" ng-click="vm.toggleFullScreen($event);">
        <ion-pane class="image-container" ng-if="!!vm.image">
            <div src="{{vm.trustSrc(vm.image)}}"  on-image-event='vm.onImageEvent({type: type, err: err})' imageviewer></div>
        </ion-pane>
        <div class="pdf-container" ng-if="!!vm.pdfURL.src">
            <pdfviewer
                src="{{ vm.trustSrc(vm.pdfURL.src) }}"
                scale="{{vm.scale}}"
                pages-to-show="{{vm.pages}}"
                on-page-load='vm.pageLoaded(page,total)'
                id="vm.viewerId"
                height="100%"
                load-progress='vm.loadProgress(loaded, total, state)'
                on-pdf-event='vm.onPdfEvent(type)'>
            </pdfviewer>
        </div>
    </ion-content>

    <ion-footer-bar class="" ng-hide="!!vm.showControls">
        <h1 class="title">{{ vm.document.name }}</h1>
    </ion-footer-bar>

</ion-modal-view>
