<ion-modal-view class="new-message-modal view-section min-size">

    <ion-header-bar align-title="center">
        <div class="buttons">
            <button class="button button-icon icon ion-ios-arrow-back" nav-direction="back" ng-click="vm.close()"></button>
        </div>
        <h1 class="title" ng-click="vm.viewUser($event)">{{vm.recipientName}}</h1>
    </ion-header-bar>

    <ion-pane class="has-footer">
        <ion-scroll delegate-handle="mainScroll">
            <ul class="list message-list">
                <li class="item" ng-repeat="message in vm.messages">
                   <!-- <img class="avatar" ng-if="vm.profileData.props.avatar&&message.direction===('outbound')" ng-src="{{vm.profileData.props.avatar}}" ng-class="message.direction===('outbound') ? 'avatar-left' : 'avatar-right'" alt=""/>-->
                    <div class="ico ico-avatarsmall" ng-class="message.direction===('outbound') ? 'avatar-right' : 'avatar-left'"></div>
                    <div class="item-content">
                        <div class="message">
                            <span>{{message.text}}</span>
                        </div>
                        <div class="top">
                            <span>
                                <i class="ico ico-timesmall"></i>{{message.created | date:'mediumTime'}}
                            </span>
                        </div>
                    </div>
                </li>
            </ul>
        </ion-scroll>
    </ion-pane>

    <ion-footer-bar class="bar bar-footer">
        <label class="item-input-wrapper message-textarea">
            <textarea id="message-field" placeholder="Message" ng-model="vm.message" focus-on="send"></textarea>
        </label>
        <button class="button button-positive" ng-click="vm.createMessage()">Send</button>
    </ion-footer-bar>

</ion-modal-view>
