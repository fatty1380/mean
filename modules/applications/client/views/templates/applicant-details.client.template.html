<div class="applicant" name="os-applicant.client-template">

    <div class="row">
        <div class="col-sm-12">
            <dl class="dl-horizontal">
                <dt><img ng-src="{{vm.profile.profileImageURL}}" class="img-responsive center-block"></dt>
                <dd>
                    <span class="strong">Cover Letter:</span>

                    <p class="panel panel-default letter" data-ng-bind-html="vm.application.introduction"></p>
                </dd>
                <dt>About:</dt>
                <dd ng-show="vm.application.canViewDocs">
                    <p class="panel panel-default letter" data-ng-bind-html="vm.driver.about"></p>
                </dd>
                <dd ng-hide="vm.application.canViewDocs">
                    <em class="text-muted" ng-bind-html="vm.text.pre.about"> </em>
                </dd>

                <dt>Messages:</dt>
                <dd ng-show="vm.application.canViewDocs">
                    <p ng-show="vm.application.messages && vm.application.messages.length">
                        {{vm.application.messages.length}} Total Messages
                        <a href="#messaging" class="pull-right" ng-click="vm.scrollToMessageFn()">
                            send a new message
                        </a>
                    </p>

                    <p class="panel panel-info letter"
                       ng-hide="vm.application.messages && vm.application.messages.length">
                        Now that you are connected, use the messaging functionality to communicate with the
                        {{vm.user.type === 'driver' ? 'Employer' : 'Applicant'}}.
                        You can ask and answer questions, and coordinate a telephone or in-person interview.
                        <br/>
                        <a href="#messaging" class="btn btn-primary"
                           ng-click="vm.scrollToMessageFn()">
                            Click Here to Begin
                        </a>
                    </p>
                </dd>
                <dd ng-hide="vm.application.canViewDocs">
                    <p>
                        <em class="text-muted" ng-if="vm.user.type === 'owner'"
                            ng-bind-html="vm.text.pre.messaging.owner"></em>
                        <em class="text-muted" ng-if="vm.user.type === 'driver'"
                            ng-bind-html="vm.text.pre.messaging.driver"></em>
                    </p>
                </dd>

                <dt>License:</dt>
                <dd>
                    <oset-license-inline model="vm.license" show-endorsements="false"></oset-license-inline>
                </dd>

                <dt ng-if="!!vm.license.endorsements.length">Endorsements</dt>
                <dd ng-if="!!vm.license.endorsements.length">
                    <oset-list-endorsements model="vm.license.endorsements"></oset-list-endorsements>
                </dd>

                <dt ng-if="vm.debug">raw</dt>
                <dd ng-if="vm.debug">
                    <pre>{{vm.driver.reports | prettyPrint}}</pre>
                </dd>

                <dt>Documents:</dt>
                <dd class="report-badges" ng-class="{'not-visible':!vm.canViewDocs}">

                <span class="fa-stack fa-3x report-badge mgn-right"
                      tooltip="Resume{{vm.application.canViewDocs ? (!!vm.driver.resume ? ' - click to download': ' - not available') : ''}}"
                      ng-class="{'available': !!vm.driver.resume}"
                      ng-click="vm.application.canViewDocs && vm.showDocument('resume', $event)">
                    <i class="fa fa-file fa-stack-2x"></i>
                    <span class="badge-info">
                        <span class="badge-info-inner fa fa-stack-1x">
                            <i class="fa fa-check fa-1x"></i>
                            <span class="title">Resume</span>
                        </span>
                    </span>
                </span>

                <span class="fa-stack fa-3x report-badge mgn-right"
                      tooltip="Motor Vehicle Report{{vm.application.canViewDocs ? (!!vm.driver.reports['mvr']  ? ' - click to download': ' - not available') : ''}}"
                      ng-class="{'available': !!vm.driver.reports['mvr']}"
                      ng-click="vm.application.canViewDocs && vm.showDocument('mvr', $event)">
                    <i class="fa fa-certificate fa-stack-2x"></i>
                    <span class="badge-info">
                        <span class="badge-info-inner fa fa-stack-1x">
                            <i class="fa fa-check fa-1x hidden"></i>
                            <span class="title">MVR</span>
                        </span>
                    </span>
                </span>

                <span class="fa-stack fa-3x report-badge mgn-right"
                      tooltip="Background Check{{vm.application.canViewDocs ? (!!vm.driver.reports['bgcheck']  ? ' - click to download': ' - not available') : ''}}"
                      ng-class="{'available': !!vm.driver.reports['bgcheck']}"
                      ng-click="vm.application.canViewDocs && vm.showDocument('bgcheck', $event)">
                    <i class="fa fa-certificate fa-stack-2x"></i>
                    <span class="badge-info">
                        <span class="badge-info-inner fa fa-stack-1x">
                        <i class="fa fa-times fa-1x hidden"></i>
                        <span class="title">BG</span>
                    </span>
                    </span>
                </span>

                <span class="fa-stack fa-3x report-badge mgn-right"
                      tooltip="National Criminal{{vm.application.canViewDocs ? (!!vm.driver.reports['ncrim']  ? ' - click to download': ' - not available') : ''}}"
                      ng-class="{'available': !!vm.driver.reports['ncrim']}"
                      ng-click="vm.application.canViewDocs && vm.showDocument('ncrim', $event)">
                    <i class="fa fa-certificate fa-stack-2x"></i>
                    <span class="badge-info">
                        <span class="badge-info-inner fa fa-stack-1x">
                        <i class="fa fa-question fa-1x hidden"></i>
                        <span class="title">N-CRIM</span>
                    </span>
                    </span>
                </span>

                <span class="fa-stack fa-3x report-badge mgn-right"
                      tooltip="Drug Screen{{vm.application.canViewDocs ? (!!vm.driver.reports['drugs'] ? ' - click to download': ' - not available') : ''}}"
                      ng-class="{'available': !!vm.driver.reports['drugs']}"
                      ng-click="vm.application.canViewDocs && vm.showDocument('drugs', $event)">
                    <i class="fa fa-certificate fa-stack-2x"></i>
                    <span class="badge-info">
                        <span class="badge-info-inner fa fa-stack-1x">
                        <i class="fa fa-question fa-1x hidden"></i>
                        <span class="title">DRUG</span>
                    </span>
                    </span>
                </span>


                </dd>
                <dd ng-hide="vm.application.canViewDocs">
                    <em class="text-muted">
                        <span ng-hide="vm.driver.reports.length || !!vm.driver.resume">No reports on file</span>
                        <span ng-show="vm.driver.reports.length || !!vm.driver.resume">You will be able to download reports once connected</span>
                    </em>
                </dd>
                <dd ng-show="vm.application.canViewDocs">
                    <em class="text-muted">
                        <span ng-hide="vm.driver.reports.length || !!vm.driver.resume">No reports on file</span>
                        <span ng-show="vm.driver.reports.length || !!vm.driver.resume">Click on available reports to view or download</span>

                    </em>
                </dd>

                <dt>Interests:</dt>
                <dd>
                    <span ng-repeat="interest in visibleInterests = (vm.driver.interests | filter: {value: true})"
                          class="label label-primary mgn-right">{{interest.key}}&nbsp;</span></span>

                    <span ng-show="!visibleInterests.length">
                        <span ng-show="!vm.canEdit">The applicant has not yet entered any job type preferences or interests.</span>
                    </span>
                </dd>

                <dt ng-init="vm.expCt=4" ng-class="{'pad-top':vm.application.canViewDocs}">
                    Experience:
                    <br ng-show="vm.application.canViewDocs"/>
                    <span ng-show="vm.application.canViewDocs && vm.driver.experience.length"
                          ng-switch="!vm.expCt && !!vm.driver.experience.length">
                        <button type="button" class="btn btn-oset-link"
                                ng-click="vm.expCt = 0;" ng-switch-when="false">
                            hide
                        </button>
                        <button type="button" class="btn btn-oset-link"
                                ng-click="vm.expCt = 4;" ng-switch-when="true">
                            show
                        </button>
                    </span>
                </dt>
                <dd ng-show="vm.application.canViewDocs">
                        <p class="text-center" ng-hide="!!vm.driver.experience.length">None Added</p>
                        <oset-experience-list ng-show="!!vm.driver.experience.length" list="vm.driver.experience"
                                              view-only="true" max-ct="vm.expCt">
                        </oset-experience-list>
                </dd>
                <dd ng-hide="vm.application.canViewDocs">
                    <em class="text-muted"
                        ng-bind-html="vm.experienceText || 'experience will be available once you have connected'">
                    </em>
                </dd>
            </dl>
        </div>
    </div>
</div>
