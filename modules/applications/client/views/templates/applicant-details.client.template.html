<div class="applicant" name="os-applicant.client-template">

    <div class="row">
        <div class="col-sm-12">
            <dl class="dl-horizontal">
                <dt><img ng-src="{{vm.profile.profileImageURL}}" class="img-responsive center-block"></dt>
                <dd>
                    <span class="strong">Cover Letter:</span>

                    <p class="panel panel-default letter" data-ng-bind-html="vm.application.introduction"></p>
                </dd>
                <dt>About:</dt>
                <dd ng-show="vm.application.canViewDocs">
                    <p class="panel panel-default letter" data-ng-bind-html="vm.driver.about"></p>
                </dd>
                <dd ng-hide="vm.application.canViewDocs">
                    <em class="text-muted" ng-bind-html="vm.text.pre.about"> </em>
                </dd>

                <dt>Messages:</dt>
                <dd ng-show="vm.application.canViewDocs">
                    <p ng-show="vm.application.messages && vm.application.messages.length">
                        {{vm.application.messages.length}} Total Messages
                        <a href="#messaging" class="pull-right" ng-click="vm.scrollToMessageFn()">
                            send a new message
                        </a>
                    </p>

                    <p class="panel panel-info letter"
                       ng-hide="vm.application.messages && vm.application.messages.length">
                        Now that you are connected, use the messaging functionality to communicate with the
                        {{vm.user.type === 'driver' ? 'Employer' : 'Applicant'}}.
                        You can ask and answer questions, and coordinate a telephone or in-person interview.
                        <br/>
                        <a href="#messaging" class="btn btn-primary"
                           ng-click="vm.scrollToMessageFn()">
                            Click Here to Begin
                        </a>
                    </p>
                </dd>
                <dd ng-hide="vm.application.canViewDocs">
                    <p>
                        <em class="text-muted" ng-if="vm.user.type === 'owner'"
                            ng-bind-html="vm.text.pre.messaging.owner"></em>
                        <em class="text-muted" ng-if="vm.user.type === 'driver'"
                            ng-bind-html="vm.text.pre.messaging.driver"></em>
                    </p>
                </dd>

                <dt>License:</dt>
                <dd>
                    <oset-license-inline model="vm.license" show-endorsements="false"></oset-license-inline>
                </dd>

                <dt ng-if="!!vm.license.endorsements.length">Endorsements</dt>
                <dd ng-if="!!vm.license.endorsements.length">
                    <oset-list-endorsements model="vm.license.endorsements"></oset-list-endorsements>
                </dd>

                <dt ng-if="vm.debug">raw</dt>
                <dd ng-if="vm.debug">
                    <pre>{{vm.driver.reports | prettyPrint}}</pre>
                </dd>

                <dt>Documents:</dt>

                <oset-document-list driver="vm.driver" application="vm.application" display-mode="full" doc-access="vm.application.canViewDocs"></oset-document-list>

                <dt>Interests:</dt>
                <dd class="label-list">
                    <div ng-repeat="interest in visibleInterests = (vm.driver.interests | filter: {value: true})"
                          class="label label-primary mgn-right">{{interest.key}}&nbsp;</div></span>

                    <span ng-show="!visibleInterests.length">
                        <span ng-show="!vm.canEdit">The applicant has not yet entered any job type preferences or interests.</span>
                    </span>
                </dd>

                <dt ng-init="vm.expCt=4" ng-class="{'pad-top':vm.application.canViewDocs}">
                    Experience:
                    <br ng-show="vm.application.canViewDocs"/>
                    <span ng-show="vm.application.canViewDocs && vm.driver.experience.length"
                          ng-switch="!vm.expCt && !!vm.driver.experience.length">
                        <button type="button" class="btn btn-oset-link"
                                ng-click="vm.expCt = 0;" ng-switch-when="false">
                            hide
                        </button>
                        <button type="button" class="btn btn-oset-link"
                                ng-click="vm.expCt = 4;" ng-switch-when="true">
                            show
                        </button>
                    </span>
                </dt>
                <dd ng-show="vm.application.canViewDocs">
                        <p class="text-center" ng-hide="!!vm.driver.experience.length">None Added</p>
                        <oset-experience-list ng-show="!!vm.driver.experience.length" list="vm.driver.experience"
                                              view-only="true" max-ct="vm.expCt">
                        </oset-experience-list>
                </dd>
                <dd ng-hide="vm.application.canViewDocs">
                    <em class="text-muted"
                        ng-bind-html="vm.experienceText || 'experience will be available once you have connected'">
                    </em>
                </dd>
            </dl>
        </div>
    </div>
</div>
