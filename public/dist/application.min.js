"use strict";function fitVidsDirective(){if(!document.getElementById("fit-vids-style")){var div=document.createElement("div"),ref=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0],cssStyles="&shy;<style>.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>";div.className="fit-vids-style",div.id="fit-vids-style",div.style.display="none",div.innerHTML=cssStyles,ref.parentNode.insertBefore(div,ref)}return{restrict:"A",link:function(scope,element,attr){var videos,selectors=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];attr.customSelector&&selectors.push(attr.customSelector),videos=element[0].querySelectorAll(selectors.join(",")),angular.forEach(videos,function(item){var height,width,aspectRatio,$item=angular.element(item);if(!("embed"===item.tagName.toLowerCase()&&"object"===$item.parent().tagName&&$item.parent().length||$item.parent().hasClass(".fluid-width-video-wrapper"))){if(height="object"===item.tagName.toLowerCase()||$item.attr("height")?parseInt($item.attr("height"),10):$item.height(),width=isNaN(parseInt($item.attr("width"),10))?$item.width():parseInt($item.attr("width"),10),aspectRatio=height/width,!$item.attr("id")){var videoID="fitvid"+Math.floor(999999*Math.random());$item.attr("id",videoID)}$item.wrap('<div class="fluid-width-video-wrapper" />').parent().css("padding-top",100*aspectRatio+"%"),$item.removeAttr("height").removeAttr("width")}})}}}var ApplicationConfiguration=function(){var applicationModuleName="outset",applicationModuleVendorDependencies=["ngSanitize","ngAnimate","ngResource","ngMessages","ui.router","ui.router.tabs","ui.bootstrap","ui.mask","angularFileUpload","ngMap","toastr","ngImgCrop","duScroll","angularMoment","ngSignaturePad"],registerModule=function(moduleName,dependencies){angular.module(moduleName,dependencies||[]),angular.module(applicationModuleName).requires.push(moduleName)};return{applicationModuleName:applicationModuleName,applicationModuleVendorDependencies:applicationModuleVendorDependencies,registerModule:registerModule}}();!function(){angular.module(ApplicationConfiguration.applicationModuleName,ApplicationConfiguration.applicationModuleVendorDependencies),angular.module(ApplicationConfiguration.applicationModuleName).config(["$locationProvider",function($locationProvider){$locationProvider.html5Mode(!0).hashPrefix("!")}]).config(["$logProvider",function($logProvider){$logProvider.debugEnabled(!0)}]),angular.element(document).ready(function(){"#_=_"===window.location.hash&&(window.location.hash="#!"),angular.bootstrap(document,[ApplicationConfiguration.applicationModuleName])})}(),function(){ApplicationConfiguration.registerModule("addresses")}(),function(){ApplicationConfiguration.registerModule("applications")}(),function(){ApplicationConfiguration.registerModule("articles")}(),function(){ApplicationConfiguration.registerModule("bgchecks")}(),function(){ApplicationConfiguration.registerModule("chat")}(),function(){ApplicationConfiguration.registerModule("companies")}(),function(){ApplicationConfiguration.registerModule("core")}(),function(){ApplicationConfiguration.registerModule("documents")}(),function(){ApplicationConfiguration.registerModule("drivers")}(),function(){ApplicationConfiguration.registerModule("feeds")}(),function(){ApplicationConfiguration.registerModule("jobs")}(),function(){ApplicationConfiguration.registerModule("license")}(),function(){ApplicationConfiguration.registerModule("location")}(),function(){ApplicationConfiguration.registerModule("payments")}(),function(){ApplicationConfiguration.registerModule("reviews")}(),function(){ApplicationConfiguration.registerModule("schedule")}(),angular.module("theme",[]).run(["$templateCache",function($templateCache){$templateCache.put("/modules/addresses/views/address-list-edit.client.template.html",'<!-- os-address-list : address-list.client.template.html -->\n<section ng-class="{\'row\' : !vm.fullWidth}">\n    <div ng-repeat="(a,address) in vm.addresses track by a" ng-class="{\'col-sm-4\' : !vm.fullWidth}"\n         ng-animate="\'animate\'" ng-form="vm.addressForms[$index]">\n        <div ng-class="{\'form-group\': !vm.fullWidth}">\n            <os-edit-address model="vm.addresses[a]" can-remove="vm.canRemove"></os-edit-address>\n        </div>\n    </div>\n\n    <div ng-show="vm.canAdd">\n        <button type="button" class="btn btn-oset-link center-block" value="add" ng-click="vm.addAddress()">\n            <i class="fa fa-plus"></i>\n            <span ng-if="!vm.addresses.length">add address details ...</span>\n            <span ng-if="!!vm.addresses.length">add another address</span>\n        </button>\n    </div>\n\n    <div ng-if="!vm.fullWidth && (!vm.addresses || vm.address.length < 1)" class="text-center">Fill out your profile by\n        adding an address!\n    </div>\n</section>\n'),$templateCache.put("/modules/addresses/views/address-list.client.template.html",'<!-- os-address-list : address-list.client.template.html -->\n<section ng-class="{\'row\' : !vm.fullWidth}">\n    <div ng-repeat="(a,address) in vm.addresses track by a" ng-class="{\'col-sm-4\' : !vm.fullWidth}"\n         ng-animate="\'animate\'">\n        <div ng-class="{\'form-group\': !vm.fullWidth}">\n            <os-address data-ng-if="!vm.inlineEdit" address-count="vm.addresses.length" model="vm.addresses[a]" is-editing="vm.isEditing" can-edit="vm.canEdit" can-remove="vm.canRemove" remove="vm.removeAddress"></os-address>\n            <os-edit-address data-ng-if="vm.inlineEdit" model="vm.addresses[a]" can-remove="vm.canRemove" remove="vm.removeAddress"></os-edit-address>\n        </div>\n    </div>\n\n    <div ng-show="vm.canAdd">\n        <button type="button" class="btn btn-oset-link center-block" value="add" ng-click="vm.addAddress()">\n            <i class="fa fa-plus"></i>\n            <span ng-if="!vm.addresses.length">add address details ...</span>\n            <span ng-if="!!vm.addresses.length">add another address</span>\n        </button>\n\n    </div>\n\n    <div ng-if="!vm.fullWidth && (!vm.addresses || vm.address.length < 1)" class="text-center">Fill out your profile by\n        adding an address!\n    </div>\n</section>\n'),$templateCache.put("/modules/addresses/views/address.client.template.html",'<!-- os-address : address.client.template.html -->\n<div class="panel" ng-if="!!vm.address">\n     <div class="panel-heading" ng-if="vm.addressCount > 1 || vm.canEdit">\n        <span class="h4">{{vm.getAddressType()}}</span>\n        <button data-ng-if="vm.canEdit" type="button" class="pull-right btn-link" value="edit"\n                ng-click="vm.editAddress(this)">\n            <i class="fa fa-pencil"></i>\n        </button>\n        <button data-ng-show="vm.canRemove()" type="button" class="pull-right btn-link" value="delete"\n                ng-click="vm.removeAddress">\n            <i class="fa fa-trash-o"></i>\n        </button>\n    </div>\n    <div class="panel-body">\n        <address>\n            <div ng-repeat="(s,street) in vm.address.streetAddresses track by s">\n                {{vm.address.streetAddresses[s]}}\n            </div>\n            {{!!vm.address.city ? vm.address.city + \', \': \'\'}}{{vm.address.state}} {{vm.address.zipCode}}\n            <br/>\n        </address>\n    </div>\n</div>\n\n\n<script type="text/ng-template" id="addressEditModal.html" ng-if="vm.canEdit">\n\n    <div class="modal-header">\n        <span class="modal-title h3 text-center">Add Address</span>\n\n        <div class="pull-right">\n            <button class="btn btn-text" ng-click="$dismiss(\'cancel\')">X</button>\n        </div>\n    </div>\n\n    <form role="form" data-ng-submit="signin()" class="signin form-horizontal" spellcheck="false" novalidate>\n        <div class="modal-body">\n            <os-edit-address model="vm.address" enable-edit="true"></os-edit-address>\n        </div>\n\n        <div class="modal-footer">\n            <div class="text-center form-group">\n                <button type="submit" class="btn btn-oset-primary">{{vm.text.submit || \'Save\' }}</button>\n            </div>\n            <div data-ng-show="error" class="text-center text-danger">\n                <strong data-ng-bind="error"></strong>\n            </div>\n        </div>\n    </form>\n\n</script>\n'),$templateCache.put("/modules/addresses/views/edit-address.client.template.html",'<!-- os-edit-address : edit-address.client.template.html -->\n<section class="well">\n    <div class="animate-show" ng-animate="\'animate\'">\n\n        <div ng-class="{\'input-group\' : !!vm.address.type}">\n\n            <span class="uib-dropdown input-group-btn" uib-dropdown is-open="vm.ddlStatus.isopen" on-toggle="vm.toggled(open)">\n                <button type="button" class="btn btn-oset-link uib-dropdown-toggle" uib-dropdown-toggle\n                        ng-class="{\'btn-block\':!vm.address.type}" >\n                    <b><span ng-show="!vm.address.type">select address type<span class="caret"></span></span>\n                    <span ng-show="!!vm.address.type">address type:</span></b>\n                </button>\n                <ul class="uib-dropdown-menu" role="menu">\n                    <li ng-repeat="type in vm.types"><a href="#" ng-click="vm.setType(type, $event)">{{type}}</a></li>\n                    <li class="divider"></li>\n                    <li><a ng-click="vm.setType(\'other\', $event)">other ...</a></li>\n                </ul>\n            </span>\n\n            <p class="form-control-static" ng-show="vm.address.type !== \'other\' && !!vm.address.type"><b>{{vm.address.type | titleCase }}</b></p>\n            <input type="text" id="typeOther" name="typeOther" class="form-control" data-ng-model="vm.address.typeOther"\n                   data-ng-show="vm.address.type === \'other\'" placeholder="Address Type"/>\n            <!-- /btn-group -->\n\n        </div>\n\n        <div ng-repeat="(s,street) in vm.address.streetAddresses track by s">\n            <input type="text" id="street-address" name="street-address" class="form-control"\n                   ng-required="false"\n                   data-ng-model="vm.address.streetAddresses[s]"\n                   ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 1000, \'blur\': 0 } }"\n                   placeholder="Street Address {{$index+1}}">\n        </div>\n\n        <label class="sr-only" for="city">City</label>\n        <input type="text" id="city" name="city" class="form-control" data-ng-model="vm.address.city"\n               ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 1000, \'blur\': 0 } }"\n               placeholder="City" ng-required="false">\n\n        <label class="sr-only" for="state">State</label>\n        <input type="text" id="state" name="state" class="form-control" data-ng-model="vm.address.state"\n               ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 1000, \'blur\': 0 } }"\n               placeholder="State" ng-required="false">\n\n        <label class="sr-only" for="address-zip">Zip Code</label>\n        <input type="text" id="address-zip" name="zip" class="form-control" data-ng-model="vm.address.zipCode"\n               ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 1000, \'blur\': 0 } }"\n               placeholder="ZIP">\n    </div>\n</section>\n'),$templateCache.put("/modules/applications/views/form/authorization.client.template.html",'<section ng-form="releaseAuthForm">\n\n    <div class="row">\n        <div class="col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 smaller">\n            <div class="well" ng-show="vm.releaseType === \'preEmployment\'">\n                <span ng-bind-html="vm.releaseText"></span>\n            </div>\n        </div>\n    </div>\n\n\n    <div class="row mgn-vert" ng-hide="!!vm.release.signature.dataUrl && !!vm.release.signature.timestamp">\n        <div class="col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3">\n            <h4 class="text-center">Please sign here:</h4>\n\n            <div signature-pad id="signature" signature="vm.release.signature" close="vm.updateSignatureStatus()"\n                 methods="vm.signatureMethods"\n                 ng-class="{\'ng-submitted\':vm.releaseAuthForm.$submitted, \'ng-invalid\': (!vm.isSigValid || vm.releaseAuthForm.signature_input.$invalid)}"></div>\n            <input type="hidden" ng-model="vm.release.signature" name="signature_input" ng-required="true"/>\n        </div>\n    </div>\n\n    <div class="row mgn-vert" ng-show="!!vm.release.signature.dataUrl && !!vm.release.signature.timestamp">\n        <section class="form-inline form-paper">\n            <div class="col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6 form-group text-center">\n                <img class="img-responsive" ng-src="{{vm.release.signature.dataUrl}}">\n            </div>\n            <div class="col-sm-offset-2 col-sm-8 col-md-offset-3 col-md-6 form-group">\n                <p class="form-control-static pull-left">\n                    <strong>Signed:</strong> {{vm.release.signature.timestamp | amDateFormat : "LL LT"}}\n                </p>\n\n                <button type="button" ng-click="vm.release.signature = {}" class="btn btn-oset-link pull-right">\n                    <i class="fa fa-times"></i>&nbsp;clear\n                </button>\n            </div>\n        </section>\n    </div>\n\n\n    <div class="row mgn-vert">\n\n            <section class="form-inline form-paper text-center">\n                <div class="col-sm-8 form-group">\n                    <label for="authorizationName">Name:</label>\n                    <input type="text" class="form-control" id="firstName" ng-model="vm.release.name.first"\n                           placeholder="First" ng-required="true">\n                    <input type="text" class="form-control" id="middleName" ng-model="vm.release.name.middle"\n                           placeholder="Middle" ng-required="true">\n                    <input type="text" class="form-control" id="lastName" ng-model="vm.release.name.last"\n                           placeholder="Last" ng-required="true">\n                </div>\n                <div class="col-sm-4 form-group">\n                    <label for="dateOfBirth">Date of Birth:</label>\n                    <date-input model="vm.release.dob" is-required="true" name="dateOfBirth" class="form-control"></date-input>\n                </div>\n            </section>\n    </div>\n</section>\n'),$templateCache.put("/modules/applications/views/form/complete.client.template.html",'<section class="workflow-stage-form">\n\n    <section ng-if="vm.gw.models.application.isDraft" ng-hide="!!vm.success">\n        <div class="controls col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2">\n            <div class="text-center text-muted" ng-show="!vm.gw.models.application.introduction">\n                Please introduce yourself to the employer here\n            </div>\n                    <textarea os-html-edit minimal type="text" data-ng-model="vm.gw.models.application.introduction"\n                              name="message" id="message" class="editor-md" ng-required="true"></textarea>\n        </div>\n\n        <div class="row" ng-hide="!!vm.success">\n            <div class="col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2">\n                <p class="text-center">\n                    Your application is now ready to submit to {{vm.gw.models.company.name}}. Review the information\n                    below,\n                    and click \'Submit\' below when ready submit your application.\n                </p>\n            </div>\n        </div>\n\n        <div class="row" ng-hide="!!vm.success">\n            <div class="col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 well text-center">\n                By submitting this application, you agree to the\n                <tos>Outset terms and conditions</tos>\n                , as well as those governing the pre-employment check process.\n\n                <div ng-if="vm.enableFinalCheckbox" class="checkbox text-center">\n                    <label class="panel" style="padding: 10px 20px 10px 40px"\n                           ng-class="{\'panel-success\':!!vm.gw.models.application.agreement, \'panel-danger\':!vm.gw.models.application.agreement}">\n                        <input type="checkbox" data-ng-model="vm.gw.models.application.agreement"\n                               data-ng-required="true"\n                               name="disclaimer"/> I Agree\n                    </label>\n                </div>\n\n            </div>\n        </div>\n\n\n    </section>\n\n    <section ng-show="!!vm.success">\n\n        <div class="row">\n            <div class="col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2">\n                <h3 class="text-center">\n                    <span class="label label-success">Success!</span>\n                </h3>\n\n                <p class="pnl-info mgn-top">\n                    Congratulations, you have applied to a position with {{vm.gw.models.company.name}}. You can now look at your\n                    active job applications, browse job listings, or return to your profile home.\n                </p>\n\n                <p class="text-center">\n                    <button type="button" class="btn btn-oset-primary" ui-sref="applications.view">View Applications\n                    </button>\n                    <button type="button" class="btn btn-oset-primary" ui-sref="jobs.list">Job Listings</button>\n                    <button type="button" class="btn btn-oset-primary" ui-sref="users.view">Home</button>\n                </p>\n            </div>\n        </div>\n    </section>\n\n    <section ng-show="!vm.success && !vm.gw.models.application.isDraft">\n\n        <div class="row">\n            <div class="col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2">\n                <h3 class="text-center">\n                    Current Application Status: <os-application-status-badge ng-model="vm.gw.models.application"></os-application-status-badge>\n                </h3>\n\n                <p class="pnl-info mgn-top">\n                    Congratulations, you have successfully submitted your application for a position with\n                    {{vm.gw.models.company.name}}. You can now look at your active job applications, browse\n                    job listings, or return to your profile home page.\n                </p>\n\n                <p class="text-center">\n                    <button type="button" class="btn btn-oset-primary" ui-sref="applications.list">Active Applications</button>\n                    <button type="button" class="btn btn-oset-primary" ui-sref="jobs.list">Job Listings</button>\n                    <button type="button" class="btn btn-oset-primary" ui-sref="users.view">Home</button>\n                </p>\n            </div>\n        </div>\n    </section>\n\n</section>\n'),$templateCache.put("/modules/applications/views/form/documents.client.template.html",'<section class="workflow-stage-form" ng-form="vm.subForm3">\n\n    <div class="col-sm-12">\n\n        <div class="col-sm-6">\n            <div class="text-center control-label">Profile Picture</div>\n            <os-picture-uploader model="vm.gw.models.profile" mode="user"\n                                 auto-crop="true" allow-blank="true"\n                                 title="Profile Picture" is-editing="vm.picIsEditing"></os-picture-uploader>\n        </div>\n        <div class="col-sm-6">\n            <oset-file-upload mode="resume" allow-blank="true" model-path="resume"\n                              model="vm.gw.models.profile"\n                              title="Resume Upload" auto-upload="true"></oset-file-upload>\n        </div>\n    </div>\n\n</section>\n'),$templateCache.put("/modules/applications/views/form/driver-info.client.template.html",'<section class="workflow-stage-form">\n    <driver-info-form ng-form="vm.driverInfoForm" gateway="vm.gw" display-mode="min"\n                      text="vm.about" class="col-sm-12" methods="vm.subformMethods">\n    </driver-info-form>\n</section>\n'),$templateCache.put("/modules/applications/views/form/payment.client.template.html",'<section class="workflow-stage-form">\n\n    <div class="row" ng-switch="vm.gw.models.gateway.payment">\n        <div ng-switch-when="company" class="col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2">\n            <p class="text-center">\n                The cost of your background check and other reports will be covered by {{vm.gw.models.company.name}}.\n                Once the reports are complete, the results will be part of your profile and yours to keep.\n            </p>\n        </div>\n    </div>\n\n</section>\n'),$templateCache.put("/modules/applications/views/form/report-fields.client.template.html",'<section class="workflow-stage-form" ng-form="vm.reportForm">\n    <oset-custom-question-form class="form-horizontal" gateway="vm.gw" model="vm.gw.models.applicant" report="vm.gw.models.report" methods="vm.subformMethods"></oset-custom-question-form>\n</section>\n'),$templateCache.put("/modules/applications/views/form/reports.client.template.html",'<section class="workflow-stage-form">\n\n    <div class="row">\n        <div class="col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2">\n            <p class="text-center">\n                As a part of your application, {{vm.gw.models.company.name}} has requested that you fill in data\n                requried to run a pre-employment check. This data will only be used if {{vm.gw.models.company.name}}\n                decides to proceed with your application and interview process.\n            </p>\n        </div>\n    </div>\n\n    <div class="row">\n        <div class="col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2">\n            <div class="panel panel-default">\n                <div class="panel-heading">\n                    <h4 class="text-center">Requested Report(s)</h4>\n                </div>\n                <div class="panel-body">\n                    <ul>\n                        <li>{{vm.gw.models.report.title}}</li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n\n</section>\n'),$templateCache.put("/modules/applications/views/form/user-info.client.template.html",'<section class="workflow-stage-form">\n    <user-signup-form ng-form="vm.subForm1" model="vm.gw.models.profile" gateway="vm.gw" methods="vm.subformMethods"></user-signup-form>\n</section>\n'),$templateCache.put("/modules/applications/views/templates/app-list-item-self.client.template.html",'<article class="post job-post col-sm-12 applicant">\n    <!--ng-show="vm.visibleId === vm.application._id || !vm.visibleId">-->\n    <div class="post-inner">\n        <div class="content lead-content">\n            <img ng-src="{{vm.application.company.profileImageURL}}"\n                 ng-if="!!vm.application.company.profileImageURL"\n                 class="col-xs-hidden col-sm-2 img-responsive medium">\n\n            <div ng-class="{\'col-sm-10\':!!vm.application.company.profileImageURL, \'col-sm-12\':!vm.application.company.profileImageURL}">\n                <h3 class="post-title" ui-sref="jobs.view({jobId: vm.job._id})">{{vm.job.name}}</h3>\n\n                <div class="row"\n                     ui-sref="applications.view({\'applicationId\': vm.application._id})"\n                     ng-class="{\'disabled\': vm.application.disabled}">\n\n                    <dl class="dl-horizontal" style="margin-bottom: 0;">\n                        <dt>Applied On</dt>\n                        <dd>{{vm.application.created | amDateFormat : \'LL LT\'}}</dd>\n                        <dt>Status</dt>\n                        <dd>\n                            <os-application-status-badge\n                                    ng-model="vm.application"></os-application-status-badge>\n                        </dd>\n\n                        <dt ng-hide="!!vm.application.messages && !!vm.application.messages.length">\n                            Messages\n                        </dt>\n                        <dd ng-hide="!!vm.application.messages && !!vm.application.messages.length">\n                            <span ng-show="!!vm.application.isConnected">\n                                <p style="margin-bottom: 2px;">\n                                    discuss the job and schedule an interview\n                                    <a ui-sref="applications.view({applicationId: vm.application._id, target: \'message\'})">\n                                        by sending a message\n                                    </a>\n                                </p>\n                            </span>\n                            <span ng-hide="!!vm.application.isConnected">\n                                <p style="margin-bottom: 2px;">\n                                    <em class="text-muted">chat available once connected</em></span>\n                                </p>\n                            </span>\n                        </dd>\n                    </dl>\n\n                </div>\n            </div>\n        </div>\n\n        <div class="content body">\n            <!--meta-->\n            <div class="row">\n                <div class="pull-right">\n                    <button type="button" class="btn-tab btn-link read-more strong"\n                            ng-click="vm.showTab()" ng-class="{\'hidden\':!vm.visibleId}">\n                        <i class="fa fa-close fa-lg mgn-right"></i>\n                    </button>\n                    <button type="button" class="btn-tab btn-link read-more strong"\n                            ng-click="vm.showTab(vm.application._id, \'application\')"\n                            ng-class="{\'active\': vm.visibleId === vm.job._id && vm.visibleTab === \'application\'}">\n                        <i class="fa fa-lg fa-file-text mgn-right"></i> Your Application\n                    </button>\n                    <button type="button" class="btn-tab btn-link read-more strong mgn-left"\n                            ng-click="vm.showTab(vm.application._id, \'details\')"\n                            ng-class="{\'active\': vm.visibleId === vm.job._id && vm.visibleTab === \'details\'}">\n                        <i class="fa fa-lg fa-info mgn-right"></i> Job Description\n                    </button>\n                    <button type="button" class="btn-tab btn-link read-more strong mgn-left"\n                            ng-show="vm.application.isConnected || !!vm.application.messages.length"\n                            uib-tooltip="{{vm.application.messagingText || vm.messagingText}}"\n                            tooltip-popup-delay="1000"\n                            ui-sref="applications.view({applicationId: vm.application._id})">\n                        {{vm.application.newMessages ? vm.application.newMessages + \' New \' :\n                        \'\'}}Message{{vm.application.newMessages === 1 ? \'\': \'s\'}}&nbsp;<i\n                            class="fa fa-comments-o fa-lg mgn-left"></i>\n                    </button>\n                </div>\n            </div>\n        </div>\n\n        <div class="content body">\n            <div class="row  tab-body" ng-show="vm.visibleId === vm.application._id">\n                <div class="post-entry col-sm-10 col-sm-offset-1" ng-show="vm.visibleTab === \'application\'">\n                    <div class="post-entry col-sm-10 col-sm-offset-1">\n                        <dt>Intro</dt>\n                        <dd ng-bind-html="vm.application.introduction"></dd>\n                    </div>\n                </div>\n\n                <div class="post-entry col-sm-10 col-sm-offset-1" ng-show="vm.visibleTab === \'details\'">\n                    <h4>Description</h4>\n\n                    <p ng-bind-html="vm.job.description"></p>\n                    <h4>Requirements</h4>\n\n                    <p ng-bind-html="vm.job.requirements"></p>\n                </div>\n            </div>\n            <a class="read-more strong pull-right" ng-click="vm.visibleId = null"\n               ng-class="{\'hidden\':!vm.visibleId}"> </a>\n        </div>\n\n        <!--//content-->\n    </div>\n    <!--//post-inner-->\n</article>\n'),$templateCache.put("/modules/applications/views/templates/app-list-item-summary.client.template.html",'<article class="post applicant">\n\n    <!--ui-sref="applications.view({\'applicationId\': vm.application._id})"-->\n    <div class="row tab-body-item applicant_item animated {{vm.visible() ? \'fadeIn\' : \'fadeOut\'}}"\n         ng-show="vm.visible()"\n         ng-class="{\'disabled\': vm.application.disabled}">\n\n        <div class="row">\n            <div class="col-sm-12">\n                <h4 class="stronger">\n                    {{vm.getMaskedDisplayName(vm.application)}}\n                    <br class="hidden-lg hidden-md">\n                    <span class="pull-right">\n                        <small>Status:</small>\n                        <os-application-status-badge ng-model="vm.application"></os-application-status-badge>\n                    </span>\n                </h4>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="col-lg-1 col-md-2 col-sm-3 col-xs-4 center-block">\n                <img ng-src="{{vm.applicant.profileImageURL}}" class="img-responsive">\n            </div>\n\n            <div class="col-lg-9 col-md-10 col-sm-9 col-xs-8">\n                <oset-application-summary ng-model="vm.application" ng-show="vm.visibleTab === \'applicants\'"\n                                          display-mode="inline"></oset-application-summary>\n\n                <dl class="dl-horizontal" ng-="vm.visibleTab === \'messaging\'">\n                    <span ng-repeat="message in vm.application.messages | limitTo: -3">\n                        <dt>{{message.sender.displayName}}</dt>\n                        <dd><span ng-bind-html="message.text"></span>\n                            <small class="smaller text-muted mgn-left">\n                                {{message.created | amDateFormat:\'L LT\'}}\n                            </small>\n                        </dd>\n                    </span>\n\n                    <span ng-if="!vm.application.connection">\n                        <h4 class="text-muted text-center">\n                            Please review this application to send messages\n                            </h4>\n                    </span>\n\n                    <span ng-if="!!vm.application.connection && !(vm.application.messages && vm.application.messages.length)">\n                        <h4 class="text-muted text-center">No Messages</h4>\n                    </span>\n                </dl>\n\n                <div ng-show="vm.visibleTab === \'documents\'">\n                    <pre ng-if="vm.debug">{{vm.application.user.reports}}</pre>\n                    <oset-document-list model="vm.application.user" application="vm.application" display-mode="full"\n                                        doc-access="vm.application.canViewDocs"></oset-document-list>\n                </div>\n\n            </div>\n\n            <br class="hidden-lg"/>\n\n            <div class="col-lg-2 col-md-3 col-xs-12 text-right">\n                <a class="btn-tab btn-link strong pull-right"\n                   style="white-space: nowrap"\n                   ui-sref="applications.view({applicationId: vm.application._id, action: \'read\'})">\n                    Full Profile\n                    <i class="fa fa-external-link fa-lg mgn-left"></i>\n                </a>\n                <br class="visible-lg mgn-vert"/>\n                <a class="btn-tab btn-link strong pull-right"\n                   style="white-space: nowrap"\n                   uib-tooltip="{{vm.application.messagingText || vm.messagingText}}"\n                   tooltip-popup-delay="1000"\n                   ui-sref="applications.view({applicationId: vm.application._id, action: \'message\'})">\n\n                    <span class="badge" ng-show="!!vm.application.newMessages">{{vm.application.newMessages}}</span>\n                    Messaging\n                    <i class="fa fa-comments-o fa-lg mgn-left"></i>\n                </a>\n                <br class="visible-lg mgn-vert pull-right"/>\n\n                <a class="btn-tab btn-link strong"\n                   style="white-space: nowrap"\n                   uib-tooltip="{{vm.application.documentText || vm.documentText}}"\n                   tooltip-popup-delay="1000"\n                   ui-sref="drivers.documents({driverId: vm.application.user.id})">\n                    Documents\n                    <i class="fa fa-file-text fa-lg mgn-left"></i>\n                </a>\n                <br class="visible-lg mgn-vert"/>\n\n                <!--TODO: Change the "Reject" into a state rather than a callback-->\n                <a class="btn-tab btn-link strong"\n                   ng-hide="vm.application.isRejected"\n                   style="white-space: nowrap"\n                   ng-click="vm.setApplicationStatus(vm.application, \'rejected\', $event)">\n                    Reject\n                    <i class="fa fa-close fa-lg mgn-left"></i>\n                </a>\n                <a class="btn-tab btn-link strong"\n                   ng-show="vm.application.isRejected"\n                   style="white-space: nowrap"\n                   ng-click="vm.setApplicationStatus(vm.application, \'read\', $event)">\n                    Restore\n                    <i class="fa fa-undo fa-lg mgn-left"></i>\n                </a>\n                <br class="visible-lg mgn-vert"/>\n            </div>\n        </div>\n    </div>\n    <!--//post-inner-->\n</article>\n'),
$templateCache.put("/modules/applications/views/templates/applicant-details.client.template.html",'<div class="applicant" name="os-applicant.client-template">\n\n    <div class="row">\n        <div class="col-sm-12">\n            <dl class="dl-horizontal">\n                <dt><img ng-src="{{vm.applicant.profileImageURL}}" class="img-responsive center-block"></dt>\n                <dd>\n                    <span class="strong">Cover Letter:</span>\n\n                    <p class="panel panel-default letter" data-ng-bind-html="vm.application.introduction"></p>\n                </dd>\n                <dt>About:</dt>\n                <dd ng-show="vm.application.canViewDocs">\n                    <p class="panel panel-default letter" data-ng-bind-html="vm.applicant.about"></p>\n                </dd>\n                <dd ng-hide="vm.application.canViewDocs">\n                    <em class="text-muted" ng-bind-html="vm.text.pre.about"> </em>\n                </dd>\n\n                <dt>Messages:</dt>\n                <dd ng-show="vm.application.canViewDocs">\n                    <p ng-show="vm.application.messages && vm.application.messages.length">\n                        {{vm.application.messages.length}} Total Messages\n                        <a href="#messaging" class="pull-right" ng-click="vm.scrollToMessageFn()">\n                            send a new message\n                        </a>\n                    </p>\n\n                    <p class="panel panel-info letter"\n                       ng-hide="vm.application.messages && vm.application.messages.length">\n                        Now that you are connected, use the messaging functionality to communicate with the\n                        {{vm.user.type === \'driver\' ? \'Employer\' : \'Applicant\'}}.\n                        You can ask and answer questions, and coordinate a telephone or in-person interview.\n                        <br/>\n                        <a href="#messaging" class="btn btn-primary"\n                           ng-click="vm.scrollToMessageFn()">\n                            Click Here to Begin\n                        </a>\n                    </p>\n                </dd>\n                <dd ng-hide="vm.application.canViewDocs">\n                    <p>\n                        <em class="text-muted" ng-if="vm.user.type === \'owner\'"\n                            ng-bind-html="vm.text.pre.messaging.owner"></em>\n                        <em class="text-muted" ng-if="vm.user.type === \'driver\'"\n                            ng-bind-html="vm.text.pre.messaging.driver"></em>\n                    </p>\n                </dd>\n\n                <dt>License:</dt>\n                <dd>\n                    <oset-license-inline model="vm.applicant.license" show-endorsements="false"></oset-license-inline>\n                </dd>\n\n                <dt ng-if="!!vm.applicant.license.endorsements.length">Endorsements</dt>\n                <dd ng-if="!!vm.applicant.license.endorsements.length">\n                    <oset-list-endorsements model="vm.applicant.license.endorsements"></oset-list-endorsements>\n                </dd>\n\n                <dt ng-if="vm.debug">raw</dt>\n                <dd ng-if="vm.debug">\n                    <pre>{{vm.applicant.reports | prettyPrint}}</pre>\n                </dd>\n\n                <dt>Documents:</dt>\n\n                <oset-document-list model="vm.applicant" application="vm.application" display-mode="full" doc-access="vm.application.canViewDocs"></oset-document-list>\n\n                <dt>Interests:</dt>\n                <dd class="label-list">\n                    <div ng-repeat="interest in visibleInterests = (vm.applicant.interests | filter: {value: true})"\n                          class="label label-primary mgn-right">{{interest.key}}&nbsp;</div></span>\n\n                    <span ng-show="!visibleInterests.length">\n                        <span ng-show="!vm.canEdit">The applicant has not yet entered any job type preferences or interests.</span>\n                    </span>\n                </dd>\n\n                <dt ng-init="vm.expCt=4" ng-class="{\'pad-top\':vm.application.canViewDocs}">\n                    Experience:\n                    <br ng-show="vm.application.canViewDocs"/>\n                    <span ng-show="vm.application.canViewDocs && vm.applicant.experience.length"\n                          ng-switch="!vm.expCt && !!vm.applicant.experience.length">\n                        <button type="button" class="btn btn-oset-link"\n                                ng-click="vm.expCt = 0;" ng-switch-when="false">\n                            hide\n                        </button>\n                        <button type="button" class="btn btn-oset-link"\n                                ng-click="vm.expCt = 4;" ng-switch-when="true">\n                            show\n                        </button>\n                    </span>\n                </dt>\n                <dd ng-show="vm.application.canViewDocs">\n                        <p class="text-center" ng-hide="!!vm.applicant.experience.length">None Added</p>\n                        <oset-experience-list ng-show="!!vm.applicant.experience.length" list="vm.applicant.experience"\n                                              view-only="true" max-ct="vm.expCt">\n                        </oset-experience-list>\n                </dd>\n                <dd ng-hide="vm.application.canViewDocs">\n                    <em class="text-muted"\n                        ng-bind-html="vm.experienceText || \'experience will be available once you have connected\'">\n                    </em>\n                </dd>\n            </dl>\n        </div>\n    </div>\n</div>\n'),$templateCache.put("/modules/applications/views/templates/applicant-normal.client.template.html",'<section name="os-driver-inline.directive" class="row inline-item">\n    <div class="col-sm-12">\n        <div class="row">\n            <!-- Driver Inline Template Begin -->\n            <div class="col-md-3 col-lg-2 hidden-sm hidden-xs inline-label">\n                License\n            </div>\n            <div class="col-md-9 col-lg-10 col-xs-12 inline-content">\n                <oset-license-inline model="vm.applicant.license" show-endorsements="true"></oset-license-inline>\n            </div>\n            \n            </div>\n            <div class="row">\n\n            <div class="col-md-3 col-lg-2 hidden-sm hidden-xs inline-label">\n                Documents\n            </div>\n            <div class="col-md-9 col-lg-10 col-xs-12 inline-content">\n                <oset-document-list model="vm.applicant" application="vm.application" doc-access="vm.application.canViewDocs" display-mode="inline"></oset-document-list>\n            </div>\n\n            </div>\n            <div class="row">\n\n            <div class="col-md-3 col-lg-2 hidden-sm hidden-xs inline-label">\n                Interests\n            </div>\n            <div class="col-md-9 col-lg-10 col-xs-12 inline-content label-list">\n\n                <span ng-repeat="interest in visibleInterests = (vm.applicant.interests | filter: {value: true})" class="label label-primary mgn-right">\n                    {{interest.key}}&nbsp;\n                </span>\n\n                <div ng-hide="!!visibleInterests.length">\n                    <em class="small text-muted" ng-hide="!!vm.applicant.license">none entered</em>\n                </div>\n            </div>\n\n            </div>\n            <div class="row">\n\n            <div class="col-md-3 col-lg-2 hidden-sm hidden-xs inline-label">\n                Messages\n            </div>\n            <div class="col-md-9 col-lg-10 col-xs-12 inline-content">\n                <span ng-show="!!vm.application.connection && !vm.application.messageCt">\n                        discuss the job and schedule an interview\n                    <a ui-sref="applications.view({applicationId: vm.application._id, target: \'message\'})">\n                        by sending a message\n                    </a>\n                </span>\n                <span ng-show="!!vm.application.connection && !!vm.application.messageCt">\n                        {{vm.application.messagingText}}\n                    <a ui-sref="applications.view({applicationId: vm.application._id, target: \'message\'})">\n                        ... view now\n                    </a>\n                </span>\n                <span ng-hide="!!vm.application.isConnected">\n                        <em class="text-muted" ng-if="vm.applicant.isOwner">\n                            once connected, you will be able to exchange messages with\n                            the applicant\n                        </em>\n                        <em class="text-muted" ng-if="vm.applicant.isDriver">\n                            once connected, you will be able to exchange messages with\n                            the employer\n                        </em>\n                </span>\n            </div>\n        </div>\n    </div>\n\n\n</section>'),$templateCache.put("/modules/applications/views/templates/application-questionnaire-form.client.template.html",'<section class="form-data">\n\n    <fieldset ng-class="{\'text-muted\': vm.disabled || vm.ispay}">\n        <div class="form-group row" ng-repeat="field in vm.questions"\n             ng-class="{\'has-error\':(vm.form[field.name].$invalid || vm.form[\'hidden_\'+field.name].$invalid) && (vm.form.$submitted || vm.form[field.name].$touched)}">\n            <!-- field = { description, length, name, required, type } -->\n            <label class="col-sm-3 control-label"\n                   data-ng-class="{\'optional\':!field.required}">\n                {{field.description | titleCase}} </label>\n\n            <input type="hidden" ng-model="vm.responses[field.name]" name="hidden_{{field.name}}"\n                   ng-required="field.required"\n                   ng-maxlength="field.ngMaxLength || field.length"/>\n\n            <div class="col-sm-9 col-md-8">\n                <form-input field="field" ng-hide="!!vm.verify" model="vm.responses"></form-input>\n                <form-input field="field" ng-show="!!vm.verify" model="vm.responses" mode="static"></form-input>\n            </div>\n        </div>\n    </fieldset>\n\n</section>\n'),$templateCache.put("/modules/applications/views/templates/application-summary.client.template.html",'<section name=\'oset-application-summary\'>\n    <!--This view is used primarily for the display of simple inline template views.-->\n    <div ng-show="!!vm.application">\n        <div data-ng-if="vm.displayMode === \'minimal\' || vm.displayMode === \'mine\'" class="panel panel-default pad">\n            <dl class="dl-horizontal">\n                <dt>Status:</dt>\n                <dd>\n                    <os-application-status-badge ng-model="vm.application"></os-application-status-badge>\n                </dd>\n                <dt>Applied On:</dt>\n                <dd>{{vm.application.created | date:\'short\'}}</dd>\n            </dl>\n            <div class="text-center" data-ng-if="vm.displayMode === \'mine\'">\n                <button type="button" class="btn-link read-more strong mgn-left"\n                        ui-sref="applications.view({applicationId: vm.application._id})">\n                    Review<i class="fa fa-external-link fa-lg mgn-left"></i>\n                </button>\n            </div>\n        </div>\n\n        <div data-ng-if="vm.displayMode === \'compact\'" class="row">\n            <dl class="dl-horizontal">\n                <dt>Applicant:</dt>\n                <dd>{{vm.applicant.displayName}}</dd>\n                <dt>Job:</dt>\n                <dd>{{vm.application.job.name || \'UNKNOWN\'}}\n                    <span class="label label-info">{{vm.application.status}}</span>\n                </dd>\n                <dt>Applied On:</dt>\n                <dd>{{vm.application.created | date:\'short\'}}</dd>\n            </dl>\n        </div>\n\n        <tr data-ng-if="vm.displayMode === \'table\'" class="row">\n\n                <td>{{vm.applicant.displayName}}</td>\n                <td>\n                    <os-application-status-badge ng-model="vm.application"></os-application-status-badge>\n                </td>\n                <td>{{vm.application.created | date:\'short\'}}</td>\n        </tr>\n\n        <div data-ng-if="!vm.displayMode || vm.displayMode === \'normal\'" class="row">\n            <div class="col-md-4">\n                <dl class="dl-horizontal">\n                    <dt>Job:</dt>\n                    <dd>{{vm.application.job.name || \'UNKNOWN\'}}\n                        <span class="label label-info">{{vm.application.status}}</span>\n                    </dd>\n                    <dt>Applicant:</dt>\n                    <dd>{{vm.applicant.displayName}}</dd>\n                    <dt>Applied On:</dt>\n                    <dd>{{vm.application.created | date:\'short\'}}</dd>\n                </dl>\n            </div>\n            <div class="col-md-8">\n                <dl class="dl-horizontal"\n                    ng-repeat="message in vm.application.messages | limitTo: -1">\n                    <dt>Last Message:</dt>\n                    <dd>{{message.text | limitTo : 100}}</dd>\n                    <dt>Sent:</dt>\n                    <dd>{{message.created | date: \'short\'}}</dd>\n                </dl>\n            </div>\n        </div>\n    </div>\n\n    <!-- Show this if there is no application present -->\n    <!------------------------------------------------->\n    <!-- For drivers, link to the new application creation -->\n    <!-- For owners, tell them sorry :(                    -->\n    <section ng-show="!vm.application">\n        <!-- Show "Job Apply" button if job is specified and no application is found for the user. -->\n        <div data-ng-if="!!vm.job && vm.user.id !== vm.ownerId">\n            <button class="btn btn-cta-primary btn-lg btn-block bigger"\n                    ui-sref="gateway({jobId:vm.job._id})">\n                apply now <i class="fa fa-send mgn-left"></i>\n            </button>\n        </div>\n    </section>\n</section>\n'),$templateCache.put("/modules/applications/views/templates/ats-job-details.client.template.html",'<div class="panel panel-profile animated fadeInRight">\n\n    <div class="panel-heading overflow-h">\n        <span class="panel-title">\n            {{vm.job.name}}\n\n\n            <a ui-sref="ats.root({jobId: \'\'})"><i\n                    class="fa fa-close pull-right"></i></a>\n        </span>\n    </div>\n\n    <div class="panel-body text-center">\n\n        <button class="btn btn-link">edit</button>\n        <button class="btn btn-link">applicants</button>\n        <button class="btn btn-link">description</button>\n        <button class="btn btn-link">documents</button>\n    </div>\n</div>\n\n<div class="panel panel-profile animated fadeInRight">\n    <div class="panel-heading overflow-h">\n        <span class="panel-title heading-sm">\n            <i class="fa fa-send mgn-right"></i> Applicants\n\n            <a ui-sref="applications.list({itemId: vm.job._id, tabName: \'applicants\'})"><i\n                    class="fa fa-external-link pull-right"></i></a>\n        </span>\n    </div>\n    <div class="row panel-body">\n        <div class="{{!!vm.applicant ? \'col-md-4\' : \'col-md-12\'}}">\n            <div ng-repeat="application in vm.applications" ng-init="user=application.user"\n                 class="alert-blocks small"\n                 ng-click="vm.toggleApplicant(application)"\n                 ng-class="{\'alert-blocks-success\': vm.applicant.id === application.id}">\n\n                <span ng-hide="!!vm.applicant">\n                <a ui-sref="applications.list({itemId: vm.job._id, tabName: \'messaging\'})">\n                    <i class="fa fa-comments-o pull-right"></i>\n                </a>\n                <a ui-sref="applications.list({itemId: vm.job._id, tabName: \'documents\'})">\n                    <i class="fa fa-file-o pull-right"></i>\n                </a>\n                </span>\n\n                <img class="rounded-x mCS_img_loaded" ng-src="{{user.profileImageURL}}" alt="">\n\n                <div class="overflow-h">\n                    <strong class="color-green">{{application.user.displayName}}\n                        <small class="pull-right">\n                            <em>{{application.updated | amDateFormat : \'L\'}}</em>\n                            <span class="badge">{{application.messages.length}}</span>\n                        </small>\n                        <br>\n                        <os-application-status-badge ng-model="application"></os-application-status-badge>\n                    </strong>\n                </div>\n            </div>\n\n            <div class="text-center" ng-show="!!vm.loading.applicant">\n                <i class="fa fa-spinner fa-2x fa-spin"></i>\n                <h2>Loading</h2>\n            </div>\n\n            <div class="text-center" ng-show="!vm.applications.length && !vm.loading.applicant">\n                <h4>No one has applied to this job</h4>\n            </div>\n        </div>\n\n        <!--animated {{!!vm.applicant ? \'fadeInRight\' : \'fadeOutRight\'}}"-->\n        <div class="col-md-8"\n             ng-show="!!vm.applicant">\n            <div ng-repeat="app in vm.applications"\n                 ng-show="app.id === vm.applicant.id"\n                 class="animated {{app.id === vm.applicant.id ? \'fadeInRight\' : \'fadeOut\'}}">\n                <oset-application-summary ng-model="app" display-mode="inline"></oset-application-summary>\n                <hr>\n                <oset-chat-console connection="app.connection"\n                                   messages="app.messages"\n                                   room="app.id"></oset-chat-console>\n            </div>\n        </div>\n\n\n        <!--&lt;!&ndash;alert-blocks-success    green&ndash;&gt;-->\n        <!--&lt;!&ndash;alert-blocks-info       blue&ndash;&gt;-->\n        <!--&lt;!&ndash;alert-blocks-error      red&ndash;&gt;-->\n        <!--&lt;!&ndash;*                       gray&ndash;&gt;-->\n        <!--&lt;!&ndash;alert-blocks-pending    yellow&ndash;&gt;-->\n    </div>\n</div>\n\n<div class="panel panel-profile animated fadeInRight">\n\n    <div class="panel-heading overflow-h">\n        <span class="panel-title heading-sm">\n        <i class="fa fa-sort mgn-right"></i> My Drivers\n        </span>\n    </div>\n\n    <div class="panel-body mgn-btm">\n        <ul>\n            <li>Messaging</li>\n            <li>Documents & Checks</li>\n            <li>Locations</li>\n\n        </ul>\n    </div>\n</div>\n'),$templateCache.put("/modules/applications/views/templates/ats-sidebar.client.template.html",'<div class="panel panel-profile">\n\n    <div class="panel-heading overflow-h">\n        <span class="panel-title heading-sm">\n        <i class="fa fa-sort mgn-right"></i> Active Jobs\n        <a ui-sref="jobs.create({companyId: vm.company.id})"><i class="fa fa-plus pull-right"></i></a>\n        </span>\n    </div>\n\n    <div class="panel-body mgn-btm">\n\n        <!--Future Directive : oset-inline-job-list-->\n        <div ng-repeat="job in vm.jobs"\n             ui-sref="ats.root.job({jobId: job.id})"\n             class="alert-blocks small"\n             ng-class="{\'alert-blocks-success\': vm.params.jobId === job.id}">\n\n            <div class="overflow-h">\n                <strong>{{job.name}}\n                    <small class="pull-right">\n                        <span class="badge">{{job.applications.length}}</span>\n                    </small>\n                </strong>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class="panel panel-profile">\n\n    <div class="panel-heading overflow-h">\n        <span class="panel-title heading-sm">\n        <i class="fa fa-sort mgn-right"></i> Applicants\n        </span>\n    </div>\n\n    <div class="panel-body mgn-btm">\n        <!--Future Directive : oset-inline-applicant-list-->\n            <div ng-repeat="application in vm.apps" ng-init="user=application.user"\n                 class="alert-blocks small" ng-click="vm.visibleApplication = (!!vm.visibleApplication && vm.visibleApplication === application.id ? null : application.id)"\n                 ng-class="{\'alert-blocks-success\': application.isUnreviewed}">\n                <a ui-sref="applications.list({itemId: vm.job._id, tabName: \'messaging\'})">\n                    <i class="fa fa-comments-o pull-right"></i>\n                </a>\n                <a ui-sref="applications.list({itemId: vm.job._id, tabName: \'documents\'})">\n                    <i class="fa fa-file-o pull-right"></i>\n                </a>\n\n                <img class="rounded-x mCS_img_loaded" ng-src="{{user.profileImageURL}}" alt="">\n\n                <div class="overflow-h">\n                    <strong class="color-green">{{application.user.displayName}}\n                        <small class="pull-right"><em>{{application.updated | amDateFormat : \'L\'}}</em>\n                        </small><br>\n                        <os-application-status-badge ng-model="application"></os-application-status-badge>\n                    </strong>\n                </div>\n\n                <oset-application-summary ng-model="vm.application" ng-show="vm.visibleApplication === application.id"\n                                          display-mode="inline"></oset-application-summary>\n            </div>\n\n\n        <div class="list-group" ng-if="vm.activeJob">\n            <a href="#" ng-repeat="applicant in vm.job.applications"\n               class="list-group-item text-nowrap"\n               ng-class="{\'active\': vm.visibleId === job.id}"\n               ng-click="vm.visibleId = job.id">\n                {{job.name}}\n            </a>\n        </div>\n    </div>\n</div>\n'),$templateCache.put("/modules/applications/views/templates/job-list-content.client.template.html",'<section class="row profile">\n    <div class="panel panel-default">\n        <div class="panel-body">\n            <div class="col-md-4 text-center">\n                <div>\n                <span class="fa-stack fa-3x step-badge">\n                    <span class="fa fa-stack-2x step-index">{{vm.jobs.length || \'no\'}}</span>\n                </span><br>\n                    <h3>Jobs</h3>\n                </div>\n            </div>\n            <div class="col-md-4 text-center">\n                <div>\n                <span class="fa-stack fa-3x step-badge">\n                    <span class="fa fa-stack-2x step-index">{{vm.newApps.length}}</span>\n                </span><br>\n                    <h3>New Applicants</h3>\n                </div>\n            </div>\n            <div class="col-md-4 text-center">\n                <div>\n                <span class="fa-stack fa-3x step-badge">\n                    <span class="fa fa-stack-2x step-index">{{vm.newMessageCt}}</span>\n                </span><br>\n                    <h3>New Messages</h3>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>\n\n<div class="row profile">\n    <div class="job-list blog-category-list panel panel-default">\n        <div class="panel-heading">\n            Active Jobs\n        </div>\n\n        <div class="panel-body">\n\n        <!-- Iterate over the list of jobs ... For Owners -->\n        <oset-job-list-item ng-repeat="job in vm.jobs"\n                                        job="job"\n                                        class="post col-sm-12 applicant"\n                                        visible-id="vm.visibleId"\n                                        visible-tab="vm.visibleTab"\n                                        ng-show="vm.visibleId === job._id || !vm.visibleId">\n            <!-- TODO: Move ng-show into the filter on teh repeater -->\n        </oset-job-list-item>\n\n        </div>\n\n    </div>\n</div>\n'),$templateCache.put("/modules/applications/views/templates/job-list-item.client.template.html",'<article class="post col-sm-12 applicant">\n\n    <!--INNER OWNER CONTENT-->\n    <div class="post-inner">\n        <div class="content lead-content">\n            <div class="date-label">\n                <span class="month">{{(vm.job.posted || vm.job.created)  | amDateFormat : \'MMM\' | uppercase}}</span>\n                <span class="date-number">{{vm.job.posted | amDateFormat : \'D\'}}</span>\n            </div>\n            <div class="pull-right">\n                <button type="button" class="btn-tab btn-link strong"\n                        ng-click="vm.showTab()" ng-class="{\'hidden\':!vm.visibleId}">\n                    <i class="fa fa-close fa-lg"></i>\n                </button>\n            </div>\n            <h3 class="post-title" ng-click="vm.showTab(vm.job._id, \'applicants\', vm.job.applications.length)">\n                {{vm.job.name}}\n\n                <small>\n                    <button type="button" class="btn-tab btn-link read-more strong mgn-left"\n                            ui-sref="jobs.edit({jobId: vm.job._id})">\n                        <span class="hidden-xs">Edit</span>\n                        <i class="fa fa-edit fa-lg"></i>\n                    </button>\n                    <button type="button" class="btn-tab btn-link read-more strong"\n                            ui-sref="jobs.view({jobId: vm.job._id})">\n                        <span class="hidden-xs">View</span>\n                        <i class="fa fa-external-link fa-lg"></i>\n                    </button>\n                </small>\n            </h3>\n\n            <div class="row">\n                <div class="pull-right">\n                    <button type="button" class="btn-tab btn-link read-more strong"\n                            ng-click="vm.showTab(vm.job._id, \'applicants\', vm.job.applications.length)"\n                            ng-class="{\'active\': vm.visibleId === vm.job._id && vm.visibleTab === \'applicants\'}">\n                        <i class="fa fa-users fa-lg"></i><span class="hidden-xs mgn-left">\n                        {{vm.getActiveApplicationCount()}} Applicant{{vm.getActiveApplicationCount() === 1 ? \'\' : \'s\'}}\n                    </span>\n                    </button>\n                    <button type="button" class="btn-tab btn-link read-more strong"\n                            ng-click="vm.showTab(vm.job._id, \'messaging\', vm.job.applications.length)"\n                            ng-class="{\'active\': vm.visibleId === vm.job._id && vm.visibleTab === \'messaging\'}">\n                        <i class="fa fa-comments-o fa-lg"></i><span\n                            class="hidden-xs mgn-left">Messaging</span>\n                                    <span class="badge" ng-show="!!vm.job.newMessages"\n                                          uib-tooltip="{{vm.job.newMessages}} new message{{vm.job.newMessages>1?\'s\':\'\'}}">{{vm.job.newMessages}}</span>\n                    </button>\n                    <button type="button" class="btn-tab btn-link read-more strong mgn-left"\n                            ng-click="vm.showTab(vm.job._id, \'documents\')"\n                            ng-class="{\'active\': vm.visibleId === vm.job._id && vm.visibleTab === \'documents\'}">\n                        <i class="fa fa-lg fa-file-text"></i><span\n                            class="hidden-xs mgn-left">Documents</span>\n                    </button>\n                </div>\n            </div>\n        </div>\n\n        <div class="content body">\n            <div class="tab-body row">\n                <div class="post-entry col-sm-12" ng-show="!!vm.visibleTab">\n\n                    <div class="row list-controls" ng-show="vm.visibleTab === \'applicants\'">\n                        <div class="col-sm-12 text-center">\n                            <span class="pull-left">\n                                <button type="button" class="btn-tab btn-link read-more btn-sm"\n                                        ng-click="vm.toggleFilter(\'status\', \'all\', true)"\n                                        ng-class="{\'disabled\':!!vm.filters.status.all}"\n                                        name="clear"><i class="fa fa-times"></i></button>\n\n                                <div class="btn-group">\n                                    <label class="btn btn-cta-secondary btn-sm"\n                                           ng-click="vm.toggleFilter(\'status\', \'unreviewed\', true)" btn-checkbox\n                                           ng-model="vm.filters.status.unreviewed" name="unreviewed">New</label>\n                                    <label class="btn btn-cta-secondary btn-sm"\n                                           ng-click="vm.toggleFilter(\'status\', \'reviewed\', true)" btn-checkbox\n                                           ng-model="vm.filters.status.reviewed" name="reviewed">Reviewed</label>\n                                    <label class="btn btn-cta-secondary btn-sm"\n                                           ng-click="vm.toggleFilter(\'status\', \'connected\', true)" btn-checkbox\n                                           ng-model="vm.filters.status.connected" name="connected">Connected</label>\n                                </div>\n                            </span>\n\n                            <span class="pull-right">\n                                <button type="button" class="btn-tab btn-link read-more btn-sm"\n                                        ng-click="vm.reverseSort = !vm.reverseSort"\n                                        name="sort">\n                                    Reverse Sort <i\n                                        class="fa {{!vm.reverseSort ? \'fa-sort-amount-asc\':\'fa-sort-amount-desc\'}}"></i>\n                                </button>\n                            </span>\n                        </div>\n                    </div>\n\n                    <div ng-repeat="application in vm.applications | orderBy:(vm.sorting[vm.visibleTab]):!!vm.reverseSort | filter: vm.defaultFiltering[vm.activeTab] | filter: vm.filterApplications"\n                         class="row tab-body-item applicant_item">\n                        <pre>{{application.isActive}}</pre>\n                        <oset-application-list-item user-type="owner"\n                                                    application="application" job="vm.job"\n                                                    visible-id="vm.visibleId"\n                                                    visible-tab="vm.visibleTab"\n                                                    filter="vm.filterApplications">\n                        </oset-application-list-item>\n                    </div>\n\n                    <div class="row list-controls">\n                        <div class="col-sm-12 text-center">\n                            <span>\n                                <button type="button" class="btn-tab btn-link read-more btn-sm"\n                                        ng-click="vm.toggleFilter(\'negStatus\', \'expired\')"\n                                        btn-checkbox ng-model="vm.filters.negStatus.expired"\n                                        name="expired">show expired applicants\n                                </button>\n                                <button type="button" class="btn-tab btn-link read-more btn-sm"\n                                        ng-show="vm.visibleTab === \'applicants\'"\n                                        ng-click="vm.toggleFilter(\'negStatus\', \'rejected\')"\n                                        btn-checkbox ng-model="vm.filters.negStatus.rejected"\n                                        name="rejected">show rejected applicants\n                                </button>\n                            </span>\n                        </div>\n                    </div>\n\n\n                    <div class="list-group" ng-if="!(vm.job.applications && vm.job.applications.length)"\n                         ng-show="vm.visibleId === vm.job._id">\n                        <div class="list-group-item text-center">\n                            <h4>No one has applied to this job yet. Would you like to <a\n                                    ui-sref="jobs.edit({\'jobId\':vm.job._id})">edit\n                                your post?</a></h4>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <a class="read-more strong pull-right" ng-click="vm.visibleId = null"\n               ng-class="{\'hidden\':!vm.visibleId}"> </a>\n        </div>\n\n    </div>\n\n    <!--//post-inner-->\n</article>\n'),
$templateCache.put("/modules/applications/views/templates/os-list-applications.client.template.html",'<section name="os-list-applications.directive" class="application-list">\n\n    <div class="row">\n        <div class="job-list blog-category-list">\n\n            <!-- Iterate over the list of jobs ... For Owners -->\n            <oset-job-list-item ng-if="vm.groupByJob"\n                                        ng-repeat="job in vm.jobs"\n                                        job="job"\n                                        class="post col-sm-12 applicant"\n                                        visible-id="vm.visibleId"\n                                        visible-tab="vm.visibleTab"\n                                        ng-show="vm.visibleId === job._id || !vm.visibleId">\n                <!-- TODO: Move ng-show into the filter on teh repeater -->\n            </oset-job-list-item>\n\n            <!-- Iterate over the list of applications ... For Drivers -->\n            <oset-application-list-item ng-if="!vm.groupByJob"\n                                        ng-repeat="application in vm.applications"\n                                        application="application"\n                                        class="post job-post col-sm-12 applicant"\n                                        visible-id="vm.visibleId"\n                                        visible-tab="vm.visibleTab">\n\n                <!-- TODO: Figure out disagreement between \'visibleId\', ng-show, and inline (nested) vs top level behavior -->er\n                <!-- TODO: Combine with the \'owner\' repeater above, if possible :) -->\n\n            </oset-application-list-item>\n        </div>\n    </div>\n</section>\n'),$templateCache.put("/modules/bgchecks/views/bgcheck-summary.client.template.html",'<section>\n    <div class="item price text-center" ng-click="vm.viewReports()">\n        <div class="item-inner">\n            <div class="heading text-center">\n                <div class="head-block"></div>\n                <div class="row item-content center-block">\n                    <span class="percent">75%</span>\n                </div>\n                 <h3>Enhance Your Profile!</h3>\n\n            </div>\n            <div class="item-content">\n                <ul class="list-unstyled feature-list">\n                    <li><img src="modules/bgchecks/img/check.png">Motor Vehicle Report</li>\n                    <li><img src="modules/bgchecks/img/check.png">National &amp; County Background Check</li>\n                    <li><img src="modules/bgchecks/img/check.png">Drug Test</li>\n                    <li class="get-reports"><a class="btn btn-block btn-cta-secondary" ng-sref="reviewReports">Get Reports</a>\n                    </li>\n                </ul>\n\n            </div>\n            <!--//item-content-->\n        </div>\n        <!--//item-inner-->\n    </div>\n</section>\n'),$templateCache.put("/modules/bgchecks/views/templates/custom-questionnaire.client.template.html",'<oset-form-entry model="vm.model" report="vm.report" loading="vm.loading" read-only="vm.readOnly"></oset-form-entry>\n'),$templateCache.put("/modules/bgchecks/views/templates/document-list-dd.client.template.html",'<section class="documentDD">\n    <dd class="report-badges" ng-class="{\'not-visible\':!vm.docAccess}">\n\n        <span class="fa-stack fa-3x report-badge mgn-right"\n              uib-tooltip="Resume{{vm.docAccess ? (!!vm.driver.reports[\'resume\'] ? \' - click to download\': \' - not available\') : \'\'}}"\n              ng-class="{\'available\': !!vm.driver.reports[\'resume\']}"\n              ng-click="vm.docAccess && vm.showDocument(\'resume\', $event)">\n            <i class="fa fa-file fa-stack-2x"></i>\n            <span class="badge-info">\n                <span class="badge-info-inner fa fa-stack-1x">\n                    <i class="fa fa-check fa-1x"></i>\n                    <span class="title">Resume</span>\n                </span>\n            </span>\n        </span>\n\n        <span class="fa-stack fa-3x report-badge mgn-right"\n              uib-tooltip="Motor Vehicle Report{{vm.docAccess ? (!!vm.driver.reports[\'mvr\']  ? \' - click to download\': \' - not available\') : \'\'}}"\n              ng-class="{\'available\': !!vm.driver.reports[\'mvr\']}"\n              ng-click="vm.docAccess && vm.showDocument(\'mvr\', $event)">\n            <i class="fa fa-certificate fa-stack-2x"></i>\n            <span class="badge-info">\n                <span class="badge-info-inner fa fa-stack-1x">\n                    <i class="fa fa-check fa-1x hidden"></i>\n                    <span class="title">MVR</span>\n                </span>\n            </span>\n        </span>\n\n        <span class="fa-stack fa-3x report-badge mgn-right"\n              uib-tooltip="Background Check{{vm.docAccess ? (!!vm.driver.reports[\'bgcheck\']  ? \' - click to download\': \' - not available\') : \'\'}}"\n              ng-class="{\'available\': !!vm.driver.reports[\'bgcheck\']}"\n              ng-click="vm.docAccess && vm.showDocument(\'bgcheck\', $event)">\n            <i class="fa fa-certificate fa-stack-2x"></i>\n            <span class="badge-info">\n                <span class="badge-info-inner fa fa-stack-1x">\n                <i class="fa fa-times fa-1x hidden"></i>\n                <span class="title">BG</span>\n            </span>\n            </span>\n        </span>\n\n        <span class="fa-stack fa-3x report-badge mgn-right"\n              uib-tooltip="National Criminal{{vm.docAccess ? (!!vm.driver.reports[\'ncrim\']  ? \' - click to download\': \' - not available\') : \'\'}}"\n              ng-class="{\'available\': !!vm.driver.reports[\'ncrim\']}"\n              ng-click="vm.docAccess && vm.showDocument(\'ncrim\', $event)">\n            <i class="fa fa-certificate fa-stack-2x"></i>\n            <span class="badge-info">\n                <span class="badge-info-inner fa fa-stack-1x">\n                <i class="fa fa-question fa-1x hidden"></i>\n                <span class="title">N-CRIM</span>\n            </span>\n            </span>\n        </span>\n\n        <span class="fa-stack fa-3x report-badge mgn-right"\n              uib-tooltip="Drug Screen{{vm.docAccess ? (!!vm.driver.reports[\'drugs\'] ? \' - click to download\': \' - not available\') : \'\'}}"\n              ng-class="{\'available\': !!vm.driver.reports[\'drugs\']}"\n              ng-click="vm.docAccess && vm.showDocument(\'drugs\', $event)">\n            <i class="fa fa-certificate fa-stack-2x"></i>\n            <span class="badge-info">\n                <span class="badge-info-inner fa fa-stack-1x">\n                <i class="fa fa-question fa-1x hidden"></i>\n                <span class="title">DRUG</span>\n            </span>\n            </span>\n        </span>\n\n\n    </dd>\n    <dd ng-hide="vm.docAccess">\n        <em class="text-muted">\n            <span ng-hide="!!vm.driver.reportsData.length">No reports on file</span>\n            <span ng-show="!!vm.driver.reportsData.length">You will be able to download reports once connected</span>\n        </em>\n    </dd>\n    <dd ng-show="vm.docAccess">\n        <em class="text-muted">\n            <span ng-hide="!!vm.driver.reportsData.length">No reports on file</span>\n            <span ng-show="!!vm.driver.reportsData.length">Click on available reports to view or download</span>\n\n        </em>\n    </dd>\n</section>\n'),$templateCache.put("/modules/bgchecks/views/templates/document-list-inline.client.template.html",'<span class="documentsInline">\n    <label ng-if="vm.driver.reportsData && vm.driver.reportsData.length"\n           class="document label {{vm.docAccess ? \'label-success pointer\' : \'label-default\'}}"\n           ng-click="vm.showDocument(\'resume\', $event)"\n           tooltip-popup-delay="750" uib-tooltip="View Applicant\'s Documents">BG Reports&nbsp;\n        <i class="fa fa-external-link" ng-if="!!vm.docAccess"></i>\n    </label>\n    <em class="small text-muted" ng-if="!vm.driver.reportsData.length">no documents on file</em>\n</span>\n'),$templateCache.put("/modules/bgchecks/views/templates/form-entry.client.template.html",'<fieldset ng-class="{\'text-muted\': vm.disabled || vm.ispay}">\n\n        <accordion ng-if="vm.debug">\n            <accordion-group heading="View Model @ Form-Entry Directive Level">\n                <pre>{{vm.model | prettyPrint}}</pre>\n            </accordion-group>\n        </accordion>\n\n\n        <div class="form-group" ng-repeat="field in vm.fields"\n             ng-class="{\'has-error\': (vm.form[field.name].$invalid || vm.form[\'hidden_\'+field.name].$invalid) && (vm.form.$submitted || vm.form[field.name].$touched)}">\n            <label class="col-sm-3 control-label"\n                   data-ng-class="{\'optional\':!field.required}">\n                {{field.description | titleCase}} </label>\n\n            <input type="hidden" ng-model="vm.model[field.name]" name="hidden_{{field.name}}"\n                   ng-required="field.required"\n                   ng-maxlength="field.ngMaxLength || field.length"/>\n\n            <div class="col-sm-9 col-md-8">\n                <form-input field="field" ng-hide="vm.readOnly" model="vm.model"></form-input>\n                <form-input field="field" ng-show="vm.readOnly" model="vm.model" mode="static"></form-input>\n            </div>\n\n            <div ng-if="vm.debug" class="visible-md visible-lg col-md-1">\n                <span class="{{!!vm.form[field.name].$invalid ? \'text-danger\' : \'text-muted\'}}"><i class="fa fa-check"></i></span>\n                <span class="{{!!vm.form[\'hidden_\' + field.name].$invalid ? \'text-danger\' : \'text-muted\'}}"><i class="fa fa-check-circle-o"></i></span>\n                <span class="{{!!vm.form[field.name].$touched ? \'text-success\' : \'text-muted\'}}"><i class="fa fa-hand-o-down"></i></span>\n                <span class="{{!!vm.form.$submitted ? \'text-success\' : \'text-muted\'}}"><i class="fa fa-forward"></i></span>\n            </div>\n        </div>\n    </fieldset>\n'),$templateCache.put("/modules/bgchecks/views/templates/form-input.client.template.html",'<section>\n    <div class="ng-hide" field-name="{{vm.field.name}}" type="{{vm.field.type}}" req="{{vm.field.required}}"></div>\n\n    <input ng-if="!!vm.field.ngType" type="{{vm.field.ngType}}" class="form-control"\n           name="{{vm.field.name}}" ng-model="vm.model[vm.field.name]"\n           ng-maxlength="vm.field.ngMaxLength" ng-required="vm.field.required"/>\n\n    <textarea os-html-edit ng-if="!!vm.field.isTextArea" class="editor-sm"\n              name="{{vm.field.name}}" data-ng-model="vm.model[vm.field.name]"\n              ng-maxlength="vm.field.length" ng-required="vm.field.required">\n    </textarea>\n\n    <date-input ng-if="vm.field.isDate" format="vm.field.format" model="vm.model[vm.field.name]"\n                class="form-control" name="{{vm.field.name}}"></date-input>\n    <!-- ng-required="vm.field.required" -->\n\n    <input type="checkbox" ng-if="vm.field.isCheckbox"\n           ng-model="vm.model[vm.field.name]"\n           ng-required="vm.field.required"\n           name="{{vm.field.name}}"/>\n\n    <span ng-repeat="opt in vm.field.options">\n    <input type="radio" ng-if="vm.field.isRadio"\n           ng-model="vm.model[vm.field.name]"\n           name="{{vm.field.name}}"\n           ng-value="opt.value"/>{{opt.label}}\n    </span>\n\n    <input ng-if="!!vm.field.ngSensitive" type="text" ng-model="vm.model[vm.field.name]"\n           name="{{vm.field.name}}" ng-required="vm.required"\n           ui-mask="999-99-9999" class="form-control"/>\n\n\n    <!-- States -->\n    <select ng-if="vm.field.isState" class="form-control" name="{{vm.field.name}}"\n            ng-options="state.id as state.name for state in vm.field.options"\n            ng-model="vm.model[vm.field.name]" ng-required="vm.field.required" autocomplete="off">\n    </select>\n\n    <!-- Countries -->\n    <p class="form-control-static" ng-if="vm.field.isCountry"\n       ng-init="vm.model[vm.field.name] = \'united_states\'">United States</p>\n\n    <select ng-if="vm.field.isPickList" class="form-control" name="{{vm.field.name}}"\n            ng-options="item.value as item.description for item in vm.field.pickList"\n            ng-model="vm.model[vm.field.name]">\n    </select>\n\n    <div class="" ng-if="vm.field.isArray" name="{{vm.field.name}}">\n        <div ng-repeat="(i,arrayItem) in vm.model[vm.field.name]">\n            <div ng-repeat="df1 in vm.field.dataFields" class="well">\n                <div class="col-xs-12" style="vertical-align: baseline;">\n                    <label class="pull-left">{{df1.description}} #{{i+1}}</label>\n                    <button type="button" class="btn btn-close pull-right"\n                            data-ng-click="vm.model[vm.field.name].splice($index, 1);">&times;</button>\n                    <div class="clearfix"></div>\n                </div>\n                <hr/>\n\n                <div ng-repeat="df2 in df1.dataFields" ng-init="$ai = $index"\n                     class="form-group"\n                     ng-class="{\'has-error\':vm.form[vm.field.name+\'_\'+i+\'_\'+df2.name].$invalid && (vm.form.$submitted || vm.form[vm.field.name+\'_\'+i+\'_\'+df2.name].$touched)}">\n                    <label class="col-md-4 control-label"\n                           data-ng-class="{\'optional\':!df2.required}">{{df2.description | titleCase}}</label>\n\n                    <div class="col-md-8">\n                        <input ng-if="!!df2.ngType || df2.type === \'string\' || !df2.isDate"\n                               type="{{df2.ngType || text}}" class="form-control"\n                               name="{{vm.field.name}}_{{i}}_{{df2.name}}"\n                               ng-model="vm.model[vm.field.name][i][df2.name]"\n                               maxlength="{{df2.length}}" ng-required="df2.required"/>\n\n                        <date-input ng-if="df2.isDate" format="df2.format"\n                                    name="{{vm.field.name}}_{{i}}_{{df2.name}}"\n                                    model="vm.model[vm.field.name][i][df2.name]"\n                                    class="form-control"\n                                ></date-input>\n                        <!--ng-required="df2.required"-->\n                    </div>\n                </div>\n            </div>\n\n        </div>\n        <button type="button" data-ng-click="vm.model[vm.field.name].push({})">Add</button>\n    </div>\n\n    <div class="well" ng-if="vm.field.isObject" name="{{vm.field.name}}">\n        <div ng-repeat="dataField in vm.field.dataFields" class="form-group"\n             ng-class="{\'has-error\':vm.form[vm.field.name+\'_\'+dataField.name].$invalid && (vm.form.$submitted || vm.form[vm.field.name+\'_\'+dataField.name].$touched)}">\n\n            <label class="col-sm-4 control-label"\n                   data-ng-class="{\'optional\':!dataField.required}">{{dataField.description\n                | titleCase}}</label>\n\n            <div class="col-sm-8">\n                <input ng-if="!dataField.isDate && !dataField.isState && !dataField.isCountry"\n                       type="{{dataField.ngType || text}}" class="form-control"\n                       name="{{vm.field.name}}_{{dataField.name}}"\n                       ng-model="vm.model[vm.field.name][dataField.name]"\n                       ng-maxlength="dataField.length" ng-required="dataField.required"/>\n\n                <date-input ng-if="dataField.isDate" format="dataField.format"\n                            model="vm.model[vm.field.name][dataField.name]"\n                            class="form-control"\n                            name="{vm.field.name}}_{{dataField.name}}"></date-input>\n\n                <!-- States -->\n                <select ng-if="dataField.isState" class="form-control"\n                        ng-options="state.id as state.name for state in dataField.options"\n                        ng-model="vm.model[vm.field.name][dataField.name]"\n                        ng-required="dataField.required" autocomplete="off">\n                </select>\n\n                <p class="form-control-static" ng-if="dataField.isCountry"\n                   ng-init="vm.model[vm.field.name][dataField.name] = \'united_states\'">United\n                    States</p>\n            </div>\n        </div>\n    </div>\n\n    <!--  <option ng-repeat="option in vm.field.pickList" value="{{option.name}}">\n            {{option.description}}\n        </option> -->\n</section>\n'),$templateCache.put("/modules/bgchecks/views/templates/form-static.client.template.html",'<section class=form-input-static-directive>\n    <p ng-if="!vm.field.isObject && !vm.field.isArray && !vm.field.isDate" type="{{vm.field.ngType}}"\n       class="form-control-static">\n        {{(vm.model[vm.field.name] | titleCase) || \'not specified\'}}\n    </p>\n\n    <p ng-if="vm.field.isDate"\n       class="form-control-static">\n        {{(vm.model[vm.field.name] | isoDatePrint) || \'--\'}}</p>\n\n    <div ng-if="vm.field.isArray">\n        <div ng-if="!vm.model[vm.field.name] || !vm.model[vm.field.name].length"><p\n                class="text-muted">none specified</p></div>\n        <div ng-repeat="(i,arrayItem) in vm.model[vm.field.name]">\n            <div ng-repeat="df1 in vm.field.dataFields" class="well">\n                <div class="col-xs-12" style="vertical-align: baseline;">\n                    <label class="pull-left">{{df1.description}} #{{i+1}}</label>\n                </div>\n                <hr/>\n\n                <div ng-repeat="df2 in df1.dataFields" ng-init="$ai = $index"\n                     class="form-group">\n                    <label class="col-sm-3 control-label">{{df2.description}}</label>\n\n                    <div class="col-sm-8"\n                         ng-class="{\'text-muted\': !vm.model[vm.field.name][i][df2.name]}">\n\n                        <p ng-if="!df2.isDate" class="form-control-static">\n                            {{(vm.model[vm.field.name][i][df2.name] | titleCase) || \'--\'}}</p>\n\n                        <p ng-if="df2.isDate" class="form-control-static">\n                            {{(vm.model[vm.field.name][i][df2.name] | isoDatePrint) || \'--\'}}\n                        </p>\n                    </div>\n                </div>\n            </div>\n\n\n        </div>\n    </div>\n\n\n    <div class="well" ng-if="vm.field.isObject">\n        <div ng-repeat="dataField in vm.field.dataFields" class="form-group">\n            <label class="col-sm-3 control-label"\n                   data-ng-class="{\'optional\':!dataField.required}">{{dataField.description}}</label>\n\n            <div class="col-sm-8"\n                 ng-class="{\'text-muted\': !vm.model[vm.field.name][dataField.name]}">\n                <p ng-if="!dataField.isDate" type="{{vm.field.ngType}}"\n                   class="form-control-static">{{(vm.model[vm.field.name][dataField.name] |\n                    titleCase) || \'--\'}}</p>\n\n                <p ng-if="dataField.isDate" type="{{vm.field.ngType}}"\n                   class="form-control-static">{{(vm.model[vm.field.name][dataField.name] |\n                    isoDatePrint) || \'--\'}}</p>\n                <pre ng-if="vm.debugMode">{{vm.model[vm.field.name][dataField.name]}}</pre>\n            </div>\n        </div>\n    </div>\n</section>\n'),$templateCache.put("/modules/chat/views/chat-console.client.template.html",'<div class="row chat-window" ng-show="!!vm.connection">\n    <div class="col-sm-12">\n        <h4>\n            Messages\n            <small class="pull-right" ng-show="!!vm.activeConnection">\n                <em>\n                    <strong>Connection Status</strong>\n                    Me:\n                    <div class="label label-{{vm.status.me ? \'success\' : vm.status.me === null ? \'default\' : \'warning\'}}">\n                        &nbsp;</div>\n                    Them:\n                    <div class="label label-{{vm.status.them ? \'success\' : vm.status.them === null ? \'default\' : \'warning\'}}">\n                        &nbsp;</div>\n                </em>\n            </small>\n        </h4>\n\n\n        <div class="chat-section" scroll-bottom="vm.messages">\n            <div ng-repeat="message in vm.messages | filter : {type: \'!status\'}"\n                 ng-init="message.username = message.username || message.sender.username"\n                 ng-class="{\'last\':!!$last,\'first\':!!$first}" class="{{vm.getSenderClass(message.username)}}">\n\n                <div class="separator row">\n                    <div class="col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2"></div>\n                </div>\n\n                <div class="row chat-box">\n                    <div class="col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1 col-xs-12">\n                        <img class="profile-image medium"\n                             ng-src="{{message.profileImageURL || message.sender.profileImageURL}}">\n\n\n                        <div class="chat-details">\n                            <div class="row">\n                                <div class="col-sm-12">\n                                    <blockquote><p ng-bind-html="message.text"></p></blockquote>\n                                </div>\n                            </div>\n                            <div class="row ts">\n                                <div class="col-sm-12">\n                                    <span class="timestamp smaller">{{message.created | date: \'short\' }}</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div ng-show="!vm.messages || !vm.messages.length">\n                <div class="text-muted text-center">no messages</div>\n            </div>\n        </div>\n        <div class="chat-entry" id="messaging" ng-show="vm.activeConnection">\n            <div class="row mgn-vert">\n                <div class="col-md-8 col-md-offset-2">\n                    <input type="text" ng-show="vm.messageMode === \'text\'"\n                           data-ng-model="vm.message" class="form-control "\n                           placeholder="new message ..."/>\n\n                    <textarea type="text" ng-show="vm.messageMode === \'multiline\'" rows="3"\n                              data-ng-model="vm.message" class="form-control"\n                              placeholder="new message..." modal-focus="vm.msgFocus"></textarea>\n\n                    <div ng-show="vm.messageMode === \'html\'">\n                        <textarea os-html-edit minimal class="editor-min" data-ng-model="vm.message"></textarea>\n                    </div>\n                </div>\n            </div>\n            <div class="row mgn-vert no-mgn-sides">\n                <div class="col-xs-12 col-sm-8 col-md-6 col-md-offset-2">\n                    <span data-ng-show="vm.error" class="text-danger text-center">\n                        <strong data-ng-bind="vm.error"></strong>\n                    </span>\n                </div>\n                <div class="col-xs-10 col-xs-offset-1 col-sm-4 col-sm-offset-0 col-md-2">\n                    <!--<div class="btn-group" dropdown>-->\n                    <button type="button" class="btn btn-oset-primary btn-block" value="send"\n                            ng-click="vm.postMessage();"\n                            ng-class="{\'disabled\':(vm.sending || !vm.message)}">Send\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),$templateCache.put("/modules/companies/views/templates/company-list.client.template.html",'<section ng-init="findByUser(profile)" data-ng-controller="CompaniesController">\n    <h1>TODO: Determine if needed</h1>\n\n    <span class="col-md-12 opaque-bg">\n        <legend>Company Profile?????????</legend>\n        <div class="list-group">\n            <a data-ng-repeat="company in companies" data-ng-href="companies/{{company._id}}" class="list-group-item">\n                <div class="row">\n                    <div class="col-md-8">\n                        <h4 class="list-group-item-heading">{{company.name}}\n                        </h4>\n                    </div>\n                    <div class="col-md-4">\n                        <small class="list-group-item-text">\n                            <p class="text-right">Added on\n                                <span data-ng-bind="company.created | date:\'shortDate\'"></span>\n    </p>\n    </small>\n    </div>\n    </div>\n\n    <div class="row">\n        <div class="col-md-8 opaque-bg" data-ng-bind-html="company.about"></div>\n        <div class="col-md-4">\n            <label>Location:\n                <strong>{{company.zipCode}}</strong>\n            </label>\n        </div>\n    </div>\n    </a>\n    </div>\n    <div class="alert alert-warning text-center" data-ng-hide="!companies.$resolved || companies.length">\n        Do you own a company? <a href="/companies/create">create a profile</a>?\n    </div>\n    </span>\n</section>\n'),$templateCache.put("/modules/companies/views/templates/subscriptions.client.template.html",'<div class="pricing-table">\n            <div class="table-col pull-left first">\n                <div class="table-row">\n                    <div class="empty-header"></div>\n                    <div class="table-header local">\n                        <div class="title">local</div>\n                        <div class="price">\n                            <span class="small">$</span>\n                            <span class="value">60</span>\n                        </div>\n                        <div class="period">per month</div>\n                    </div>\n                </div>\n                <div class="table-row">\n                    <div class="row-cell row-title">Job posts</div>\n                    <div class="row-cell">2</div>\n                </div>\n                <div class="table-row">\n                    <div class="row-cell row-title">Applicant redirect</div>\n                    <div class="row-cell enable"></div>\n                </div>\n                <div class="table-row">\n                    <div class="row-cell row-title">Applicant tracking</div>\n                    <div class="row-cell disable"></div>\n                </div>\n                <div class="table-row">\n                    <div class="row-cell row-title">downloadable reports</div>\n                    <div class="row-cell disable"></div>\n                </div>\n                <div class="table-row">\n                    <div class="row-cell row-title">Require reports</div>\n                    <div class="row-cell disable"></div>\n                </div>\n                <div class="table-row">\n                    <div class="row-cell row-title">Multiple log-ins</div>\n                    <div class="row-cell disable"></div>\n                </div>\n                <div class="table-row">\n                    <div class="row-cell row-title">Customized background checks</div>\n                    <div class="row-cell">N/A</div>\n                </div>\n            </div>\n            <div class="table-col pull-left second">\n                <div class="table-row">\n                    <div class="empty-header mobile"></div>\n                    <div class="table-header regional">\n                        <div class="title">regional</div>\n                        <div class="price">\n                            <span class="small">$</span>\n                            <span class="value">95</span>\n                        </div>\n                        <div class="period">per month</div>\n                    </div>\n                </div>\n                <div class="table-row">\n                    <div class="row-cell row-title mobile">Job posts</div>\n                    <div class="row-cell">5</div>\n                </div>\n                <div class="table-row">\n                    <div class="row-cell row-title mobile">Applicant redirect</div>\n                    <div class="row-cell enable"></div>\n                </div>\n                <div class="table-row">\n                    <div class="row-cell row-title mobile">Applicant tracking</div>\n                    <div class="row-cell enable"></div>\n                </div>\n                <div class="table-row">\n                    <div class="row-cell row-title mobile">downloadable reports</div>\n                    <div class="row-cell enable"></div>\n                </div>\n                <div class="table-row">\n                    <div class="row-cell row-title mobile">Require reports</div>\n                    <div class="row-cell disable"></div>\n                </div>\n                <div class="table-row">\n                    <div class="row-cell row-title mobile">Multiple log-ins</div>\n                    <div class="row-cell disable"></div>\n                </div>\n                <div class="table-row">\n                    <div class="row-cell row-title mobile">Customized background checks</div>\n                    <div class="row-cell">+65 per month</div>\n                </div>\n            </div>\n            <div class="table-col pull-left third">\n                <div class="table-row">\n                    <div class="empty-header mobile"></div>\n                    <div class="table-header fleet">\n                        <div class="title">fleet</div>\n                        <div class="price">\n                            <span class="small">$</span>\n                            <span class="value">145</span>\n                        </div>\n                        <div class="period">per month</div>\n                    </div>\n                </div>\n                <div class="table-row">\n                    <div class="row-cell row-title mobile">Job posts</div>\n                    <div class="row-cell">15</div>\n                </div>\n                <div class="table-row">\n                    <div class="row-cell row-title mobile">Applicant redirect</div>\n                    <div class="row-cell enable"></div>\n                </div>\n                <div class="table-row">\n                    <div class="row-cell row-title mobile">Applicant tracking</div>\n                    <div class="row-cell enable"></div>\n                </div>\n                <div class="table-row">\n                    <div class="row-cell row-title mobile">downloadable reports</div>\n                    <div class="row-cell enable"></div>\n                </div>\n                <div class="table-row">\n                    <div class="row-cell row-title mobile">Require reports</div>\n                    <div class="row-cell enable"></div>\n                </div>\n                <div class="table-row">\n                    <div class="row-cell row-title mobile">Multiple log-ins</div>\n                    <div class="row-cell enable"></div>\n                </div>\n                <div class="table-row">\n                    <div class="row-cell row-title mobile">Customized background checks</div>\n                    <div class="row-cell">+65 per month</div>\n                </div>\n            </div>\n            <div class="clearfix"></div>\n        </div>\n\n\n<!--<section class="subscription-client-template col-sm-12">\n    <div class="row">\n        <h3 class="title text-center mgn-top">{{vm.text.sub}}</h3>\n    </div>\n\n    <div class="row subscription-info">\n        <div class="col-md-10 col-md-offset-1">\n            <div class="row name">\n                <div class="package col-md-3 firstRow"\n                     ng-repeat="package in vm.packages | orderBy : \'index\'"\n                     ng-init="package.current = vm.subscription.isValid && package.planId === vm.subscription.planId"\n                     ng-class="{\'col-md-offset-3\': !!$first, \'active\': package.active, \'current\': package.current}"\n                     ng-mouseenter="package.active = true;"\n                     ng-mouseleave="package.active = false;">\n                    <h3>\n                        {{package.name}}\n                        <i class="mgn-left fa fa-star"\n                           ng-show="package.planId === vm.subscription.planId"\n                           uib-tooltip="This is your current subscription level"\n                           tooltip-popup-delay="700"></i>\n                    </h3>\n                </div>\n            </div>\n\n            <div class="row">\n                <div class="package col-md-3"\n                     ng-repeat="package in vm.packages"\n                     ng-class="{\'col-md-offset-3\': !!$first, \'active\': package.active, \'current\': package.current}">\n                    <p class="price-figure">\n                        <span class="price-figure-inner">\n                            <span class="currency">$</span><span\n                                class="number">{{package.price}}</span><br>\n                        <span class="unit"> per month</span></span>\n                    </p>\n\n                </div>\n            </div>\n\n            <div class="row features" ng-repeat="feature in vm.features"\n                 ng-init="lastFeature = $last">\n                <div class="package col-md-3 li text-right">\n                    {{feature}}\n                </div>\n\n                <div ng-repeat="package in vm.packages | orderBy : \'index\'"\n                     ng-init="pkgValue = package.features[feature];"\n                     class="package col-md-3 li {{pkgValue.classes}}"\n                     ng-class="{\'active\': package.active, \'lastRow\': !vm.user && lastFeature, \'current\': package.current}"\n                     ng-mouseenter="package.active = true;"\n                     ng-mouseleave="package.active = false;"\n                     ng-attr-uib-tooltip="{{pkgValue.tooltip}}"\n                     tooltip-popup-delay="700">\n\n                    <span ng-if="lastFeature && !!pkgValue.text">\n                        <span class="strong">{{pkgValue.text}}</span>\n                        <span ng-if="!!pkgValue.value" class="unit text-muted"> per month</span>\n                    </span>\n\n                    <span ng-if="lastFeature && !pkgValue.value">&nbsp;</span>\n\n                    <span ng-if="!lastFeature && !!pkgValue.text">\n                        {{pkgValue.text}}\n                    </span>\n\n                    <i class="fa {{pkgValue.icon}}" ng-if="!lastFeature && !pkgValue.text">\n                    </i>\n                </div>\n\n            </div>\n\n            <div class="row mgn-bottom" ng-if="!!vm.user">\n                <div class="package col-md-3 lastRow text-center pad-vert"\n                     ng-repeat="package in vm.packages | orderBy : \'index\'"\n                     ng-class="{\'col-md-offset-3\': !!$first, \'active\': package.active, \'current\': package.current}"\n                     ng-mouseenter="package.active = true;"\n                     ng-mouseleave="package.active = false;">\n                    <button type="button" class="btn btn-oset-secondary"\n                            ng-click="vm.orderSubscription(package.planId)">\n                        Order\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>-->\n'),
$templateCache.put("/modules/companies/views/templates/view-company.client.template.html",'<section name="os-company.directive">\n    <!-- os-company directive : view-company.client.template.html -->\n    <div ng-show="!!vm.inline">\n        <div class="row">\n            <div class="col-md-8">\n                <h4 class="list-group-item-heading">{{vm.company.name}}</h4>\n            </div>\n            <div class="col-md-4">\n                <small class="list-group-item-text">\n                    <p class="text-right">Added on <span data-ng-bind="vm.company.created | date:\'shortDate\'"></span>\n                    </p>\n                </small>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="col-md-8 opaque-bg">\n                <span class="nowrap"\n                      style="white-space: nowrap; overflow:hidden; text-overflow: ellipsis; display: block;"\n                      ng-bind-html="vm.company.about | limitTo : 1000"></span>\n            </div>\n            <dl class="col-md-4 dl-horizontal">\n                <dt>Location:</dt>\n                <dd>{{vm.company.zipCode || vm.company.addresses.length && vm.company.addresses[0] || \'n/a\'}}&nbsp;</dd>\n                <dt>Owner:</dt>\n                <dd>{{vm.company.owner.displayName}}</dd>\n            </dl>\n        </div>\n    </div>\n\n    <div ng-hide="!!vm.inline">\n        <div class="panel panel-oset" ng-if="!!vm.company && vm.company.about">\n            <div class="panel-heading">\n                <span class="title">ABOUT US</span>\n                <a href="" class="icon"><img src="modules/drivers/img/share.png" title="share" class="share"/></a>\n            </div>\n            <div class="panel-body">\n                <div data-ng-bind-html="vm.company.about"></div>\n            </div>\n        </div>\n\n        <div class="panel-oset" ng-if="(!vm.company || !vm.company.about) && vm.canEdit">\n            <div class="panel-heading"><span class="h4">Please create your company profile</span></div>\n            <div class="panel-body">\n                <p class="text-muted">Hi {{::vm.user.firstName}},<br/>{{::vm.createText}}</p><br/>\n\n                <p class="text-right" ng-if="!vm.canEdit"><img src="/modules/core/img/brand/logo-blue.png"\n                                                               alt="The Outset Team"/></p>\n\n                <div class="text-center" ng-if="vm.canEdit">\n                    <button type="button" class="btn btn-cta-secondary btn-lg" ng-click="vm.creEdit()">Get Started!\n                    </button>\n                </div>\n\n            </div>\n        </div>\n\n        <div class="panel-oset" ng-if="(!vm.company || !vm.company.about) && !vm.canEdit">\n            <div class="panel-body">\n                <p ng-bind-html="vm.createText">\n                </p>\n            </div>\n        </div>\n    </div>\n    <!-- os-company directive : END -->\n</section>\n'),$templateCache.put("/modules/core/views/profile-base.client.template.html",'<div class="headline-bg headline-sm headline-map-bg">\n    <div class="blue-mask container-fluid"></div>\n</div>\n\n<div class="container profile-base section section-on-bg">\n\n    <div class="row profile">\n        <div class="col-md-8 profile-body left">\n            <div class="profile-navigation-wrapper">\n                <a ui-sref="users.view({userId: null})" data-ui-sref-active="active">\n                    <div class="nav-item" >\n                        <span class="text">My Profile</span>\n                        <span class="icon pull-right"><i class="fa fa-user"></i></span>\n                    </div>\n                </a>\n                <a ui-sref="feed.list" data-ui-sref-active="active">\n                    <div class="nav-item">\n                        <span class="text">Feed</span>\n                        <span class="icon pull-right"><i class="fa fa-comments-o"></i></span></div>\n                </a>\n                <a href="users.list" data-ui-sref-active="active">\n                    <div class="nav-item">\n                        <span class="text">Friends</span>\n                        <span class="icon pull-right"><i class="fa fa-users"></i></span></div>\n                </a>\n            </div>\n            <os-profile-header model="vm.profile" can-edit="vm.canEdit"></os-profile-header>\n            <div ui-view="content"></div>\n        </div>\n\n        <div ui-view="sidebar" class="col-md-4 gutter profile-gutter right"></div>\n    </div>\n</div>\n'),$templateCache.put("/modules/core/views/templates/os-datepicker.client.template.html",'<input type="text" ng-model="vm.shadow" ng-required="vm.required"\n       ng-model-options="{ updateOn: \'blur\' }"\n       ui-mask="{{vm.mask}}" placeholder="{{vm.displayFormat}}"/>\n'),$templateCache.put("/modules/core/views/templates/os-debug-info.client.template.html",'<div ng-if="enabled" class="row alert alert-info" role="alert" ng-click="toggle()" ng-class="{collapsed: collapsed}">\n    <div ng-repeat="info in debugInfo" ng-hide="collapsed">\n        <span class="col-xs-3 col-md-2 text-right">\n            <b>{{info.key}}:</b>\n        </span>\n        <span class="col-xs-9">{{info.value || "UNDEFINED"}}</span>\n    </div>\n    <div ng-hide="!!collapsed">\n        <span class="col-xs-3 col-md-2 text-right"><b>View Size:</b>\n        </span>\n        <span class="col-xs-9 visible-xs">XS</span>\n        <span class="col-xs-9 visible-sm">SM</span>\n        <span class="col-xs-9 visible-md">MD</span>\n        <span class="col-xs-9 visible-lg">LG</span>\n    </div>\n\n\n    <i class="fa fa-plus-circle" style="padding-right: 10px;" ng-show="collapsed"></i>\n</div>\n'),$templateCache.put("/modules/core/views/templates/os-page-header.client.template.html",'<!-- os-page-header directive : os-page-header.client.template -->\n<div class="page-header panel row" data-ng-if="vm.showHeader || vm.includeTransclude"\n     ng-class="{\'panel panel-default\' : !vm.level}"\n     ng-mouseenter="vm.hover=true" ng-mouseleave="vm.hover=false">\n    \n    <div class="profile-photo col-sm-4" data-ng-if="!!vm.pictureUrl">\n        <div class="center-block full-width">\n            <img data-ng-src="{{vm.pictureUrl}}" alt="profile picture"\n                 class="img-thumbnail user-profile-picture img-responsive">\n            <br data-ng-if="vm.showPicEdit"/>\n            <a class="btn btn-link" data-ng-click="vm.editPicFn()" data-ng-if="vm.showPicEdit"\n               ui-sref="{{vm.editPicSref || \'.\'}}">edit\n                <i class="fa fa-pencil-square-o"></i>\n            </a>\n        </div>\n    </div>\n\n    <div class="profile-info {{!!vm.pictureUrl ? \'col-sm-8\' : \'col-sm-12\'}}">\n        <button ng-if="vm.showBackBtn" class="btn btn-oset-primary pull-left mgn-right"\n                ng-click="vm.backBtnFn()">\n            <i class="fa fa-arrow-left"></i>{{::vm.backBtnText || \'Back\'}}\n        </button>\n        <span class="title" data-ng-bind-html="vm.title" data-ng-if="vm.showHeader">&nbsp;</span>\n        <br/>\n        <span class="subtitle" data-ng-bind-html="vm.subTitle" data-ng-if="vm.showHeader">&nbsp;</span>\n\n        <div class="edit-profile-btn" data-ng-if="!!vm.editSref" data-ng-show="vm.showEdit">\n            <a class="btn btn-link" ui-sref="{{vm.editSref}}">\n            </a>\n        </div>\n        <button ng-if="vm.btnShow && (!!vm.btnText && !!vm.btnSref)" class="btn btn-oset-primary pull-right"\n                ui-sref="{{vm.btnSref}}">{{::vm.btnText}}\n        </button>\n    </div>\n</div>\n<!-- os-page-header directive : END -->\n'),$templateCache.put("/modules/core/views/templates/oset-categories.client.template.html",'<section class="category-directive">\n    <section ng-if="vm.mode === \'edit\' || vm.mode === \'select\'">\n    <pre ng-if="vm.debug">Categories Model: {{vm.categories}}</pre>\n\n        <label class="bgn btn-cta-secondary btn-md no-border oset-toggles {{vm.lblClass}}"\n               ng-click="vm.allClicked()"\n               ng-if="vm.mode===\'select\'"\n               data-ng-class="{\'active\': vm.showAll}">All</label>\n\n    <!-- List of available Categories -->\n    <label ng-repeat="category in vm.categories"\n           class="btn btn-cta-secondary btn-md no-border oset-toggles {{vm.lblClass}}"\n           ng-click="vm.toggle(category)"\n           ng-dblclick="vm.toggle(category, true)"\n           data-ng-class="{\'active\':category.value}">\n        <i class="fa pull-left"></i>\n\n        <div class="col-xs-12">{{category.key}}</div>\n    </label>\n\n    <!-- Input for "other" -->\n    <label class="btn btn-cta-secondary oset-input btn-md oset-toggles {{vm.lblClass}}"\n           data-ng-if="vm.mode===\'edit\'"\n           data-ng-class="{\'active\':vm.newCategory != null}">\n\n        <div ng-click="vm.toggleCategory()">{{ vm.newCategory != null ? \'cancel\' : \'other ...\'}}\n        </div>\n        <input ng-show="vm.newCategory != null" type="text" style="display: inline;"\n               ng-model="vm.newCategory">\n\n        <div style="display: inline;" ng-show="vm.newCategory !== null" ng-click="vm.addCategory()">\n            add&nbsp;<i class="fa fa-plus"></i>\n        </div>\n\n    </label>\n    </section>\n\n    <section ng-if="vm.mode === \'view\'">\n        <label ng-repeat="category in visibleCats = (vm.categories | filter: {value: true})"\n               class="btn btn-cta-secondary btn-md no-border {{vm.lblClass}}"\n               data-ng-class="{\'active\':category.value}">\n            <i class="fa pull-left"></i>\n\n            <div class="col-xs-12">{{category.key}}</div>\n        </label>\n\n        <p ng-if="!visibleCats.length" ng-transclude>\n           </p>\n    </section>\n\n</section>\n'),$templateCache.put("/modules/core/views/templates/privacy.template.html",'<section class="content-section">\n    <h3 class="title container text-center">Outset Partners, Inc. Privacy Policy</h3>\n\n    <div class="content-container container text-center">\n        <div class="content-container-inner">\n            <div class="about">\n                <p class="text-center">(POSTED September 5, 2014. EFFECTIVE IMMEDIATELY FOR USERS WHO JOIN WWW.JOINOUTSET.COM ON OR\n                    AFTER\n                    September 5, 2014 SUPERSEDES ALL PREVIOUS VERSIONS OF THE OUTSET PARTNERS, INC PRIVACY\n                    POLICY.)</p>\n\n                <div class="container-fluid row">\n\n                    <p></p>\n\n                    <p>Outset Partners, Inc. ("Outset") offers various services to help its users find, coordinate, and\n                        maintain quality transportation and driver connections. Outset\'s Privacy Policy ("Privacy\n                        Policy")\n                        is designed to provide a clear understanding of the information we collect and how we use it to\n                        provide our services and give users a better experience. It applies to any users of\n                        www.joinoutset.com and any US affiliated websites, web pages, mobile applications and mobile\n                        websites operated by Outset (the "Site"), including those who are seeking to find a service\n                        provider\n                        through Outset ("Job Providers") as well as those who are looking to promote their services\n                        through\n                        Outset ("Drivers"), and any users of any of the various services that Outset provides through\n                        the\n                        Site or any other channels, including over the telephone ("Services"). For purposes of this\n                        Agreement, the terms "Outset," "we," "us," and "our" refer to Outset Partners, Inc. "You" refers\n                        to\n                        you, as a visitor or user or the Site or the Services. Please note that our subsidiaries have\n                        separate privacy policies. In addition, this Privacy Policy does not apply to third party\n                        entities\n                        that may use the Outset Site or Services. Such entities\' use of the Outset Site and Services are\n                        subject to separate terms that they agreed when they registered with Outset.</p>\n\n                    <p>By using the Site and/or the Services, you consent to our collection, storage, use and disclosure\n                        of\n                        your personal information and other information as described in this Privacy Policy.</p>\n\n                    <p>I. [endif]Information We Collect\n                        A. [endif]Information you provide\n                        B. [endif]Information provided by others\n                        C. [endif]Information you expressly authorize us to collect\n                        D. [endif]Technical and usage information\n                        II. [endif]How We Use Information\n                        A. [endif]Personal Information\n                        B. [endif]Non Personal Information\n                        III. [endif]How We Share Information\n                        A. [endif]Personal Information\n                        B. [endif]Background checks\n                        C. [endif]Non Personal Information\n                        D. [endif]Business transactions\n                        IV. [endif]Your Choices Regarding the Sharing of your Personal Information\n                        V. [endif]Your Communication Choices\n                        VI. [endif]Changing or Removing your Personal Information and Closing your Account\n                        VII. [endif]Collection of Information from Children\n                        VIII. [endif]How We Protect Information\n                        IX. [endif]Links to other Websites\n                        X. [endif]Changes to our Privacy Policy\n                        XI. [endif]Contact Us</p>\n\n                    <p>Information We Collect</p>\n\n                    <p>We collect both "Personal Information" and "Non Personal Information" about our users. In this\n                        policy, Personal Information is information that can be used to contact or identify you, such as\n                        your full name and email address, and information that is linked to such information. "Non\n                        Personal\n                        Information" is information that cannot be used to contact or identify you and is not linked to\n                        information that can be used to contact or identify you and includes passively collected\n                        information\n                        about your activities on our Site, such as usage data, to the extent that information is not\n                        linked\n                        to your Personal Information.</p>\n\n                    <p>Site Visitors can access and browse certain portions of the Site without disclosing Personal\n                        Information, although, like most websites, we passively collect certain information from your\n                        computer, such as your IP address and web browser user agent, when you browse the Site. Visitors\n                        who\n                        access and browse the Site without registering are "Site Visitors". In order to utilize some of\n                        the\n                        Services offered by Outset, you must register with Outset. All users who\n\n                        register with Outset are "Registered Users".</p>\n\n                    <p>Information you provide</p>\n\n                    <p>Regardless of whether you are a Site Visitor or a Registered User, all Personal Information that\n                        you\n                        provide to us when registering, posting a job, posting a profile, communicating through the\n                        Site,\n                        discussing service options over the phone, utilizing our mobile applications or that you\n                        otherwise\n                        provide on the Site or by phone, email or postal mail, will be stored by us. You represent and\n                        warrant to us that you have the right and authority to provide us all Personal Information you\n                        provide about yourself or others. You may provide us this Personal Information in various ways,\n                        including:</p>\n\n                    <p>When registering</p>\n\n                    <p>When you register directly through Outset, we will collect and store the information that you\n                        provide to us directly on our online registration forms. This may include, among other\n                        information:</p>\n\n                    <p>your first and last name your email address your home address your gender your birthday your\n                        phone\n                        number</p>\n\n                    <p>Some users may have the opportunity to register with Outset by connecting through Facebook\'s\n                        application programming interface (API). Please see Section I.B.4 below to learn about the\n                        information we access, collect and store if you register for Outset through Facebook.</p>\n\n                    <p>If you register for a Service that requires you to pay a fee, Outset will also collect your\n                        credit\n                        card type, number, expiration date, and security code as well as your billing address for\n                        payment\n                        purposes and your birthday, if not previously provided.</p>\n\n                    <p>When posting a job</p>\n\n                    <p>If you are a Job Provider, we collect and store all of the additional information that you\n                        provide\n                        to us on your job posting or that is otherwise included in an auto-generated job posting. This\n                        may\n                        include, among other information:</p>\n\n                    <p>the type of service you are looking for, your schedule, location, hourly rate, licensing\n                        requirements, narrative job description, requirements for a Driver (such as ability to drive,\n                        distances to drive, and other service related notes) pictures you choose to provide\n                        any other information you choose to include in your job posting</p>\n\n                    <p>When posting a profile</p>\n\n                    <p>If you are a Driver, we collect and store all of the additional information that you provide to\n                        us\n                        in your profile. This may include, among other information:</p>\n\n                    <p>details on the services you offer, including for example the type of service you provide, your\n                        availability, your location, your level of education, licenses you have, languages you speak,\n                        your\n                        ability to drive\n                        related services you provide pictures you choose to post your phone numbers\n                        references, if you choose to provide them\n                        any other information you choose to include in your profile\n\n                        By telephone</p>\n\n                    <p>Both Site Visitors and Registered Users may provide Personal Information to Outset when they\n                        contact\n                        Member Services or utilize certain Services Outset may offer by telephone. For example, if you\n                        call\n                        a Outset to discuss service options over the phone, we will collect and store all of the\n                        Personal\n                        Information you chose to provide to us, including but not limited to financial information,\n                        license\n                        information, information about the services you or your corporation needs, your contact\n                        information,\n                        etc. If you provide information about someone other than yourself, you represent that you have\n                        authority to do so.</p>\n\n                    <p>Otherwise through the Site or by telephone, email, postal mail or chat</p>\n\n                    <p>Certain Registered Users may provide Personal Information on the Site through other Site features\n                        and offerings such as our online communications, messaging, groups and payment platforms. In\n                        some\n                        cases, Site Visitors may have the ability to provide us Personal Information through the Site,\n                        such\n                        as contact information. In addition, both Registered Users and Site Visitors may choose to\n                        provide\n                        us additional Personal Information by phone, email, postal mail, or chat. We collect and store\n                        all\n                        of the Personal Information you provide us through these channels. Moreover, if you provide\n                        information about someone other than yourself through any of these channels, you represent that\n                        you\n                        have authority to do so.</p>\n\n                    <p>Information provided by others\n                        By Site Visitors, Registered Users and others</p>\n\n                    <p>Outset also captures and collects information that Site Visitors, Registered Users and others\n                        provide about each other. For example, Drivers may invite Site Visitors, Registered Users or\n                        others\n                        to rate and indicate their relationship to the Driver on the Site. Additionally, certain Outset\n                        Registered Users may post reviews about individual Drivers. In addition, certain Registered\n                        Users\n                        may communicate directly with each other through Outset platforms. Site Visitors, Registered\n                        Users\n                        and others also may provide us information about Registered Users by phone, email or postal\n                        mail.\n                        Outset captures and stores all information it receives from Site Visitors, Registered Users and\n                        others about other Registered Users and Site Visitors.</p>\n\n                    <p>By Facebook if you connect to Outset through Facebook</p>\n\n                    <p>You may have the opportunity to connect to Outset through Facebook\'s API when you register for\n                        Outset or after you have registered for Outset. If you connect to Outset through Facebook,\n                        either\n                        when you register or after you have registered, we will collect, store, and use in accordance\n                        with\n                        this Privacy Policy any and all information you agreed that Facebook could provide to Outset\n                        through\n                        its API. Your agreement (and our access to your information) takes place when you instruct,\n                        accept\n                        or allow Facebook to register you for an Outset account or otherwise connect to Outset through\n                        Facebook. The information Outset may access, collect and store may include the following, among\n                        other information, as allowed by you, Facebook\'s API, and your Facebook privacy settings:</p>\n\n                    <p>your name\n                        your profile picture your email address your gender\n                        your birthday\n                        your location (i.e. city)\n                        the names and pictures of your Facebook friends\n\n                        your interests and affinity networks\n                        other information you make publicly available via Facebook</p>\n\n                    <p>By service providers you use in connection with our Services</p>\n\n                    <p>If you engage a service provider through Outset, such as a licensing agency, or a payments\n                        processor, that service provider may provide us Personal Information about you or your\n                        corporation\n                        such as information relating to your transactions with them.</p>\n\n                    <p>By other sources</p>\n\n                    <p>In addition, we may obtain from other sources publicly available Personal Information, such as\n                        demographic data, and other information to enable us to comply with regulatory requirements,\n                        ensure\n                        the accuracy of data, better understand your likely interests, prevent fraud, etc.</p>\n\n                    <p>Information you expressly authorize us to collect</p>\n\n                    <p>We may from time to time request permission for collect Personal Information from or about you.\n                        For\n                        example, if you use a Outset mobile application, we may request permission to access information\n                        about the contacts listed in your mobile device phone book when you initiate an address book\n                        search\n                        for friends who have downloaded the application. We may also request permission to access and\n                        store\n                        your location. If you grant your permission, we will access and or store such information unless\n                        you\n                        subsequently opt out by adjusting the settings in your mobile device.</p>\n\n                    <p>Technical and usage information\n                        Log files, IP addresses and information about your computer and mobile device</p>\n\n                    <p>When you visit the Site, Outset receives the internet protocol ("IP") address of your computer\n                        (or\n                        the proxy server you use to access the internet), your computer operating system and type of web\n                        browser you are using. If you are using a mobile device, Outset may also receive your mobile\n                        device\n                        id (UDID), or another unique identifier, and mobile operating system. We may correlate this\n                        information with other Personal Information we have about you. Additionally, when you visit the\n                        Outset website we and any third parties we use to place ads on our Site automatically receive\n                        the\n                        URL of the webpage from which you came. If you click on an ad, we and any such third party may\n                        also\n                        receive the URL of the page you were on when you clicked the ad and the URL of the site\n                        associated\n                        with the ad that you clicked.</p>\n\n                    <p>Cookies and other technologies</p>\n\n                    <p>Like most websites, we and our service providers use cookies and tracking pixels to track Site\n                        usage\n                        and trends, evaluate the effectiveness of our ads both on and off our Site, customize your\n                        experience on the Site and improve the quality of our Services. For example, using these\n                        technologies we can determine, among other things, which pages of our Site you visit and which\n                        ads\n                        you click on. A cookie is a tiny data file that resides on your computer, mobile phone, or other\n                        device, and allows us to recognize you when you return to the Site using the same computer (or\n                        mobile device) and web browser. You can remove or block cookies using the settings in your\n                        browser,\n                        but in some cases doing so may impact your ability to use Outset. Tracking pixels do not\n                        identify\n                        individual users and the analysis of data obtained by tracking pixels is performed on an\n                        aggregate\n                        basis.</p>\n\n                    <p>When you visit our Site or open one of our emails, we may allow authorized third parties, such as\n                        ad\n                        servers, ad agencies, ad exchanges, ad technology vendors and research firms, to place or\n                        recognize\n                        a unique cookie, pixel, and/or similar technologies on your browser in order to provide you\n                        relevant\n                        Outset advertisements as you surf the Internet. These advertisements may be targeted to you\n                        based on\n                        information these authorized third parties know or infer about you and include in the cookies\n                        placed\n                        on your browser and/or information about your Internet browsing activities gathered through your\n                        browser. If you prefer not to receive these online behavioral advertisements, you may opt-out\n                        here.\n                        In order for the opt-out to work, your browser must be set to accept third party cookies.\n                        Furthermore, if you buy a new computer or mobile device, change web browsers or delete the\n                        opt-out\n                        cookie, you will need to perform the opt-out task again. Please note that if you opt-out you may\n                        continue to receive Outset advertisements as you surf the Internet, including contextual ads\n                        based\n                        on the content on a webpage you are visiting. However, these advertisements will not be\n                        displayed\n                        based on information contained in, or collected by, cookies or other technologies\n\n                        placed on your browser when you visit our Site or open our emails.</p>\n\n                    <p>Social media features and widgets</p>\n\n                    <p>Our Site may include social media features and widgets, such as the Facebook "Like" button and\n                        the\n                        Facebook "Share" button. These features may collect your IP address, the URL of the page you are\n                        visiting on our Site, and may set a cookie to enable the feature to function properly. Social\n                        media\n                        features and widgets are either hosted by a third party or hosted directly on our Site. Your\n                        interactions with these features are governed by the privacy policy of the company providing\n                        it.</p>\n\n                    <p>How We Use Information\n                        Personal Information</p>\n\n                    <p>In general, the Personal Information we collect is used (1) to improve our Services and enhance\n                        your\n                        experience with Outset, (2) to enable us to provide a safer community for all of our Registered\n                        Users, and (3) to help us communicate with you. For example, we may use your Personal\n                        Information\n                        to:</p>\n\n                    <p>register and service your account.\n                        include in Job Provider job postings and Driver profiles.\n                        contact you in response to questions and solicit feedback and input from you.\n                        enable Job Providers and Drivers to search based on the Personal Information the other has made\n                        available on the Site, and the information others have provided about them.\n                        connect Job Providers with Drivers that appear to meet their needs and preferences.\n                        enable Registered Users to search for, find, interact, connect and share information with other\n                        Registered Users they may have an interest in interacting with.\n                        enable Registered Users who connect to Outset through Facebook to see which of their Facebook\n                        friends who have connected to Outset through Facebook are Registered Users or friends with other\n                        Registered Users who have connected to Outset through Facebook.\n                        verify information you provide us as well as the representations and warranties you make to us\n                        in\n                        the Terms of Use or on the Site.\n                        otherwise help protect the safety and integrity of the Site and Outset users.\n                        target promotional messages or content on the Site, via email or other ads on Outset or third\n                        party\n                        sites.\n                        Non Personal Information</p>\n\n                    <p>In general, we use the Non Personal Information we collect to help us improve our Services and\n                        customize the user experience, such as by providing targeted useful features and promotions\n                        based on\n                        the type of Service you seek. We also aggregate the information collected via cookies and\n                        similar\n                        technologies to use in statistical analysis to help us track trends, evaluate the effectiveness\n                        of\n                        our ads and analyze patterns in the use of Outset.</p>\n\n                    <p>How We Share Information</p>\n\n                    <p>In addition to using the information collected by Outset for the purposes described above, we may\n                        also share your information with various third parties, as described below. Please review our\n                        sharing policy closely, especially with respect to your Personal Information. By using our Site\n                        or\n                        our Services, you agree to allow us to share the Personal Information you provide to us in the\n                        ways\n                        described below. Your ability to make changes to what information is shared is described below\n                        in\n                        Section IV.</p>\n\n                    <p>Personal Information\n                        With All Site Visitors and Registered Users</p>\n\n                    <p>If you are a Job Provider or a Driver, in order to increase your chances of finding a job or\n                        finding\n                        the services you need, we share with Site Visitors and Registered Users the information that is\n                        included in your job posting or profile, aside from your contact information, as well as the\n                        following registration information, which we may include in your job posting or profile: your\n                        first\n                        name, first initial of your last name, city, state, profile picture, licensing details,\n                        background\n                        check and MVR details and if you are a Driver, unless you opt-out, your age. With certain\n                        exceptions, you choose how much detail you want to include in either your job posting or your\n                        profile; the more information you share, however, the better\n\n                        chance you have of finding either drivers or a job. We may also share on your profile or job\n                        posting\n                        any company reviews you have posted on our Site and whether you have connected to Outset through\n                        Facebook. If you are a Driver and have elected to verify certain information with Outset or to\n                        have\n                        a background check or MVR performed, we may also disclose that information in your profile in\n                        addition to any payment or payroll preferences you have indicated.</p>\n\n                    <p>If you post information in an Outset online group forum, that information may be viewed by any\n                        Site\n                        Visitor or Registered User who accesses the forum.</p>\n\n                    <p>We may display personal testimonials of Registered Users and other endorsements on our Site or in\n                        other marking materials. These testimonials or endorsements may include Non Personal Information\n                        such as the Registered User\'s first name, first initial of last name, town and state. With a\n                        Registered User\'s consent, we may include Personal Information such as their full name.</p>\n\n                    <p>With other Registered Users and corporate providers</p>\n\n                    <p>In addition to the information that is provided to all visitors to Outset, Driver reviews and\n                        references are made available to certain Registered Users. If you are a Driver, your phone\n                        number\n                        and other contact information may be visible to certain Registered Users if you elect to share\n                        it in\n                        your profile.</p>\n\n                    <p>If you are a Job Provider or a Driver, you will appear in search result listings if you match the\n                        search criteria used by a Driver or Job Provider, as applicable. Similarly, you may appear in\n                        emails\n                        sent to Drivers or Job Providers in your area. Job Providers may opt-out of being included in\n                        Driver\n                        search results and in certain emails sent to Drivers.</p>\n\n                    <p>If you connect to Outset through Facebook, we may allow any of your Facebook friends who have\n                        connected to Outset through Facebook to see that you are a Registered User. In addition, other\n                        Registered Users who have connected to Outset through Facebook will be able to see if you are\n                        friends with any of their Facebook friends or if you share certain affinities or interests with\n                        them.</p>\n\n                    <p>If we terminate your registration for any reason, we reserve the right to send a notice of your\n                        termination to other Registered Users with whom we believe you have corresponded.</p>\n\n                    <p>With vendors/service providers</p>\n\n                    <p>We also share Personal Information with vendors who perform services on behalf of Outset,\n                        including\n                        without limitation vendors who provide email services, demographic information, or geo-location\n                        information, vendors who perform background checks (including MVRs and other verification\n                        checks),\n                        vendors who process credit card payments, vendors who run classified advertising businesses, and\n                        vendors who send SMS messages to Registered Users\' mobile phone numbers, in each case to the\n                        extent\n                        applicable. Outset has selected vendors who maintain high standards with respect to privacy and\n                        agree to use the Personal Information only to perform specific services on behalf of Outset.</p>\n\n                    <p>With listings in Google and other public search engines</p>\n\n                    <p>In an effort to further facilitate the ability for Job Providers or Drivers to find a drivers or\n                        job, selected information contained in Job Provider job postings and Driver profiles, which may\n                        include photo, first name, first initial of last name, city, state, and job/provider\n                        description,\n                        may also be shared with third party search engines, job boards, job sites, trade publications,\n                        newspapers, broadcast media organizations and other vendors who run classified advertising\n                        businesses, and thus may be listed in third party web site search results (e.g., Google,\n                        Craigslist,\n                        Indeed, etc.), which would make that information available to the public and allow them to link\n                        to\n                        your Outset posting.</p>\n\n                    <p>\n                        With Facebook if you connect to Outset through Facebook</p>\n\n                    <p>If you connect to Outset through Facebook\'s API, you may elect to post certain of your activities\n                        on\n                        Outset back to your Facebook account. You will be prompted to decide whether or not to share\n                        those\n                        Outset activities back to your\n\n                        Facebook account.</p>\n\n                    <p>As required by law or for reasons of safety</p>\n\n                    <p>You acknowledge and agree that we may disclose information we\'ve collected about you if required\n                        to\n                        do so by law or if we, in our sole discretion, believe that disclosure is reasonable to comply\n                        with\n                        the law, requests or orders from law enforcement, or any legal process (whether or not such\n                        disclosure is required by applicable law), or to protect or defend Outset\'s, or a third party\'s,\n                        rights or property. We may also reserve the right to disclose information we\'ve collected about\n                        you\n                        for purposes of protecting the health and safety of our community and Registered Users, such as\n                        in\n                        the case of risk of harm or violence against any person (including you).</p>\n\n                    <p>With our affiliates</p>\n\n                    <p>You acknowledge and agree that to the maximum extent permitted by law we may disclose any of the\n                        information we\'ve collected about you to any of our affiliates or subsidiaries, for the purposes\n                        of\n                        providing you with the Services, operating the Site, and our other commercial purposes.</p>\n\n                    <p>With Your Consent</p>\n\n                    <p>We also may share your Personal Information with a third party if you consent to the sharing.</p>\n\n                    <p>Background checks</p>\n\n                    <p>If you request us to do so, Outset can provide background check services on you which are\n                        prepared\n                        by a consumer reporting agency. If you request and order a Background Check (including a Motor\n                        Vehicle Record Report) to be run on you in response to a request by a Job Provider who is\n                        considering hiring you, we will forward the report to you. It is your decision and\n                        responsibility to\n                        authorize the background check to be forwarded to the prospective Job Provider, if you wish to\n                        do\n                        so. Please be aware that Outset will also view the background check report and Outset may\n                        suspend or\n                        terminate your account with Outset, based on information contained in that report. The\n                        information\n                        and results of a Background Check (including the Motor Vehicle Records Report) that resulted in\n                        Outset suspending or terminating your account will not be shared with other parties including\n                        Site\n                        Visitors and Registered Users unless you specifically request us to do so. If you have\n                        requested\n                        a background check through Outset, a statement may be included in your profile to confirm that\n                        you\n                        have completed that background check. The consumer reporting agency who completes the background\n                        check may send the results to you by email or postal mail. You acknowledge that sensitive\n                        material\n                        may be included in your background check, and that you are responsible for providing us and our\n                        service provider (if applicable) with correct mailing information.</p>\n\n                    <p>Non Personal Information</p>\n\n                    <p>This Privacy Policy does not limit our use or disclosure of any Non Personal Information, such as\n                        information passively collected from your computer via cookies, web beacons, or standard logging\n                        of\n                        website activity. If you do not wish to share this information with Outset, then you should take\n                        steps to limit the passive collection of data about your activities on our site, for example, by\n                        changing your browser settings to disable cookies. We reserve the right to use and disclose such\n                        Non\n                        Personal Information, as well as any other Non Personal Information we collect, with our\n                        advertisers\n                        and other third parties at our discretion.</p>\n\n                    <p>Business transactions</p>\n\n                    <p>In the event we go through a business transition such as a merger, acquisition by another\n                        company,\n                        or sale of all or a portion of our assets, your Personal Information may be among the assets\n                        transferred. You acknowledge and consent that such transfers may occur and are permitted by this\n                        Privacy Policy, and that any acquirer of ours or that acquirer\'s affiliates may continue to\n                        process\n                        your Personal Information as set forth in this Privacy Policy.</p>\n\n                    <p>Your Choices Regarding the Sharing of your Personal Information</p>\n\n                    <p>Registered Users have control over what optional Personal Information they choose to share with\n                        us\n                        when utilizing\n\n                        our Services (such as pictures, certain details in a job description or profile, etc.).</p>\n\n                    <p>In addition, Registered Users have the following opt out choices with respect to the sharing of\n                        their Personal Information:</p>\n\n                    <p>Registered Users who have connected to Outset through Facebook may subsequently opt out of having\n                        certain of their Facebook information shared with Outset and certain of their Outset information\n                        shared with Facebook by disabling Facebook Connect in their account settings.\n                        If a Driver has chosen to have their phone number made available to other Registered Users but\n                        later\n                        decides they no longer wish to make it available, they may change their election.\n                        Drivers can opt out of having their age visible to Registered Users.\n                        Job Providers can opt out of appearing in Driver search results and in certain Driver emails by\n                        adjusting their account settings to not allow Drivers to initiate contact with them.\n                        Users of an Outset mobile application, who have given Outset permission to access certain\n                        information from their mobile device such as their location, may subsequently opt out of that\n                        information sharing by adjusting the settings in their mobile device.</p>\n\n                    <p>Except as otherwise provided above, you may adjust your account settings to opt out of any of the\n                        above information sharing that is applicable to your account. Your opt out preferences will take\n                        effect within 10 days of receipt of your request.</p>\n\n                    <p>Your Communication Choices</p>\n\n                    <p>By becoming a Outset Registered User, you are consenting to receive certain email communications\n                        from us, such as special offers, tips and advice, notifications of new Job Providers or Drivers\n                        in\n                        your area, customer surveys and administrative notices.</p>\n\n                    <p>You have a choice at any time to stop us from sending you emails for marketing purposes by\n                        adjusting\n                        your settings in your account settings. You also have the option to opt out of receiving certain\n                        other emails from Outset, such as certain educational emails, by adjusting your settings in your\n                        account settings. Go to your account settings for a complete list of the email types you may opt\n                        out\n                        of receiving. If you receive promotional or other email communications from us that you have the\n                        option to opt out of, you also will be able to opt out of receiving further communications of\n                        that\n                        type by following the unsubscribe instructions provided in the e-mail. Please note that despite\n                        any\n                        indicated email marketing preferences, we may send you administrative emails regarding Outset,\n                        including, for example, notices of updates to our Privacy Policy, notifications of new Job\n                        Providers\n                        or Drivers in your area, responses to job postings from Drivers, and responses to job\n                        applications\n                        from Drivers, if we choose to provide such notices to you in this manner.</p>\n\n                    <p>If you are a Job Provider, certain Drivers may initiate contact with you directly using the\n                        messaging features of the Outset Site. You have an option at any time to stop permitting Drivers\n                        from initiating contact with you by adjusting your settings in your account settings.</p>\n\n                    <p>Changing or Removing your Personal Information and Closing your Account</p>\n\n                    <p>If the Personal Information you provided when you registered changes, you may update this\n                        information by logging into your account and accessing your account settings. If you would like\n                        to\n                        remove some of the Personal Information you have posted on the Site, such as information you\n                        posted\n                        in profiles and job postings, you may do so by editing or deleting that item in your Profile &\n                        Settings sections or your Jobs section. To request removal of other Personal Information you\n                        have\n                        voluntarily posted on our Site, such as information you may have posted in online group forums,\n                        contact support@joinoutset.com In some cases, we may not be able to reasonably accommodate your\n                        request to remove your Personal Information, in which case we will let you know if we are unable\n                        to\n                        do so and why.</p>\n\n                    <p>If you no longer wish to participate in our Services you may close your account directly in the\n                        account settings portion of your account.</p>\n\n                    <p>If you close your Outset account, we will remove your name and other Personal Information from\n                        our\n                        publicly viewable database. If you close your account, we have no obligation to retain your\n                        information, and may delete any or all of your account information without liability. However,\n                        we\n                        may retain information related to you if we believe it may\n\n                        be necessary to prevent fraud or future abuse, or for legitimate business purposes, such as\n                        analysis\n                        of aggregated, Non Personal Information, account recovery, auditing our records, enforcing our\n                        rights and obligations under our agreements or if required by law. Outset may also retain and\n                        use\n                        your information if necessary to provide the Services to other Registered Users. For example,\n                        just\n                        as an email you may send to another person through an email service provider resides in that\n                        person\'s inbox even after you delete it from your sent files or close your account, emails you\n                        send\n                        to others through Outset to other Users, as well as your contributions to Outset groups, may\n                        remain\n                        visible to others after you have closed your account. Similarly, other information you have\n                        shared\n                        with others, or that others have copied, may also remain visible. Outset disclaims any liability\n                        in\n                        relation to the deletion or retention (subject to the terms herein) of information or any\n                        obligation\n                        not to delete the information. Outset does not control when search engines update their search\n                        index\n                        or cache, which may contain certain job post, profile or other information that has since been\n                        removed from Outset\'s Site.</p>\n\n                    <p>Collection of Information from Children</p>\n\n                    <p>Outset\'s Site and Services are not intended for individuals under the age of 18. Accordingly,\n                        Outset\n                        does not knowingly collect, either online or offline, personal information from individuals\n                        under\n                        the age of 18.</p>\n\n                    <p>How We Protect Information</p>\n\n                    <p>We have implemented industry-recognized safeguards to help protect your information from\n                        unauthorized access. These safeguards include:</p>\n\n                    <p>Outset uses SSL (Secure Socket Layer), the industry standard method for computers to communicate\n                        securely without risk of manipulation or recipient impersonation. We utilize SSL in the online\n                        registration process, in the login process, and in the account management section of the Site.\n                        Outset uses strong encryption technology to protect sensitive information.\n                        Outset employs firewalls, intrusion detection systems, and system monitoring to protect against\n                        unauthorized access of our systems.</p>\n\n                    <p>Your user accounts are also protected by the password you use to access your online account with\n                        Outset, and we urge you to take steps to keep your password safe. If you feel your password has\n                        been\n                        compromised, you should change it immediately by logging into your account and visiting the\n                        "Settings" section. After you have finished using our Site, you should log out of your Outset\n                        account and exit your browser.</p>\n\n                    <p>WE TAKE THESE PRECAUTIONS IN AN EFFORT TO PROTECT YOUR INFORMATION AGAINST SECURITY BREACHES.\n                        HOWEVER, THIS IS NOT A GUARANTEE THAT SUCH INFORMATION MAY NOT BE ACCESSED, DISCLOSED, ALTERED,\n                        OR\n                        DESTROYED BY BREACH OF SUCH FIREWALLS AND SECURE SERVER SOFTWARE. BY USING OUR SITE, YOU\n                        ACKNOWLEDGE\n                        THAT YOU UNDERSTAND AND AGREE TO ASSUME THESE RISKS.</p>\n\n                    <p>Links to Other Websites</p>\n\n                    <p>Outset may provide links to other web sites that we believe may be of interest to our users.\n                        However, we are not responsible for the privacy practices employed by those web sites, nor are\n                        we\n                        responsible for the information or content they contain. This Privacy Policy applies solely to\n                        information collected by us through Outset; thus when you use a link to go from our web site to\n                        another third party web site, this policy is no longer in effect. We encourage our users to read\n                        the\n                        privacy policies of these other web sites before proceeding to use them.</p>\n\n                    <p>Changes to Our Privacy Policy</p>\n\n                    <p>Outset reserves the right to change this Privacy policy and our Terms of Service at any time. We\n                        will notify you about significant changes in the way we treat Personal Information by sending a\n                        notice to the email address registered in your account, or by placing a prominent notice on our\n                        Site, so that you can choose whether to continue using our Services. Significant changes will go\n                        into effect 30 days after we notify. Non-material changes or clarifications will take effect\n                        immediately upon posting of the updated policy on our Site. You should\n                        periodically\n                        check www.joinoutset/privacy for updates. Your use of the Site or the Services after such\n                        effective\n                        date will constitute acceptance by you of such changes.</p>\n\n                    <p>Contact Us</p>\n\n                    <p>If you have any questions on our Privacy Policy, you can contact us via email at\n                        info@joinoutset.com\n                        or at:</p>\n\n                    <p>Attn: Legal Department Outset Partners, Inc</p>\n\n                    <p>2269 Chestnut St #607 San Francisco, CA 94123</p>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>\n'),
$templateCache.put("/modules/core/views/templates/termsofservice.template.html",'<DIV ID="TextSection" DIR="LTR">\n\n\n    <div class="panel panel-oset"> (POSTED January 5, 2015.\n        EFFECTIVE IMMEDIATELY FOR USERS WHO JOIN JOINOUTSET.COM ON OR AFTER January 5, 2015. SUPERSEDES ALL PREVIOUS\n        VERSIONS OF THE OUTSET PARTNERS Inc. TERMS OF USE.)\n    </div>\n\n    <P> These Terms of\n        Use (the &quot;Terms&quot; or &quot;Agreement&quot;) set forth the terms and conditions under which individuals\n        residing in the United States may use the Outset Partners, Inc. (Outset) Site located at <A\n                HREF="http://www.joinoutset.com/">www.joinoutset.com </A>and all related webpages and/or\n        the Outset Services (described below). Certain Outset Services are subject to additional policies, rules and\n        terms and conditions, which are set forth in the printed or online Service materials relating to those Services\n        (&quot;Additional Terms&quot;).</P>\n\n\n    <UL>\n        <LI><P> Please read these Terms\n            and any applicable Additional Terms before using the Site or the Services. By using the Site or the\n            Services, you hereby represent, warrant, understand, agree to and accept these Terms and any applicable\n            Additional Terms in their entirety whether or not you register as a user of the Site or Services (&quot;Registered\n            Users&quot;).</P>\n        <LI><H3> This\n            Agreement contains an Agreement to Arbitrate, which will, with limited exception, require you to submit\n            claims you have against us to binding and final arbitration, unless you opt out of the Agreement to\n            Arbitrate (see Section 13 &quot;Agreement to Arbitrate&quot;) by the later of January 5, 2015 or 30 days\n            after the date you accept these Terms for the first time. Unless you opt out: (1) you will only be permitted\n            to pursue claims against Outset on an individual basis, not as a plaintiff or class member in any class or\n            representative action or proceeding, and (2) you will only be permitted to seek relief (including monetary,\n            injunctive, and declaratory relief) on an individual basis.\n        </H3>\n        <LI><P> These\n            Terms include the Outset <U>Privacy Policy</U>, which is incorporated herein. If you object to\n            anything in these Terms, the Privacy Policy or any applicable Additional Terms, do not use the Site or the\n            Services.\n        </P>\n        <LI><P><A\n                NAME="_GoBack"></A> These Terms, including the Privacy Policy, are subject to change by Outset at any\n            time. We will notify you about significant changes in these Terms by sending a notice to the email address\n            registered in your account, or by placing a prominent notice on our Site, so that you can choose whether to\n            continue using our Services. Significant changes will go into effect no less than 30 days after we notify\n            you. Non-material changes or clarifications will take effect immediately upon posting of the updated Terms\n            on our Site. You should periodically check <A HREF="\\h">www.joinoutset.com/terms </A>for\n            updates. Additional Terms are also subject to change by Outset at any time and take effect immediately upon\n            publishing. Any use of the Site or the Services by you after the effective date of any changes will\n            constitute your acceptance of such changes.\n        </P>\n    </UL>\n    <P> For purposes\n        of these Terms, the &quot;Site&quot; shall mean <A HREF="http://www.joinoutset.com/">www.joinoutset.com</A> and\n        any other Outset branded websites, web pages, mobile applications and mobile websites operated by Outset\n        Partners, Inc. (&quot;Outset&quot; or &quot;we&quot;) in the United States, and the &quot;Services&quot; shall\n        mean any of the various services that Outset provides through the Site or any other channels, including over the\n        telephone. In addition, these Terms do not apply to third party entities that may use the Outset Site or\n        Services. Such entities\' use of the Outset Site and Services are subject to separate terms that they agreed when\n        they registered with Outset.</P>\n\n\n    <UL>\n        <OL>\n            <LI><P ALIGN=LEFT><U>Description of Services; Limitations; User Responsibilities</U>\n            </P>\n            <LI><P ALIGN=LEFT><U>Eligibility to Use The Site and Services; Representations\n                and Warranties</U>\n            </P>\n            <LI><P ALIGN=LEFT>\n                <U>Rules For User Conduct and Use of Services</U>\n            </P>\n            <LI><P ALIGN=LEFT><U>Background and Verification Checks</U>\n            </P>\n            <LI><P ALIGN=LEFT><U>Termination of Registration</U>\n            </P>\n            <LI><P ALIGN=LEFT><U>Privacy</U></P>\n            <LI><P ALIGN=LEFT><U>Links to External Sites</U>\n            </P>\n            <LI><P ALIGN=LEFT><U>Payment and Refund Policy</U>\n            </P>\n            <LI><P ALIGN=LEFT><U>Release of Liability for Conduct and Disputes</U>\n            </P>\n            <LI><P ALIGN=LEFT><U>Age Restrictions</U></P>\n            <LI><P ALIGN=LEFT>\n                <U>Disclaimers; Limitations; Waivers; and Indemnification</U>\n            </P>\n            <LI><P ALIGN=LEFT>\n                <U>Copyright Notices/Complaints</U></P>\n            <LI><P ALIGN=LEFT><U>Agreement to Arbitrate</U>\n            </P>\n            <LI><P ALIGN=LEFT><U>Governing Law and Venue</U>\n            </P>\n            <LI><P ALIGN=LEFT><U>Miscellaneous</U></P>\n        </OL>\n    </UL>\n</DIV>\n<UL>\n    <OL>\n        <LI><P ALIGN=LEFT>\n            <U>Contact Information</U></P>\n    </OL>\n</UL>\n<OL>\n    <LI><H1> Description of Services; Limitations; User\n        Responsibilities</H1>\n        <OL>\n            <LI><H2>1.1 About Our Services</H2>\n        </OL>\n</OL>\n<P>\n    Outset offers various Services to help its users find, coordinate, and maintain quality transportation and driver\n    connections. The Services we offer include, among others:</P>\n<P CLASS="western"\n        ><BR>\n</P>\n<OL>\n    <OL>\n        <UL>\n            <LI><P> We enable individuals\n                or corporations seeking providers of driving services (such as taxi, limo, chauffer, independent,\n                ridesharing, bus, delivery and/or trucking services) Drivers (each &quot;Job Providers&quot;) to post\n                jobs on the Site, and we enable individuals and entities who provide driving services (&quot;Drivers&quot;)\n                to post profiles on the Site and apply to jobs.</P>\n            <LI><P> We\n                provide search functionality on the Site to allow Job Providers and individual Drivers to narrow the\n                pool of Job Providers or Drivers they are interested in meeting based on their needs and preferences,\n                and we provide a communications platform that allows Job Providers and Drivers to communicate without\n                sharing contact information.</P>\n            <LI><P> We\n                provide tools and information to help Job Providers and Drivers make more informed decisions, such as\n                (i) verification dashboards on Driver profiles, which enable Job Providers to check the status of a\n                Driver\'s various verifications, and (ii) a process for Job Providers to obtain background check reports\n                on individual Drivers who consent to the running and sharing of those reports.</P>\n        </UL>\n    </OL>\n</OL>\n<OL>\n    <OL>\n        <UL>\n            <LI><P> We\n                may operate a groups platform on the Site that enables Registered Users to communicate and share\n                information with other Registered Users who share a common interest or bond.</P>\n            <LI><P> We\n                may offer a service that facilitates the payment by Job Providers to Drivers via credit card.</P>\n        </UL>\n    </OL>\n</OL>\n<P>\n    Our Services continue to grow and change. Please refer to our Site for further information about the Services we\n    provide.</P>\n<H2>1.2. Limitations of our Services</H2>\n<P>\n    We offer a variety of Services to help our users find, coordinate, and maintain quality transportation and driver\n    connections. However, we do not employ any Drivers. Except as set forth below, Job Providers are the potential\n    employers of Drivers and are responsible for compliance with all applicable employment and other laws in connection\n    with any employment relationship they establish (such as applicable payroll, tax and minimum wage laws). Unless\n    otherwise provided in any Additional Terms from Outset regarding Services, the third party service provider is the\n    employer of the Driver.</P>\n<P CLASS="western"\n\n        >\n    Further, we do not have control over the quality, timing, or legality of the services actually delivered by Drivers,\n    nor of the integrity, responsibility or actions of Job Providers or Drivers. We do not refer or recommend either Job\n    Providers or Drivers nor do we make any representations about the suitability, reliability, timeliness, and accuracy\n    of the services provided by Drivers or the integrity, responsibility or actions of Job Providers or Drivers whether\n    in public, private or offline interactions.</P>\n<P> Job Provider\n    and Driver content is primarily user generated, and we do not control or vet user generated content for accuracy as\n    a general matter. Outset does not assume any responsibility for the accuracy or reliability of any information\n    provided by Drivers or Job Providers on or off</P>\n<P>\n    this Site. We may offer certain Registered Users the opportunity to verify certain information such as their email\n    address or cell phone number. If we indicate that a Registered User has verified certain information, it means that\n    the user has complied with the process we have established for verifying such information. However, we do not\n    guarantee, nor do we represent or warrant as to, the accuracy of such information.</P> <H2\n        >\n    Outset\n    is not responsible for the conduct, whether online or offline, of any Job Provider, Driver or other user of the Site\n    or Services. Moreover, Outset does not assume and expressly disclaims any liability that may result from the use of\n    information provided on our Site. All users, including both Job Providers and Drivers, hereby expressly agree not to\n    hold Outset (or Outset\'s officers, directors, shareholders, employees, subsidiaries, other affiliates, successors,\n    assignees, agents, representatives, advertisers, marketing partners, licensors, independent contractors, recruiters,\n    corporate partners or resellers, hereinafter &quot;Affiliates&quot;) liable for the actions or inactions of any Job\n    Provider, Driver or other third party or for any information, instruction, advice or services which originated\n    through the Site, and, to the maximum extent permissible under applicable law, Outset and its Affiliates expressly\n    disclaims any liability whatsoever for any damage, suits, claims, and/or controversies that have arisen or may\n    arise, whether known or unknown therefrom.</H2>\n<OL>\n    <OL>\n        <LI><P CLASS="western"><B>1.3. User Responsibilities</B></P>\n    </OL>\n</OL>\n<P>\n    <B>Any screening of a Job Provider or Driver and his, her or its information by Outset is limited and should not be\n        taken as complete, accurate, up-to-date or conclusive of the individual\'s or entity\'s suitability as an employer\n        or Driver. Registered Users are solely responsible for interviewing, performing background and reference checks\n        on, verifying information provided by, and selecting an appropriate Job Provider or Driver for themselves or\n        their corporation.</B></P>\n<P><B>Each Job Provider is also\n    responsible for complying with all applicable employment and other laws in connection with any employment\n    relationship they establish, including verifying the age of the Driver they select as well as that Driver\'s\n    eligibility to work in the US.</B></P>\n<OL>\n    <LI><P CLASS="western"><B>Eligibility to Use the Site and Services; Representations and Warranties</B></P>\n        <OL>\n            <LI><P><B>2.1. Eligibility</B></P>\n        </OL>\n</OL>\n<P>To be\n    eligible to use our Services, you must meet the following criteria:</P>\n<OL>\n    <OL>\n        <UL>\n            <LI><P> Our Services are\n                available only to individuals who are eighteen (18) years of age or older. If you do not meet the above\n                age requirements, do not register to use the Site or Services.</P>\n            <LI><P> The\n                Site and the Services are currently available only to individuals who are legally in the jurisdiction of\n                the United States or the territory of Puerto Rico. If you reside outside the United States or Puerto\n                Rico, visit our Site homepage for a listing of other countries where Outset subsidiaries or affiliates\n                offer similar services.</P>\n            <LI><P> If\n                you are registering to be a Driver, you must be permitted to legally work within the United States.</P>\n            <LI><P> You\n                may never have ever been (i) the subject of a complaint, restraining order or any other legal action\n                involving, arrested for, charged with, or convicted of any felony, any criminal offense involving\n                violence, abuse, neglect, fraud or larceny, or any offense that involves endangering the safety of\n                others, dishonesty, negligence or drugs, or (ii) registered, or currently required to register, as a sex\n                offender with any government entity.</P>\n            <LI><P> You\n                must not be a competitor of Outset or using our Services for reasons that are in competition with\n                Outset.</P>\n        </UL>\n        <LI><H2> 2.2. Representations and\n            Warranties</H2>\n    </OL>\n</OL>\n<P>\n    By requesting to use, registering to use and/or using the Site or the Services, you represent and warrant that you\n    have the right, authority and capacity to enter into these Terms and you commit to abide by all of the terms and\n    conditions hereof.</P>\n<P CLASS="western"\n\n        >\n    In addition, you represent and warrant that you and/or each member of your corporation (i) have never been the\n    subject of a complaint, restraining order or any other legal action involving, arrested for, charged with, or\n    convicted of any felony, any criminal offense involving violence, abuse, neglect, fraud or larceny, or any offense\n    that involves endangering the safety of others, dishonesty, negligence, drugs or alcohol and (ii) are not nor have\n    ever been registered, and are not currently required to register, as a sex offender with any government entity.</P>\n<P></P>\n<OL>\n    <LI><H1>Rules for User Conduct and Use of Services</H1>\n        <OL>\n            <LI><H2>3.1. Registration, Posting, and Content Restrictions</H2>\n        </OL>\n</OL>\n<P>\n    The following rules pertain to &quot;Content&quot;, defined as any communications, images, sounds, videos, and all\n    the material, data, and information that you upload or transmit through Outset\'s Services, or that other users\n    upload or transmit, including without limitation any content, messages, photos, audios, videos, reviews or profiles\n    that you publish or display (hereinafter, &quot;post&quot;). By transmitting and submitting any Content while using\n    our Service, you agree, represent and warrant as follows:</P>\n<OL>\n    <OL>\n        <UL>\n            <LI><P> You are responsible\n                for providing accurate, current and complete information in connection with your registration for use of\n                the Site and the Services.</P>\n            <LI><P> You\n                will register your account in your own legal name, even if you are seeking transportation or driving\n                services for another individual and/or corporation.</P>\n            <LI><P> All\n                Content you post will be in English, as the Site and Services are not currently supported in any other\n                languages.</P>\n            <LI><P> You\n                are solely responsible for any Content that you post on the Site, or transmit to other users of the\n                Site. You will not post on the Site, or transmit to other users, any defamatory, inaccurate, abusive,\n                obscene, profane, offensive, sexually oriented, threatening, harassing, defamatory, racially offensive,\n                or illegal material, or any material that infringes or violates another party\'s rights (including, but\n                not limited to, intellectual property rights, and rights of privacy and publicity), or advocate, promote\n                or assist any unlawful act such as (by way of example only) copyright infringement or computer misuse,\n                or give the impression that any Content emanates from Outset where this is not the case. You will not\n                provide inaccurate, misleading, defamatory or false information to Outset or to any other user of the\n                Site, and all opinions stated, as part of Content must be genuinely held. Without limiting the\n                foregoing, you represent and warrant to us that you have the right and authority to post all information\n                you post about yourself or others, including without limitation that you have authorization from a\n                corporation who is the subject of any Content you post to post such Content.</P>\n            <LI><P> You\n                understand and agree that Outset may, in its sole discretion, review and delete any Content, in each\n                case in whole or in part, that in the sole judgment of Outset violates these Terms or which Outset\n                determines in its sole discretion might be offensive, illegal, or that might violate the rights, harm,\n                or threaten the safety of users of the Site or others.</P>\n            <LI><P> You\n                have the right, and hereby grant, to Outset, its Affiliates, licensees and successors, an irrevocable,\n                perpetual, non-exclusive, fully paid, worldwide license to use, copy, perform, display, reproduce,\n                adapt, modify and distribute your Content and to prepare derivative works of, or incorporate into other\n                works, such Content, and to grant and authorize sublicenses of the foregoing. You further represent and\n                warrant that public posting and use of your Content by Outset will not infringe or violate the rights of\n                any third party.</P>\n            <LI><P>Your use of the Service, including but not\n                limited to the Content you post on the Service,</P>\n        </UL>\n    </OL>\n</OL>\n<P> must be in\n    accordance with any and all applicable laws and regulations.</P>\n<OL>\n    <OL>\n        <UL>\n            <LI><P class="panel panel-oset">\n                Outset is not responsible for any claims relating to any inaccurate, untimely or incomplete information\n                provided by users of the Site.</P>\n        </UL>\n    </OL>\n</OL>\n<P>\n    Opinions, advice, statements, offers, or other information or content made available on the Site or through the\n    Service, but not directly by Outset, are those of their respective authors. Such authors are solely responsible for\n    such content. Outset does not: (i) guarantee the accuracy, completeness, or usefulness of any information on the\n    Site or available through the Service, or</P>\n<P> (ii) adopt,\n    endorse or accept responsibility for the accuracy or reliability of any opinion, advice, or statement made by any\n    party that appears on the Site or through the Service. Under no circumstances will Outset or its Affiliates be\n    responsible for any loss or damage resulting from:</P>\n<P> a) your\n    reliance on information or other content posted on the Site or transmitted to or by any user of the Site or Service;\n    or b) reviews or comments made about you on the Site by other users.</P>\n<P> You agree that Outset has no\n    obligation to remove any reviews or other information posted on the Site about you or any other person or entity. If\n    you disagree with a review, you may post one rebuttal to the review, provided your rebuttal complies with these\n    Terms. You may not terminate your registration and re-register in order to prevent a review from being associated\n    with your account. The author of a review can always remove or request removal of a review they have written.</P>\n<H2>\n    To the maximum extent permitted by law, Outset disclaims any liability whatsoever for any misstatements and/or\n    misrepresentations made by any users of the site. Users do hereby represent, understand and agree to hold Outset\n    harmless for any misstatements and/or misrepresentations made by or on behalf of them on this site or in any other\n    venue.</H2>\n<OL>\n    <OL>\n        <LI><P CLASS="western"><B>3.2. Exclusive Use</B></P>\n    </OL>\n</OL>\n<P>\n    If you are a Job Provider, you may use your account only to find Drivers for yourself or your corporation. If you\n    are a Driver, you may use your account only to find driving jobs for yourself. You are responsible for all activity\n    on and use of your account, and you may not assign or otherwise transfer your account to any other person or\n    entity.</P>\n<H2>3.4. Prohibited Uses</H2>\n<P>By using\n    the Site or Services of Outset, you agree that you will not under any circumstances:</P>\n<OL>\n    <OL>\n        <UL>\n            <LI><P> use the Site,\n                Services, or any information contained therein in any way that is abusive, threatening, obscene,\n                defamatory, libelous, or racially, sexually, religiously, or otherwise objectionable and offensive;</P>\n            <LI><P> use\n                the Site or Services for any unlawful purpose, for any purpose not expressly intended by Outset or for\n                the promotion of illegal activities;</P>\n            <LI><P>attempt to, or harass, abuse or harm another\n                person or group;</P>\n            <LI><P>use another user\'s Outset account;</P>\n            <LI><P>\n                provide false or inaccurate information when registering an account on Outset, using the Services or\n                communicating with other Registered Users;</P>\n            <LI><P>\n                attempt to re-register with Outset if we have terminated your account for any or no reason or terminate\n                your registration and re-register in order to prevent a review from being associated with your\n                account;</P>\n            <LI><P>interfere or attempt to interfere with the\n                proper functioning of Outset\'s Services;</P>\n            <LI><P>make any automated use of the system, or take\n                any action that we deem to impose or to</P>\n        </UL>\n    </OL>\n</OL>\n<P CLASS="western"\n        >\n    potentially impose an unreasonable or disproportionately large load on our servers or network infrastructure;</P>\n<OL>\n    <OL>\n        <UL>\n            <LI><P>\n                bypass any robot exclusion headers or other measures we take to restrict access to the Service or use\n                any software, technology, or device to scrape, spider, or crawl the Service or harvest or manipulate\n                data;</P>\n            <LI><P> use\n                the communication systems provided by or contacts made on Outset for any commercial solicitation\n                purposes;</P>\n            <LI><P>\n                publish or link to malicious content intended to damage or disrupt another user\'s browser or\n                computer.</P>\n        </UL>\n    </OL>\n</OL>\n<P>\n    In order to protect our users from prohibited activity, we reserve the right to take appropriate actions, including\n    but not limited to restricting the number of phone numbers or messages a Job Provider may view or the number of\n    connections a user may request in any period to a number which we deem appropriate in our sole discretion.</P>\n<P>\n    Should Outset find that you violated the terms of this Section or any terms stated herein, Outset reserves the\n    right, at its sole discretion, to immediately terminate your use of the Site and Services. By using the Site and/or\n    Services, you agree that Outset may assess, and you will be obligated to pay, a $10,000 daily penalty for scraping,\n    either in a manual or automatic manner, Driver or Job Provider information, including but not limited to, names,\n    addresses, phone numbers, or email addresses, copying copyrighted text, or otherwise mis-using or mis- appropriating\n    Site content, including but not limited to, use on a &quot;mirrored&quot;, competitive, or third party site. This\n    fee shall be in addition to any other rights Outset may have under these Terms or applicable law.</P>\n<P>\n    Further, in order to protect the integrity of the Site and the Services, Outset reserves the right at any time in\n    its sole discretion to block users from certain IP addresses from accessing the Site.</P>\n<OL>\n    <LI><H1>Background and Verification Checks</H1>\n        <OL>\n            <LI><H2 CLASS="western"\n                    > 4.1 Drivers\n                Can Order or Authorize Background Checks about Themselves and Can Authorize the Sharing of Them with\n                Other Members</H2>\n        </OL>\n</OL>\n<P>\n    Outset offers the following background check services from consumer reporting agencies: Background checks and Motor\n    Vehicle Reports (collectively &quot;Background Check(s)&quot;). Background Checks must be ordered by Drivers about\n    themselves either on their own initiative to increase their chances of employment by Job Providers or in response to\n    a request by a Job Provider who is considering hiring them. Background Check services require payment of a separate\n    fee by the Member who is initiating the background check request.</P>\n<P>\n    You understand and agree\n    that Outset is not a consumer reporting agency as such term is defined by the Fair Credit Reporting Act, 15 U.S.C.\n    Section 1681 (the &quot;FCRA&quot;). Unless Outset is reviewing the Background Check report for its own purposes,\n    Outset is merely operating as a conduit of the Background Check for the benefit of the Driver or the Job Provider\n    and is storing or forwarding the Background Check at their request.</P>\n<P>\n    The Background Check\n    services are regulated by the FCRA, and the background reports resulting from these services are considered &quot;consumer\n    reports&quot; under the FCRA. Consumer reports may contain information on your character, general reputation,\n    personal characteristics, and mode of living, including but not limited to consumer credit, criminal history,\n    workers\' compensation, driving, employment, military, civil, and educational data and reports.</P>\n<P>\n    You may authorize Outset to receive a copy of the Background Check you ordered and authorized through Outset. See\n    Section 4.3 below for information regarding Outset\'s use of these Background Checks. If you order a Background Check\n    about yourself, you will be emailed a copy of the results. It is your decision and responsibility to authorize\n    Outset to forward the Background Check to the prospective Job Provider, if you wish to do so. You are also\n    responsible for making sure that the email addresses you provide to Outset is correct, knowing that sensitive\n    information will be sent to it.</P>\n<P CLASS="western"\n        >\n    If you order Background Check in response to a request by a Job Provider who is considering hiring you we will\n    forward the report to you. It is your decision and responsibility to authorize Outset to forward the Background\n    Check to the prospective Job Provider, if you wish to do so. In accordance with your authorization at the time you\n    ordered the Background Check. The results of any Background Check you order that results in Outset suspending or\n    terminating your account will not be shared with other users.</P>\n<P>\n    If you have ordered a\n    Background Check through Outset, we may indicate in your profile that you have completed that check. However, we\n    will not share the results with any other site visitor or Registered User without your specific consent.</P>\n<H2>4.2. Job Providers- Specific Terms of Use and Special Responsibilities of Job Providers\n    under FCRA</H2>\n<P>\n    Job Providers may request and receive a copy of a Background Check on a Driver, subject to the Driver\'s explicit\n    instructions about who may have access to such a report.</P>\n<P CLASS="western"\n        ><BR>\n</P>\n<P> If you receive a copy of a\n    background report, you warrant that you will use such information only for a purpose permitted by FCRA, such as an\n    employment purpose, and that you will comply with any and all applicable obligations of the FCRA as well as all\n    other applicable consumer reporting laws.</P>\n<P> Your responsibilities in using the\n    information contained the background check can be found at <A\n            HREF="http://www.ftc.gov/os/statutes/fcrajump.shtm"><U>http://www.ftc.gov/os/statutes/fcrajump.shtm</U>.</A>\n    The FCRA governs the use of reports obtained from a consumer reporting agency.</P>\n<P>\n    If there is negative data\n    in a Background Check you receive, and you choose to take &quot;adverse action&quot; (i.e. choose to not hire that\n    individual due to information in the Background Check), the FCRA requires you to take certain procedural steps,\n    which can be found at <A HREF="http://www.ftc.gov/os/statutes/fcrajump.shtm"><U>http://www.ftc.gov/os/statutes/fcrajump.shtm</U>.</A>\n    These include but are not necessarily limited to: providing pre-adverse notice to the individual who is subject to\n    the Background Check report (Driver), suspend the hiring process for a period of time for the Driver to dispute the\n    information with the consumer reporting agency and notifying the Driver who is the subject of the report of your\n    decision to take adverse action based on information contained in the Background Check report. We recommend working\n    with an attorney to ensure you comply with your requirements under the FCRA.</P>\n<H2> 4.3 Outset May Review\n    and Use Background Checks You Order or Authorize About Yourself</H2> <H3\n        >\n    By using the Site or Services as a Driver, you acknowledge and agree Outset may review and use any Background Checks\n    you have ordered or authorized about yourself for the legitimate business purpose of protecting the safety and\n    integrity of our Site and its users and reserves the right to terminate your membership based on the information\n    contained in such report, even if such information was subsequently dismissed.</H3>\n<P>\n    If Outset terminates your\n    membership or access to the Site on the basis of information in a Background Check, we will notify you and provide\n    you the name and contact information of the consumer reporting agency that created the report. We will also provide\n    you a copy of the report. You hereby represent, understand and expressly agree that Outset does not have control\n    over or assume any responsibility for the quality, accuracy, or reliability of the information included in these\n    Background Checks. Furthermore, any inaccuracies in the report must be addressed with the consumer reporting agency\n    that issued it and not Outset.</P>\n<OL>\n    <OL>\n        <LI><P><B>4.4 Job Provider Release of Liability\n            for Results of Background Checks, Verification Checks, and Motor Vehicle Reports</B></P>\n    </OL>\n</OL>\n<P>\n    As a Job Provider, if you decide to use or access information included in a MVR and/or a Background Check, you\n    hereby represent, understand and expressly agree that those checks are not always accurate or complete (or based on\n    information that is accurate or complete) and that the specific records searched, and the comprehensiveness of the\n    search, varies by the type of Background Check ordered as well as the state and county where the check is performed.\n    For example, many jurisdictions only include felony conviction records (and not, for example, misdemeanor or arrest\n    records) in the national criminal database, which is the only data source utilized for preliminary background checks\n    other than the sexual offender registry. Moreover, some states include only registered sex offenders in that\n    database.</P>\n<P>\n    If you decide to access, use, or share information provided by a Background Check, you agree to do so in accordance\n    with applicable law. You also agree to indemnify and hold harmless Outset from any loss, liability, damage, or costs\n    that may result from such access, use, or sharing of this information regardless of the cause. Outset does not\n    assume and expressly disclaims, and you hereby agree to release Outset from, any loss, liability, damage, or costs\n    that may result from the use of information provided in a background report including, without limitation, the\n    inaccuracy or incompleteness of any such information.</P>\n<P> If you decide to use or access\n    information included in a MVR you hereby represent, understand and expressly agree that those checks are not always\n    accurate or complete (or based on information that is accurate or complete) and that the specific records searched,\n    and the comprehensiveness of the search, varies by the state or other jurisdiction that the MVR report was performed\n    (for example, each state may have its own MVR database and the MVR report you use or access may only be for a single\n    state, and not accurately reporting MVR records from another state).</P>\n<P>\n    You expressly acknowledge\n    that Outset has no obligation to perform MVR, Background Checks, or Verification Checks on any Registered Users. A\n    Users status as a Registered User on <A HREF="http://www.joinoutset.com/">www.joinoutset.com </A>should\n    not be taken as complete, accurate, up-to-date or conclusive evidence of the accuracy of any information those users\n    have provided or of their eligibility to use the Services.</P>\n<H1> Termination of\n    Registration</H1>\n<P>\n    Should Outset determine that you are not eligible to use the Services, have violated any terms stated herein or in\n    any of the Additional Terms, are not suitable for participation as a Registered User, or have mis-used or\n    mis-appropriated Site content, including but not limited to use on a &quot;mirrored&quot;, competitive, or third\n    party site, Outset reserves the right, at its sole discretion, to immediately terminate your access to all or part\n    of the Outset Site, to remove your profile and/or any content posted by or about you from the Site, and/or to\n    terminate your registration in Outset, with or without notice.</P>\n<P CLASS="western"\n        ><BR>\n</P> <H3> In any\n    event, Outset also reserves the right, in its sole discretion, to terminate your access to all or part of the Outset\n    Site, to remove your profile and/or any content posted by or about you from the Site, and/or to terminate your\n    registration in Outset, for any reason or no reason, with or without notice. If we terminate your registration, we\n    have no obligation to notify you of the reason, if any, for your termination.</H3>\n<P>\n    <I><B>Following</B></I><I><B> </B></I><I><B>any</B></I><I><B> </B></I><I><B>termination</B></I><I><B> </B></I><I><B>of</B></I><I><B> </B></I><I><B>any</B></I><I><B> </B></I><I><B>individual\'s</B></I><I><B> </B></I><I><B>use</B></I><I><B> </B></I><I><B>of</B></I><I><B> </B></I><I><B>the</B></I><I><B> </B></I><I><B>Site</B></I><I><B> </B></I><I><B>or</B></I><I><B> </B></I><I><B>the</B></I><I><B> </B></I><I><B>Services,</B></I><I><B> </B></I><I><B>Outset</B></I><I><B> </B></I><I><B>reserves</B></I><I><B> </B></I><I><B>the</B></I><I><B> </B></I><I><B>right</B></I><I><B> </B></I><I><B>to</B></I><I><B> </B></I><I><B>send</B></I><I><B> </B></I><I><B>a</B></I><I><B> </B></I><I><B>notice</B></I><I><B> </B></I><I><B>thereof</B></I><I><B> </B></I><I><B>to</B></I><I><B> </B></I><I><B>other</B></I><I><B> </B></I><I><B>Registered</B></I><I><B> </B></I><I><B>Users</B></I><I><B> </B></I><I><B>with</B></I><I><B> </B></I><I><B>whom</B></I><I><B> </B></I><I><B>we</B></I><I><B> </B></I><I><B>believe</B></I><I><B> </B></I><I><B>the</B></I><I><B> </B></I><I><B>individual</B></I><I><B> </B></I><I><B>has</B></I><I><B> </B></I><I><B>corresponded.</B></I>\n</P>\n<P>\n    Our decision to terminate an individual\'s or corporations registration and/or to notify other Registered Users with\n    whom we believe the individual has corresponded does not constitute, and should not be interpreted or used as\n    information bearing on, the individual\'s or corporations character, general reputation, personal characteristics, or\n    mode of living.</P>\n<H1>Privacy</H1>\n<P>\n    Outset will only use the information you provide on the Site or via other channels in accordance with our\n    <U>Privacy Policy</U>. For more information, see our full Privacy Policy, the terms of which are\n    incorporated herein.</P>\n<H1>Links To External Sites</H1>\n<P>\n    Links from the Site to external sites (including external sites that are framed by Outset) or inclusion of\n    advertisements do not constitute an endorsement by Outset of such sites or the content, products, advertising and\n    other materials presented on such sites or of the products and services that are the subject of such advertisements,\n    but are for users\' reference and convenience.</P>\n<P>\n    Users access\n    them at their own risk. It is the responsibility of the user to evaluate the content and usefulness of the\n    information obtained from other sites. Outset does not control such sites, and is not responsible for their content.\n    Just because Outset has hyperlinks to such sites does not mean that Outset endorses any of the material on such\n    sites, or has any association with their operators.</P>\n<P> Users\n    further acknowledge that use of any site controlled, owned or operated by third parties is governed by the terms and\n    conditions of use for those sites, and not by Outset\'s Terms of Use and Privacy Policy. Outset expressly disclaims\n    any liability derived from the use and/or viewing of links that may appear on this Site. All users hereby agree to\n    hold Outset harmless from any liability that may result from the use of links that may appear on the Site.</P>\n<H1>Payment And Refund Policy</H1>\n<P>\n    In order to utilize some Outset Services or product offerings, the user of such Services or product offerings must\n    pay Outset either a recurring subscription or one-time fee. In addition, the user is responsible for any state or\n    local sales taxes associated with the Services or product offerings purchased.</P>\n<H2>8.1 Billing and Payment</H2>\n<P> If you sign up\n    for an Outset paid membership subscription, you agree to pay Outset all subscription charges associated with the\n    plan you subscribe to as described on the Site at the time you subscribe and provide your payment information. You\n    also authorize Outset to charge your chosen payment provider according to the terms of the plan to which you\n    subscribe. The subscription period and the amount and frequency of the charges will vary depending on the\n    subscription plan you select. Outset reserves the right to correct any errors or mistakes that it makes even if it\n    has already requested or received payment.</P>\n<P> To the extent you elect to purchase\n    other Services or product offerings we may offer for a fee, you authorize Outset to charge your chosen payment\n    provider for the Services and/or products you purchase. You agree that if Outset already has your credit card on\n    file as a result of prior purchases you have made, we may charge that credit card for the additional\n    Services/products you purchase.</P>\n<H2>8.2 Automatic Subscription Renewal and Cancellation</H2>\n<P>\n    Outset paid membership subscriptions will continue indefinitely until cancelled by the user. After your initial\n    subscription commitment period, and again after any subsequent subscription period, your subscription will\n    automatically renew for an additional equivalent period as the subscription term you originally selected and at the\n    subscription rate and frequency disclosed to you on the Site when you originally subscribed, unless otherwise\n    provided at the time you subscribed. If you sign up for a payment plan that allows you to be charged monthly over\n    the subscription period and you decide to cancel your subscription during the subscription period, you acknowledge\n    and agree that you will continue to be billed for the subscription on a monthly basis until its originally scheduled\n    expiration date.</P>\n<P CLASS="western"\n\n        >\n    You may cancel your paid membership subscription by adjusting your <U>account settings</U>. If you\n    cancel your subscription, you typically will be permitted to use your subscription until the end of your\n    then-current subscription term. Your subscription will not be renewed after your then- current term expires, but\n    your credit card will be charged, and you will be required to pay, any cancellation or other fees associated with\n    your early termination and disclosed to you at the time you signed up for the subscription plan.</P>\n<H2>8.3 Refund Policy</H2>\n<P>\n    <I><B>Except</B></I><I><B> </B></I><I><B>as</B></I><I><B> </B></I><I><B>set</B></I><I><B> </B></I><I><B>forth</B></I><I><B> </B></I><I><B>below,</B></I><I><B> </B></I><I><B>all</B></I><I><B> </B></I><I><B>payments</B></I><I><B> </B></I><I><B>for</B></I><I><B> </B></I><I><B>services/products</B></I><I><B> </B></I><I><B>are</B></I><I><B> </B></I><I><B>non-refundable</B></I><I><B> </B></I><I><B>and</B></I><I><B> </B></I><I><B>there</B></I><I><B> </B></I><I><B>are</B></I><I><B> </B></I><I><B>no</B></I><I><B> </B></I><I><B>refunds</B></I><I><B> </B></I><I><B>or</B></I><I><B> </B></I><I><B>credits</B></I><I><B> </B></I><I><B>for</B></I><I><B> </B></I><I><B>unused</B></I><I><B> </B></I><I><B>or</B></I><I><B> </B></I><I><B>partially</B></I><I><B> </B></I><I><B>used</B></I><I><B> </B></I><I><B>services/products</B></I><I><B> </B></I><I><B>or</B></I><I><B> </B></I><I><B>service/product</B></I><I><B> </B></I><I><B>cancellations.</B></I><I><B> </B></I>Notwithstanding\n    the foregoing, if you have a paid membership subscription that is automatically renewed, we will refund the most\n    recent charge to your credit card if (i) you cancel your subscription within thirty (30) days after the most recent\n    charge, and </P>\n<P> (ii) you have not\n    used your subscription during the current renewal period. The refund will apply to the most recent charge only. In\n    addition, Outset reserves the right to immediately downgrade or cancel your membership after payment of your refund.\n    Outset does not provide refunds or credits under any other circumstances, unless it determines in its sole\n    discretion that a refund or credit is warranted due to extenuating circumstances, such as a duplicate account.</P>\n<P></P>\n<H2>8.4 Free Trial Offers</H2>\n<P>\n    Outset may offer limited-time free trial subscriptions to certain users from time-to-time. Users who sign up for an\n    Outset Service on a free trial basis may have limited access to the Service and/or features of the Site. If a user\n    signs up for a free trial subscription, after the expiration of the free trial period, the user will be charged the\n    price then in effect for a subscription to the Service, unless otherwise provided to him or her when he or she\n    originally subscribed. If a user does not want to continue with the Service after the expiration of the free trial\n    period, the Job Provider or Driver must cancel their subscription within thirty (30) days of being charged the\n    subscription fee for the Service. Upon cancellation, the Driver or Employment Providers credit card will be\n    refunded for the amount of the most recent subscription charge so long as he or she has not used the subscription\n    after the expiration of the free trial period.</P>\n<H1> Release of\n    Liability for Conduct and Disputes</H1>\n<P>\n    We are not an employer of Drivers. Job Providers may seek the services of a Driver through the use of the Site or\n    Services, and Drivers may post profiles and submit proposals to Job Providers regarding their services. Outset will\n    not be held responsible and expressly disclaims any liability whatsoever for any claims, demands or damages direct\n    or indirect of every kind and nature, known and unknown, suspected and unsuspected, disclosed and undisclosed,\n    arising out of or in any way connected with such issues. By using this Site or our Services, you do hereby\n    represent, understand, and expressly agree to hold Outset harmless for any claim or controversy that may arise from\n    any disputes between you and any Job Provider, Driver or other user(s) of the Site. You agree to take reasonable\n    precautions in all interactions with Job Providers, Drivers or other users of the Site or the Services, particularly\n    if you decide to meet offline. By using the Site or the Services, you do hereby agree to report any alleged\n    improprieties of any users therein to Outset immediately by notifying Outset of the same via electronic\n    correspondence.</P>\n<H1>Age Restrictions</H1>\n<P>\n    Outset is intended for people 18 or over. Job Providers and Drivers should monitor children\'s use of the Internet\n    and deny access to the Site to anyone under the age of 18.</P>\n<OL>\n    <LI><H1>Disclaimers; Limitations; Waivers; Indemnification</H1>\n        <OL>\n            <LI><H2>11.1. No Warranty</H2>\n        </OL>\n</OL>\n<P>\n    The information and materials contained on the Site, including text, graphics, information, links or other items are\n    provided &quot;as is&quot;, &quot;as available&quot;. Further, opinions, advice, statements, offers, or other\n    information or content made available through the Services, but not directly by Outset, are those of their\n    respective authors, and should not necessarily be relied upon. Such authors are solely responsible for such content.\n    <I><B>TO</B></I><I><B> </B></I><I><B>THE</B></I><I><B> </B></I><I><B>MAXIMUM</B></I><I><B> </B></I><I><B>EXTENT</B></I><I><B> </B></I><I><B>PERMITTED</B></I><I><B> </B></I><I><B>BY</B></I><I><B> </B></I><I><B>APPLICABLE</B></I><I><B> </B></I><I><B>LAW,</B></I><I><B> </B></I><I><B>OUTSET</B></I><I><B> </B></I><I><B>DOES</B></I><I><B> </B></I><I><B>NOT:</B></I><I><B> </B></I><I><B>(1)</B></I><I><B> </B></I><I><B>WARRANT</B></I><I><B> </B></I><I><B>THE</B></I><I><B> </B></I><I><B>ACCURACY,</B></I><I><B> </B></I><I><B>ADEQUACY</B></I><I><B> </B></I><I><B>OR</B></I><I><B> </B></I><I><B>COMPLETENESS</B></I><I><B> </B></I><I><B>OF</B></I><I><B> </B></I><I><B>THIS</B></I><I><B> </B></I><I><B>INFORMATION</B></I><I><B> </B></I><I><B>AND</B></I><I><B> </B></I><I><B>MATERIALS;</B></I><I><B> </B></I><I><B>(2)</B></I><I><B> </B></I><I><B>ADOPT,</B></I><I><B> </B></I><I><B>ENDORSE</B></I><I><B> </B></I><I><B>OR</B></I><I><B> </B></I><I><B>ACCEPT</B></I><I><B> </B></I><I><B>RESPONSIBILITY</B></I><I><B> </B></I><I><B>FOR</B></I><I><B> </B></I><I><B>THE</B></I><I><B> </B></I><I><B>ACCURACY</B></I><I><B> </B></I><I><B>OR</B></I><I><B> </B></I><I><B>RELIABILITY</B></I><I><B> </B></I><I><B>OF</B></I><I><B> </B></I><I><B>ANY</B></I><I><B> </B></I><I><B>OPINION,</B></I><I><B> </B></I><I><B>ADVICE,</B></I><I><B> </B></I><I><B>OR</B></I><I><B> </B></I><I><B>STATEMENT</B></I><I><B> </B></I><I><B>MADE</B></I><I><B> </B></I><I><B>BY</B></I><I><B> </B></I><I><B>ANY</B></I><I><B> </B></I><I><B>PARTY</B></I><I><B> </B></I><I><B>OTHER</B></I><I><B> </B></I><I><B>THAN</B></I><I><B> </B></I><I><B>OUTSET;</B></I><I><B> </B></I><I><B>(3)</B></I><I><B> </B></I><I><B>WARRANT</B></I><I><B> </B></I><I><B>THAT</B></I><I><B> </B></I><I><B>YOUR</B></I><I><B> </B></I><I><B>USE</B></I><I><B> </B></I><I><B>OF</B></I><I><B> </B></I><I><B>THE</B></I><I><B> </B></I><I><B>SERVICES</B></I><I><B> </B></I><I><B>WILL</B></I><I><B> </B></I><I><B>BE</B></I><I><B> </B></I><I><B>SECURE,</B></I><I><B> </B></I><I><B>FREE</B></I><I><B> </B></I><I><B>FROM</B></I><I><B> </B></I><I><B>COMPUTER</B></I><I><B> </B></I><I><B>VIRUSES,</B></I><I><B> </B></I><I><B>UNINTERRUPTED,</B></I><I><B> </B></I><I><B>ALWAYS</B></I><I><B> </B></I><I><B>AVAILABLE,</B></I><I><B> </B></I><I><B>ERROR-FREE</B></I><I><B> </B></I><I><B>OR</B></I><I><B> </B></I><I><B>WILL</B></I><I><B> </B></I><I><B>MEET</B></I><I><B> </B></I><I><B>YOUR</B></I><I><B> </B></I><I><B>REQUIREMENTS,</B></I><I><B> </B></I><I><B>OR</B></I><I><B> </B></I><I><B>THAT</B></I><I><B> </B></I><I><B>ANY</B></I><I><B> </B></I><I><B>DEFECTS</B></I><I><B> </B></I><I><B>IN</B></I><I><B> </B></I><I><B>THE</B></I><I><B> </B></I><I><B>SERVICES</B></I><I><B> </B></I><I><B>WILL</B></I><I><B> </B></I><I><B>BE</B></I><I><B> </B></I><I><B>CORRECTED;</B></I><I><B> </B></I><I><B>OR</B></I><I><B> </B></I><I><B>(4)</B></I><I><B> </B></I><I><B>GIVE</B></I><I><B> </B></I><I><B>ANY</B></I><I><B> </B></I><I><B>WARRANTIES</B></I><I><B> </B></I><I><B>OF</B></I><I><B> </B></I><I><B>FITNESS</B></I><I><B> </B></I><I><B>FOR</B></I><I><B> </B></I><I><B>A</B></I><I><B> </B></I><I><B>PARTICULAR</B></I><I><B> </B></I><I><B>PURPOSE</B></I><I><B> </B></I><I><B>OR</B></I><I><B> </B></I><I><B>NON-INFRINGEMENT</B></I><I><B> </B></I><I><B>OF</B></I><I><B> </B></I><I><B>THIRD</B></I><I><B> </B></I><I><B>PARTY</B></I><I><B> </B></I><I><B>RIGHTS.</B></I><I><B> </B></I><I><B>TO</B></I><I><B> </B></I><I><B>THE</B></I><I><B> </B></I><I><B>EXTENT</B></I><I><B> </B></I><I><B>PERMITTED</B></I><I><B> </B></I><I><B>BY</B></I><I><B> </B></I><I><B>APPLICABLE</B></I><I><B> </B></I><I><B>LAW,</B></I><I><B> </B></I><I><B>OUTSET</B></I><I><B> </B></I><I><B>EXPRESSLY</B></I><I><B> </B></I><I><B>EXCLUDES</B></I><I><B> </B></I><I><B>ALL</B></I><I><B> </B></I><I><B>CONDITIONS,</B></I><I><B> </B></I><I><B>WARRANTIES</B></I><I><B> </B></I><I><B>AND</B></I><I><B> </B></I><I><B>OTHER</B></I><I><B> </B></I><I><B>TERMS</B></I><I><B> </B></I><I><B>WHICH</B></I><I><B> </B></I><I><B>MIGHT</B></I><I><B> </B></I><I><B>OTHERWISE</B></I><I><B> </B></I><I><B>BE</B></I><I><B> </B></I><I><B>IMPLIED\n    BY STATUTE,</B></I><I><B> </B></I><I><B>COMMON</B></I><I><B> LAW OR THE LAW OF</B></I><I><B> </B></I><I><B>EQUITY\n    AND DISCLAIMS</B></I><I><B> </B></I><I><B>LIABILITY</B></I><I><B> </B></I><I><B>FOR</B></I><I><B> </B></I><I><B>ERRORS</B></I><I><B> </B></I><I><B>OR</B></I><I><B> </B></I><I><B>OMISSIONS</B></I><I><B> </B></I><I><B>IN</B></I><I><B> </B></I><I><B>THIS</B></I><I><B> </B></I><I><B>INFORMATION</B></I><I><B> </B></I><I><B>AND</B></I><I><B> </B></I><I><B>MATERIALS.</B></I>\n</P> <H3\n        >\n    IN ADDITION AND WITHOUT LIMITING THE FOREGOING, OUTSET MAKES NO REPRESENTATION OR WARRANTIES OF ANY KIND WHETHER\n    EXPRESS OR IMPLIED REGARDING THE SUITABILITY OF ANY USER OF OUR SITE TO PROVIDE SERVICES AS A DRIVER OR TO EMPLOY\n    THE SERVICES OF A DRIVER.</H3>\n<OL>\n    <OL>\n        <LI><P CLASS="western"><B>11.2. Assumption of Risk</B></P>\n    </OL>\n</OL>\n<P>\n    You assume all risk when using the Site and the Services, including but not limited to all of the risks associated\n    with any online or offline interactions with users of the Site or the Services. You agree to take all necessary\n    precautions when interacting with other site visitors or Registered Users.</P>\n<H2>11.3. Limitation of Liability</H2>\n<P>\n    <I><B>Incidental</B></I><I><B> Damages</B></I><I><B> </B></I><I><B>and</B></I><I><B> </B></I><I><B>Aggregate</B></I><I><B> </B></I><I><B>Liability.</B></I><I><B> </B></I>In\n    no event will Outset be liable for any indirect, special, incidental, or consequential damages, losses or expenses\n    arising out of or relating to the use or inability to use the Site or Services, including without limitation damages\n</P>\n<P> related to any\n    information received from the Site or Services, removal of content from the Site, including profile information, any\n    email distributed to any user or any linked web site or use thereof or inability to use by any party, or in\n    connection with any termination of your subscription or ability to access the Site or Services, failure of\n    performance, error, omission, interruption, defect, delay in operation or transmission, computer virus or line or\n    system failure, even if Outset, or representatives thereof, are advised of the possibility of such damages, losses\n    or expenses. UNDER NO CIRCUMSTANCES WILL OUTSET\'S AGGREGATE LIABILITY, IN ANY FORM OF ACTION WHATSOEVER IN\n    CONNECTION WITH THIS AGREEMENT OR THE USE OF THE SERVICES OR THE SITE, EXCEED THE PRICE PAID BY YOU FOR YOUR ACCOUNT\n    NOT TO EXCEED YOUR MOST RECENT TWO BILLING CHARGES, OR, IF YOU HAVE NOT PAID OUTSET FOR THE USE OF ANY SERVICES, THE\n    AMOUNT OF $25.00 OR ITS EQUIVALENT.</P>\n<P>\n    <I><B>No</B></I><I><B> </B></I><I><B>Liability</B></I><I><B> </B></I><I><B>for</B></I><I><B> </B></I><I><B>non-Outset</B></I><I><B> </B></I><I><B>Actions.</B></I><I><B> </B></I>TO\n    THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, IN NO EVENT WILL OUTSET BE LIABLE FOR ANY DAMAGES WHATSOEVER,\n    WHETHER DIRECT, INDIRECT, GENERAL, SPECIAL, COMPENSATORY, AND/OR CONSEQUENTIAL, ARISING OUT OF OR RELATING TO THE\n    CONDUCT OF YOU OR ANYONE ELSE IN CONNECTION WITH THE USE OF THE SITE OR THE SERVICES, INCLUDING WITHOUT LIMITATION,\n    BODILY INJURY, EMOTIONAL DISTRESS, AND/OR ANY OTHER DAMAGES RESULTING FROM ANYONE\'S RELIANCE ON INFORMATION OR OTHER\n    CONTENT POSTED ON THE SITE, OR TRANSMITTED TO OR BY ANY USERS OR ANY OTHER INTERACTIONS WITH OTHER REGISTERED USERS\n    OF THE SITE OR SERVICES, WHETHER ONLINE OR OFFLINE. THIS INCLUDES ANY CLAIMS, LOSSES OR DAMAGES ARISING FROM THE\n    CONDUCT OF USERS WHO HAVE REGISTERED UNDER FALSE PRETENSES OR WHO ATTEMPT TO DEFRAUD OR HARM YOU.</P>\n<P>\n    In addition to the preceding paragraphs of this section and other provisions of these Terms, any advice that may be\n    posted on the Site is for informational purposes only and is not intended to replace or substitute for any\n    professional financial, employment, licensing, medical, legal, or other advice. Outset makes no representations or\n    warranties and expressly disclaims any and all liability concerning any employment and/or services, action by, or\n    effect on any person following the information offered or provided within or through the Site. If you have specific\n    concerns or a situation arises in which you require any professional advice, you should consult with an\n    appropriately trained and qualified specialist.</P>\n<H2>11.4. Indemnification</H2>\n<P>\n    By agreeing to these Terms, users of the Site and Services agree to indemnify, defend and hold harmless Outset and\n    its Affiliates from and against any and all claims, losses, expenses or demands of liability, including reasonable\n    attorneys\' fees and costs incurred by Outset and its Affiliates in connection with any claim by a third party\n    (including an intellectual property claim) arising out of (I) materials and content you submit, post or transmit\n    through the Site, or (ii) use of the Site or Services by you in violation of these Terms of Use or in violation of\n    any applicable law. Users further agree that they will cooperate as reasonably required in the defense of such\n    claims. Outset and its Affiliates reserve the right, at their own expense, to assume the exclusive defense and\n    control of any matter otherwise subject to indemnification by users, and users shall not, in any event, settle any\n    claim or matter without the written consent of Outset. Users further agree to hold harmless Outset and its\n    Affiliates from any claim arising from a third party\'s use of information or materials of any kind that users post\n    to the Site.</P>\n<H1>Copyright Notices/Complaints</H1>\n<P>\n    It is Outset\'s policy to respond to notices of alleged copyright infringement with the Digital Millennium Copyright\n    Act (&quot;DMCA&quot;). If you believe any materials accessible on or from our Site infringe your copyright, you may\n    request removal of those materials (or access thereto) from the Site by contacting Outset\'s copyright agent\n    (identified below) and providing the following information:</P>\n<P CLASS="western"\n        ><BR>\n</P>\n<OL>\n    <OL>\n        <LI><P> Identification of the copyrighted work\n            that you believe to be infringed. Please describe the work, and where possible include a copy or the\n            location (e.g., URL) of an authorized version of</P>\n    </OL>\n</OL>\n<P> the work.</P>\n<OL>\n    <OL>\n        <LI><P>\n            Identification of the material that you believe to be infringing and its location. Please describe the\n            material, and provide us with its URL or any other pertinent information that will allow us to locate the\n            material.</P>\n        <LI><P>Your name, address, telephone number and (if available)\n            e-mail address.</P>\n        <LI><P> A\n            statement that you have a good faith belief that the complained of use of the materials is not authorized by\n            the copyright owner, its agent, or the law.</P>\n        <LI><P> A statement that the\n            information that you have supplied is accurate, and indicating that &quot;under penalty of perjury,&quot;\n            you are the copyright owner or are authorized to act on the copyright owner\'s behalf.</P>\n        <LI><P> A signature or the electronic equivalent\n            from the copyright holder or authorized representative. Outset\'s agent for copyright issues relating to this\n            Site is as follows:</P>\n    </OL>\n</OL>\n<P CLASS="western"\n        >\n    Copyright Agent Attn: Legal Department</P>\n<P ALIGN=CENTER\n        >\n    Outset Partners, Inc. </P>\n<P ALIGN=CENTER\n        >\n    The Vault</P>\n<P ALIGN=CENTER\n        >\n    415 Jackson St. Suite B, San Francisco, CA 94111</P>\n<P CLASS="western"\n        >\n    In an effort to protect the rights of copyright owners, Outset maintains a policy for the termination, in\n    appropriate circumstances, of Members and other users of this Site who are repeat infringers.</P>\n<OL>\n    <LI><H1>Agreement to Arbitrate</H1>\n        <OL>\n            <LI><H2>13.1 Agreement to Arbitrate</H2>\n        </OL>\n</OL>\n<P>\n    This Section 13 is referred to in these Terms as the &quot;Arbitration Agreement&quot;. Unless you opt- out in\n    accordance with the opt-out procedures set forth below, you agree that any and all disputes or claims that have\n    arisen or may arise between you and Outset or a Outset Affiliate, whether relating to these Terms (including any\n    alleged breach thereof), the Services, the Site, or otherwise, shall be resolved exclusively through <I><B>final</B></I><I><B> </B></I><I><B>and</B></I><I><B> </B></I><I><B>binding</B></I><I><B> </B></I><I><B>arbitration,</B></I><I><B> </B></I><I><B>rather</B></I><I><B> </B></I><I><B>than</B></I><I><B> </B></I><I><B>a</B></I><I><B> </B></I><I><B>court</B></I><I><B> </B></I>in\n    accordance with the terms of this Arbitration Agreement, except you may assert individual claims in small claims\n    court, if your claims qualify. Your rights will be determined by a <I><B>neutral</B></I><I><B> </B></I><I><B>arbitrator,</B></I><I><B> </B></I><I><B>not</B></I><I><B> </B></I><I><B>a</B></I><I><B> </B></I><I><B>judge</B></I><I><B> </B></I><I><B>or</B></I><I><B> </B></I><I><B>jury</B></I>.\n    The Federal Arbitration Act governs the interpretation and enforcement of this Arbitration Agreement.</P>\n<H2>13.2 Prohibition of Class and Representative Actions and Non-Individualized Relief</H2> <H3\n        >\n    YOU AND OUTSET AGREE THAT EACH OF US MAY BRING CLAIMS AGAINST THE OTHER ONLY ON AN INDIVIDUAL BASIS AND NOT AS A\n    PLAINTIFF OR CLASS MEMBER IN ANY PURPORTED CLASS OR REPRESENTATIVE ACTION OR PROCEEDING. UNLESS BOTH YOU AND OUTSET\n    AGREE OTHERWISE, THE ARBITRATOR MAY NOT CONSOLIDATE OR JOIN MORE THAN ONE PERSON\'S OR PARTY\'S CLAIMS AND MAY NOT\n    OTHERWISE PRESIDE OVER ANY FORM OF A CONSOLIDATED, REPRESENTATIVE, OR CLASS PROCEEDING. ALSO, THE ARBITRATOR MAY\n    AWARD RELIEF (INCLUDING MONETARY, INJUNCTIVE, AND DECLARATORY RELIEF) ONLY IN FAVOR OF THE INDIVIDUAL PARTY SEEKING\n    RELIEF AND ONLY TO THE EXTENT NECESSARY TO PROVIDE RELIEF NECESSITATED BY THAT PARTY\'S INDIVIDUAL CLAIM(S). ANY\n    RELIEF AWARDED CANNOT AFFECT OTHER OUTSET USERS.</H3>\n<OL>\n    <OL>\n        <LI><P><B>13.3 Pre- Arbitration Dispute\n            Resolution</B></P>\n    </OL>\n</OL>\n<P>\n    Outset is always interested in resolving disputes amicably and efficiently. So before you commence arbitration, we\n    suggest that you contact us to explain your complaint, as we may be able to resolve it without the need for\n    arbitration. You may contact us via email at <A HREF="mailto:support@joinoutset.com">support@joinoutset.com</A> or\n    at Outset Partners, Inc., Attn: Legal Department, The Vault,415 Jackson St. Suite B, San Francisco, CA 94111.</P>\n<H2>13.4 Arbitration Procedures</H2>\n<P>\n    Arbitration will be conducted by a neutral arbitrator in accordance with the American Arbitration Association\'s (&quot;AAA&quot;)\n    rules and procedures, including the AAA\'s Supplementary Procedures for Consumer-Related Disputes (collectively, the\n    &quot;AAA Rules&quot;), as modified by this Arbitration Agreement. For information on the AAA, please visit its\n    website, <A HREF="http://www.adr.org/"><U>http://www.adr.org</U>.</A> Information about the AAA\'s Rules and fees for\n    consumer disputes can be found at the AAA\'s consumer arbitration page, <A\n        HREF="http://www.adr.org/consumer_arbitration"><U>http://www.adr.org/consumer_arbitration</U>.</A> If there is\n    any inconsistency between the AAA Rules and this Arbitration Agreement, the terms of this Arbitration Agreement will\n    control unless the arbitrator determines that the application of the inconsistent Arbitration Agreement terms would\n    not result in a fundamentally fair arbitration. The arbitrator must also follow the provisions of these Terms as a\n    court would, including without limitation, the limitation of liability provisions in Section 11. Although\n    arbitration proceedings are usually simpler and more streamlined than trials and other judicial proceedings, the\n    arbitrator can award the same damages and relief on an individual basis that a court can award to an individual\n    under the Terms and applicable law. Decisions by the arbitrator are enforceable in court and may be overturned by a\n    court only for very limited reasons.</P>\n<P> To commence an arbitration\n    against Outset, you must complete a short form, submit it to the AAA, and send a copy to Outset at Outset Partners,\n    Inc., Attn: Legal Department, The Vault, 415 Jackson St. Suite B San Francisco, CA 94111. For more information, see\n    the AAA\'s claim filing page, <A HREF="http://www.adr.org/fileacase"><U>http://www.adr.org/fileacase</U>.</A> You may\n    represent yourself in the arbitration or be represented by an attorney or another representative. Once we receive\n    your arbitration claim, we may assert any counterclaims we may have against you.</P>\n<P>\n    The arbitration shall be\n    held in the county in which you reside or at another mutually agreed location. If the value of the relief sought is\n    $10,000 or less you or Outset may elect to have the arbitration conducted by telephone or based solely on written\n    submissions, which election shall be binding on you and Outset subject to the arbitrator\'s discretion to require an\n    in-person hearing, if the circumstances warrant. Attendance at any in-person hearing may be made by telephone by you\n    and/or Outset, unless the arbitrator requires otherwise.</P>\n<P> The arbitrator will decide the\n    substance of all claims in accordance with the laws of the State of Delaware, including recognized principles of\n    equity, and will honor all claims of privilege recognized by law. The arbitrator shall not be bound by rulings in\n    prior arbitrations involving different Outset users, but is bound by rulings in prior arbitrations involving the\n    same Outset user to the extent required by applicable law.</P>\n<H2>13.5 Costs of Arbitration</H2>\n<P>\n    Payment of all filing, administration, and arbitrator fees (collectively, the &quot;Arbitration Fees&quot;) will be\n    governed by the AAA\'s Rules, unless otherwise provided in this Agreement to Arbitrate. If you demonstrate to the\n    arbitrator that you are economically unable to pay your portion of the Arbitration Fees or if the arbitrator\n    otherwise determines for any reason that you should not be required to pay your portion of the Arbitration Fees,\n    Outset will pay your portion of such fees. In addition, if you demonstrate to the arbitrator that the costs of\n    arbitration will be prohibitive as compared to the costs of litigation, Outset will pay as much of the Arbitration\n    Fees as the arbitrator deems necessary to prevent the arbitration from being cost-prohibitive. Each party will be\n    responsible for all other fees it incurs in connection with the arbitration, including without limitation, all\n    attorney fees. In the event the arbitrator determines the claim(s) you assert in the</P>\n<P CLASS="western"\n\n        >\n    arbitration to be frivolous, you agree to reimburse Outset for all fees associated with the arbitration paid by\n    Outset on your behalf that you otherwise would be obligated to pay under the AAA\'s rules.</P>\n<H2>13.6 Confidentiality</H2>\n<P>\n    All aspects of the arbitration proceeding, and any ruling, decision or award by the arbitrator, will be strictly\n    confidential for the benefit of all parties.</P>\n<H2>13.7 Severability</H2>\n<P>If a court\n    decides that any term or provision of this Arbitration Agreement other than Section</P>\n<P CLASS="western"\n\n        >\n    13.2 is invalid or unenforceable, the parties agree to replace such term or provision with a term or provision that\n    is valid and enforceable and that comes closest to expressing the intention of the invalid or unenforceable term or\n    provision, and this Arbitration Agreement shall be enforceable as so modified. If a court decides that any of the\n    provisions of Section 13.2 is invalid or unenforceable, then the entirety of this Arbitration Agreement shall be\n    null and void. The remainder of the Terms will continue to apply.</P>\n<H2>13.8 Opt-Out Procedure</H2>\n<P>\n    You can choose to reject this Arbitration Agreement by mailing us a written opt-out notice (&quot;Opt-Out Notice&quot;)\n    in accordance with the terms of this Section. For new Outset users, the Opt- Out Notice must be postmarked no later\n    than 30 Days after the date you accept these Terms for the first time or January 5, 2015, whichever is later. 3. You\n    must mail the Opt-Out Notice to Outset Partners, Inc., Attn: Legal Department, 415 Jackson St Suite B, San\n    Francisco, CA 94111. The Opt-Out Notice must state that you do not agree to the Arbitration Agreement and must\n    include your name, address, phone number, and the email address(es) used to log in to the Outset account(s) to which\n    the opt-out applies. You must sign the Opt-Out Notice for it to be effective. This procedure is the only way you can\n    opt out of the Arbitration Agreement. If you opt out of the Arbitration Agreement, all other terms of these Terms\n    will continue to apply. Opting out of the Arbitration Agreement has no effect on any previous, other, or future\n    arbitration agreements that you may have with us.</P>\n<H2>13.9 Future Changes to this Arbitration Agreement</H2>\n<P>\n    Notwithstanding any provision in these Terms to the contrary, you and we agree that if we make any change to this\n    Arbitration Agreement (other than a change to any notice address or website link provided herein) in the future,\n    that change shall not apply to any claim that was filed in a legal proceeding against Outset prior to the effective\n    date of the change. Moreover, if we seek to terminate this Arbitration Agreement from these Terms, such termination\n    shall not be effective until 30 days after the version of these Terms not containing the Arbitration Agreement is\n    posted to the Site, and shall not be effective as to any claim that was filed in a legal proceeding against Outset\n    prior to the effective date of removal.</P>\n<H1>Governing Law and Jurisdiction</H1>\n<P>\n    These Terms, and any dispute between you and Outset, shall be governed by the laws of the State of Delaware without\n    regard to principles of conflicts of law, provided that the Federal Arbitration Act shall govern the interpretation\n    and enforcement of Section 13, the Arbitration Agreement. Unless you and we agree otherwise, in the event that the\n    Arbitration Agreement 13 is found not to apply to you or to a particular claim or dispute (except for small-claims\n    court actions), either as a result of your decision to opt- out of the Arbitration Agreement or as a result of a\n    decision by the arbitrator or a court order, you agree that any claim or dispute that has arisen or may arise\n    between you and Outset must be resolved exclusively by a state or federal court located in the State of Delaware. .\n    You and Outset agree to submit to the personal jurisdiction of the courts located within the State of Delaware for\n    the purpose of litigating all such claims or disputes.</P>\n<H1> Miscellaneous</H1>\n<P>\n    Nothing in this Agreement shall be construed as making either party the partner, joint venture, agent, legal\n    representative, employer, contractor or employee of the other. Neither party shall have, or hold itself out to any\n    third party as having any authority to make any statements, representations or commitments of any kind, or to take\n    any action, that shall be binding on the other, except as provided for herein or authorized in writing by the party\n    to be bound. The invalidity, illegality or unenforceability of any term or provision of these Terms shall in no way\n    effect the validity, legality or enforceability of any other term or provision of these Terms. In the event a term\n    or provision is determined to be invalid or unenforceable, the parties agree to replace such term or provision with\n    a term or provision that is valid and enforceable and that comes closest to expressing the intention of the invalid\n    or unenforceable term or provision, and these Terms shall be enforceable as so modified. Each Affiliate (as defined\n    in Section 1.2) is expressly made a third party beneficiary of this Agreement and may enforce this Agreement\n    directly against you. This Agreement will be binding on and will inure to the benefit of the legal representatives,\n    successors and assigns of the parties hereto.</P>\n<H1>Contact Information</H1>\n<P>\n    If you have any questions or need further information as to the Site or Services provided by Outset, or need to\n    notify Outset as to any matters relating to the Site or Services please contact Outset at:</P>\n<P ALIGN=CENTER\n        >\n    Attn:\n    Legal Department Outset Partners Inc. </P>\n<P ALIGN=CENTER\n        >\n    The Vault</P>\n<P ALIGN=CENTER>\n    415 Jackson St Suite B</P>\n<P ALIGN=CENTER> San\n    Francisco, CA 94123</P> </BODY> \n'),
$templateCache.put("/modules/drivers/views/templates/driver-badge.client.template.html",'<section class="profile-header">\n    <div class="panel panel-default">\n        <div class="row">\n            <div class="profile-photo col-sm-4" data-ng-if="!!vm.pictureUrl">\n                <div class="center-block full-width">\n                    <img data-ng-src="{{vm.pictureUrl}}" alt="profile picture" class="img-thumbnail user-profile-picture img-responsive">\n                    <br data-ng-if="vm.canEdit" />\n                    <a class="btn btn-link" data-ng-click="vm.editPicFn()" data-ng-if="vm.canEdit" ui-sref="{{vm.editPicSref || \'.\'}}">edit\n                        <i class="fa fa-pencil-square-o"></i>\n                    </a>\n                </div>\n            </div>\n\n            <div class="profile-info {{!!vm.pictureUrl ? \'col-sm-8\' : \'col-sm-12\'}}">\n                <span class="title" data-ng-bind-html="vm.profile.displayName">&nbsp;</span>\n                <br/>\n                <span class="subtitle" data-ng-bind-html="vm.subTitle">&nbsp;</span>\n\n                <div class="licenses">\n                    <oset-license-inline model="vm.profile.license" show-endorsements="true"></oset-license-inline>\n                </div>\n                <ul class="props">\n                    <li class="prop" ng-if="vm.profile.props.started"><strong>Driving Since:</strong> {{vm.profile.props.started | amDateFormat : \'MMMM, YYYY\'}}</li>\n                    <li class="prop" ng-if="vm.profile.props.truck || vm.profileData.props.model"><strong>Truck:</strong> {{vm.profile.props.truck}} {{vm.profileData.props.model}}</li>\n                    <li class="prop" ng-if="vm.profile.props.trailer && !!vm.profile.props.trailer.length">\n                        <strong>Trailer Type<span ng-if="vm.profile.props.trailer.length > 1">s</span>:</strong>\n                        <span ng-repeat="trailer in vm.profile.props.trailer">\n                                    {{trailer}}<span ng-if="!$last">, </span>\n                    </li>\n                </ul>\n            </div>\n\n            <div class="profile-actions col-sm-12">\n\n                <div class="icons icon-group pull-left">\n\n                </div>\n\n                <div class="icons icon-group pull-right text-right">\n                    <button type="button" class="btn btn-oset-link" ng-if="!!vm.canEdit" ui-sref="drivers.edit({driverId:vm.profile.id})">\n                        <i class="fa fa-2x fa-edit"></i>\n                    </button>\n\n                    <oset-connection-button profile="vm.profile" class="btn btn-oset-secondary"></oset-connection-button>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>'),$templateCache.put("/modules/drivers/views/templates/driver-edit-form.client.template.html",'<fieldset>\n\n    <div class="row">\n        <div data-ng-show="vm.error" class="panel panel-danger mgn-vert col-md-8 col-md-offset-2">\n            <div class="text-danger text-center mgn-vert">\n                <strong data-ng-bind="vm.error"></strong>\n            </div>\n        </div>\n    </div>\n\n    <h3>Interests\n        <br/>\n        <small>\n            Tell us about what kind of jobs you are interested in. Select from the list or add your own.\n        </small>\n    </h3>\n\n    <div class="well">\n        <div class="row text-center">\n            <oset-categories model="vm.driver.interests" mode="edit"></oset-categories>\n            <input type="hidden" name="interests" ng-model="vm.driver.interests"/>\n        </div>\n    </div>\n\n    <!-- Driver\'s License Information -->\n    <h3>Driver License\n        <br/>\n        <small>\n            When sharing your profile, we will share basic information about your license\n        </small>\n    </h3>\n\n    <div class="well">\n        <os-edit-license model="vm.driver.license" form-name="licenseForm"></os-edit-license>\n    </div>\n\n    <!-- Driver\'s Experience Breakdown -->\n    <h3>Experience\n        <br/>\n        <small>\n            Add information about past work experience to help employers know more about you and your background\n        </small>\n    </h3>\n\n    <div class="panel">\n        <oset-experience-list list="vm.driver.experience" can-edit="true"></oset-experience-list>\n    </div>\n\n    <!-- Biography -->\n    <h3 class="clearfix">About Me\n        <br/>\n        <small>\n            Include an introduction to yourself here to help employers know who you are\n        </small>\n    </h3>\n    <div class="container-fluid well">\n\n        <div class="row"\n             ng-show="vm.driverForm.description.$invalid && (vm.driverForm.$submitted || vm.driverForm.description.$dirty)">\n            <div class="panel panel-danger mgn-btm col-md-8 col-md-offset-2">\n                <div class="text-danger text-center mgn-vert">\n                    Please add some information about yourself here.\n                </div>\n            </div>\n        </div>\n\n        <!--<textarea os-html-edit data-ng-model="vm.driver.about" class="editor-lg" ng-required="true"></textarea>-->\n\n                    <textarea os-html-edit type="text" data-ng-model="vm.driver.about"\n                              name="description" id="description" class="editor-md"\n                              placeholder="Please introduce yourself to the employer here"\n                              ng-required="true"></textarea>\n        <!--<input type="hidden" ng-model="vm.driver.about" name="description" ng-required="true"/>-->\n    </div>\n\n    <div ng-if="vm.enableSchedule">\n\n        <h3>Availability</h3>\n        <!-- Driver\'s Availability -->\n        <div class="container-fluid well">\n            <div class="row profile-row" ng-show="vm.driver.schedule && !!vm.driver.schedule.length">\n                <div class="col-md-12 availability_matrix" name="schedule">\n                    <div class="container-fluid well">\n                        <div class="col-md-12">\n                            <div class="row availability-header">\n                                <div class="col-md-5">\n                                    <h6 class="heading profile-label profile-label-1">Time</h6>\n                                </div>\n                                <div class="col-md-1">\n                                    <h6 class="heading profile-label profile-label-1">M</h6>\n                                </div>\n                                <div class="col-md-1">\n                                    <h6 class="heading profile-label profile-label-1">Tu</h6>\n                                </div>\n                                <div class="col-md-1">\n                                    <h6 class="heading profile-label profile-label-1">W</h6>\n                                </div>\n                                <div class="col-md-1">\n                                    <h6 class="heading profile-label profile-label-1">Th</h6>\n                                </div>\n                                <div class="col-md-1">\n                                    <h6 class="heading profile-label profile-label-1">F</h6>\n                                </div>\n                                <div class="col-md-1">\n                                    <h6 class="heading profile-label profile-label-1">Sa</h6>\n                                </div>\n                                <div class="col-md-1">\n                                    <h6 class="heading profile-label profile-label-1">Su</h6>\n                                </div>\n                            </div>\n                            <div ng-include="\'modules/users/views/templates/schedule.client.template.html\'"\n                                 ng-repeat=\'schedule in vm.driver.schedule\'></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class="row profile-row" ng-hide="vm.driver.schedule">\n                <div class="col-sm-8 col-sm-offset-2">\n                    <uib-alert type="info text-center">\n                        <i class="fa fa-info-circle text-info fa-2x pull-left"\n                           style="padding-right: 10px;"></i>\n                        <span>You will be able to set your schedule after saving your primary information</span>\n                    </uib-alert>\n                </div>\n            </div>\n        </div>\n\n    </div>\n</fieldset>\n'),$templateCache.put("/modules/drivers/views/templates/driver-info-form.client.template.html",'<fieldset>\n\n    <div class="row">\n        <!--What type of license do you have? -->\n        <div class="col-md-10 col-md-offset-1">\n            <p class="info">\n                What type of driver license do you have?\n            </p>\n\n            <div class="panel panel-default pad-vert">\n                <os-edit-license model="vm.profile.license"\n                                 form-name="licenseForm"\n                                 mode="minimal"></os-edit-license>\n            </div>\n        </div>\n    </div>\n\n    <div class="row">\n        <!--What are you interested in -->\n        <div class="col-sm-10 col-sm-offset-1">\n            <p class="info">\n                What types of jobs are you interested in?\n            </p>\n\n            <div class="panel panel-default pad-vert text-center">\n                <oset-categories model="vm.profile.interests" mode="edit"></oset-categories>\n                <input type="hidden" name="interests" ng-model="vm.profile.interests"/>\n            </div>\n        </div>\n    </div>\n\n    <div class="row">\n\n        <h4 class="col-sm-12">Work Experience</h4>\n\n        <p class="info col-sm-12">\n            Add information about past Experience to help employers know more about you and your\n            background.\n            <button type="button" class="btn btn-oset-link" ng-show="vm.profile.experience.length === 1"\n                    ng-click="vm.profile.experience = [];"\n                    event-focus="click" event-focus-id="introText">\n                skip\n            </button>\n        </p>\n\n        <!--What are you interested in -->\n        <div class="form-group">\n            <div class="col-sm-12">\n                <oset-experience-list list="vm.profile.experience" can-edit="true"></oset-experience-list>\n            </div>\n        </div>\n\n    </div>\n\n    <div class="row">\n        <!--Cover Letter-->\n\n        <h4 class="col-sm-12">Cover Letter</h4>\n\n        <p class="info col-sm-12" ng-if="vm.about.messageSubHeading"\n           ng-bind-html="vm.about.messageSubHeading"></p>\n\n        <div class="form-group"\n             ng-class="{\'has-error\': vm.form.introText.$invalid && (vm.form.$submitted || vm.form.introText.$touched)}">\n            <div class="col-sm-12">\n                <div class="info pad-btm" ng-show="!vm.profile.about && !vm.introTextError">\n                    Please introduce yourself in a few sentences. This will serve as the template for your job\n                    application cover letter.\n                </div>\n                <div class="text-center text-danger pad-btm" ng-show="vm.introTextError">\n                    {{vm.introTextError}}\n                </div>\n                <textarea os-html-edit type="text" data-ng-model="vm.profile.about"\n                          name="introText" id="introText" class="editor-md"\n                          placeholder="Please introduce yourself to the employer here"\n                          ng-required="true"></textarea>\n            </div>\n\n        </div>\n\n    </div>\n\n</fieldset>\n'),$templateCache.put("/modules/drivers/views/templates/driver-profile.client.template.html",'<section name="os-driver.directive">\n\n    <!--<a data-ng-if="vm.canEdit" class="btn btn-link pull-right"\n                       ui-sref="drivers.edit({driverId: vm.driver._id })">edit driver profile\n            <i class="fa fa-pencil-square-o"></i>\n    </a>-->\n    <div class="pnl-info portfolio">\n        <div class="pnl-heading">\n            <span class="title">MY PORTFOLIO</span>\n            <a href="" class="icon" uib-tooltip="securely share your documents">\n               <i class="fa fa-share-square-o"></i>\n            </a>\n        </div>\n\n        <div class="panel-body">\n            <oset-document-list model="vm.driver" display-mode="inline"></oset-document-list>\n        </div>\n\n        <div id="portfolio-carousel" class="carousel" data-ride="carousel">\n\n        </div>\n    </div>\n\n    <div class="pnl-info">\n        <div class="pnl-heading">\n            <span class="title" ng-show="vm.driver.experience.length > 0">\n                EXPERIENCE\n            </span>\n        </div>\n        <div class="panel-body" ng-switch="!!(vm.driver.experience.length)">\n            <oset-experience-list ng-switch-when="true"\n                                  list="vm.driver.experience" view-only="true" max-ct="5">\n\n            </oset-experience-list>\n\n            <p class="text-center" ng-switch-default>None Added</p>\n        </div>\n    </div>\n    \n    <div class="pnl-info">\n        <div class="pnl-heading">\n            <span class="title">\n                About Me\n            </span>\n        </div>\n        <div class="panel-body">\n            <span class="about" data-ng-bind-html="vm.driver.about"></span>\n        </div>\n    </div>\n\n    <div class="pnl-info">\n        <div class="pnl-heading">\n            <span class="title">\n                Interests\n            </span>\n        </div>\n        <div class="panel-body text-center">\n            <oset-categories model="vm.driver.interests" mode="view">\n                 <span ng-if="vm.canEdit">You can specify what kind of jobs you are interested in finding by <a\n                         ui-sref="drivers.edit({driverId: vm.driver._id})">editing your driver profile</a>!</span>\n                <span ng-if="!vm.canEdit">{{vm.driver.displayName}} has not yet entered any job type preferences or interests.</span></span>\n            </oset-categories>\n        </div>\n    </div>\n    \n\n    <os-view-schedule data-ng-if="false" model="vm.driver.schedule"></os-view-schedule>\n</section>\n'),$templateCache.put("/modules/drivers/views/templates/experience-list.client.template.html",'<section name="experience-list.client.template" class="experience-list">\n    <div ng-form="experienceForm" class="row profile-row">\n        <div class="col-sm-12 exp-item-wrapper" ng-switch="!!(vm.models && vm.models.length > 0)">\n\n            <oset-experience-item data-ng-repeat="exp in vm.models | limitTo: vm.maxCt"\n                                  model-index="$index"\n                                  model="exp" is-last="$last" ng-switch-when="true"\n                                  view-only="vm.viewOnly" can-edit="vm.canEdit" edit-mode="exp.isFresh && vm.isEditing"\n                                  add-fn="vm.add" drop-fn="vm.drop" is-last="$last">\n            </oset-experience-item>\n\n            <div class="text-center" ng-switch-default>\n                <button type="button" class="btn btn-oset-primary" ng-click="vm.add()">\n                    <i class="fa fa-plus-circle" style="padding-right: 10px;"></i> Add Experience\n                </button>\n            </div>\n\n            <p class="" ng-if="vm.models.length > vm.maxCt">\n                <button type="button" class="btn btn-oset-link" ng-click="(vm.maxCt = vm.maxCt+5);">view more ...\n                </button>\n\n                <div class="circle"></div>\n            </p>\n        </div>\n    </div>\n</section>\n'),$templateCache.put("/modules/drivers/views/templates/experience.client.template.html",'<section class="experience">\n\n    <!--Form When Editing is Active-->\n\n    <div ng-form="{{\'experienceItem_\' +vm.modelIndex}}" ng-init="vm.activate()"\n         class="edit form-horizontal" ng-show="vm.isEditing"\n         ng-if="!vm.viewOnly">\n\n        <div class="row" ng-show="vm.formItem.$invalid && (vm.formItem.$submitted || vm.formItem._submitted)">\n            <div class="panel panel-danger mgn-btm col-md-8 col-md-offset-2">\n                <div class="text-danger text-center mgn-vert">\n                    {{vm.error || \'Please fill in required fields and correct errors\'}}\n                </div>\n            </div>\n        </div>\n\n        <div class="row mgn-vert"\n             ng-class="{\'has-error\':(vm.formItem.title.$invalid || vm.formItem[\'hidden_title\'].$invalid) && (vm.formItem.$submitted || vm.formItem._submitted || vm.formItem.title.$touched)}">\n            <label class="col-sm-2 control-label">Job Title</label>\n\n            <div class="controls col-sm-9 controls">\n                <input type="text" name="title" data-ng-model="vm.model.title" class="form-control"\n                       placeholder="your title at this position"\n                       ng-required="true"/>\n            </div>\n        </div>\n\n        <div class="row mgn-vert"\n             ng-class="{\'has-error\':(vm.formItem.description.$invalid || vm.formItem[\'hidden_description\'].$invalid) && (vm.formItem.$submitted || vm.formItem._submitted || vm.formItem.description.$touched)}">\n            <label class="col-sm-2 control-label">About</label>\n\n            <div class="controls col-sm-9 controls">\n                <textarea name="description" class="form-control" data-ng-model="vm.model.description"\n                          rows="3" ng-required="true" placeholder="describe your experience"></textarea>\n                <!--<textarea os-html-edit model="vm.model.description"></textarea>-->\n            </div>\n        </div>\n\n        <div class="row mgn-vert">\n            <label class="col-sm-2 control-label"\n                   ng-class="{\'has-error\':(vm.formItem.time_start.$invalid || vm.formItem[\'hidden_time_start\'].$invalid) && vm.formItem.$submitted || vm.formItem._submitted}">\n                Time Period\n            </label>\n\n            <div class="col-sm-9 form-inline">\n                <div class="col-sm-5 input-group"\n                     ng-class="{\'has-error\':(vm.formItem.time_start.$invalid || vm.formItem[\'hidden_time_start\'].$invalid) && (vm.formItem.$submitted || vm.formItem._submitted || vm.formItem.time_start.$touched)}">\n                    <div class="input-group-addon">{{ \'start\' | titleCase }}</div>\n                    <date-input class="form-control" model="vm.model.startDate" os-name="time_start"\n                                dformat="MM/DD/YYYY"></date-input>\n\n                    <input type="hidden" ng-model="vm.model.startDate" ng-required="vm.isRequired"\n                           name="hidden_time_start">\n                </div>\n\n                <div class="col-sm-5 input-group"\n                     ng-class="{\'has-error\':(vm.formItem.time_end.$invalid || vm.formItem[\'hidden_time_end\'].$invalid) && (vm.formItem.$submitted || vm.formItem._submitted || vm.formItem.time_end.$touched)}">\n                    <div class="input-group-addon">{{ \'end\' | titleCase }}</div>\n\n                    <date-input class="form-control" model="vm.model.endDate" os-name="time_end"></date-input>\n                    <input type="hidden" ng-model="vm.model.endDate" ng-required="vm.isRequired"\n                           name="hidden_time_end">\n\n                </div>\n            </div>\n        </div>\n\n        <div class="row mgn-vert"\n             ng-class="{\'has-error\':(vm.formItem.location.$invalid || vm.formItem[\'hidden_location\'].$invalid) && (vm.formItem.$submitted || vm.formItem._submitted || vm.formItem.location.$touched)}">\n            <label class="col-sm-2 control-label">Location</label>\n\n            <div class="col-md-9 controls">\n                <input type="text" data-ng-model="vm.model.location" class="form-control"\n                       placeholder="where was this job?"\n                       ng-required="true" name="location"/>\n            </div>\n        </div>\n\n        <div class="clearfix"></div>\n\n        <div class="row">\n            <div class="col-sm-11">\n                <div class="pull-right">\n                    <button type="button" class="btn btn-link" ng-click="vm.cancel($event)">\n                        cancel\n                    </button>\n\n                    <button type="button" class="btn btn-oset-primary" ng-click="vm.save(\'save\')">\n                        <i class="fa fa-check-circle" style="padding-right: 10px;"></i>save\n                    </button>\n\n                    <button type="button" class="btn btn-oset-primary" ng-click="vm.save(\'add\')" ng-if="!!vm.addFn">\n                        <i class="fa fa-plus-circle" style="padding-right: 10px;"></i> add another\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <!--Display when Item is not Editing-->\n\n    <section class="experience view col-xs-12" ng-hide="vm.isEditing" ng-switch="vm.confirmDelete"\n             ng-class="{\'last\':vm.isLast && !vm.canEdit, \'expanded\': vm.model.expanded}"\n             ng-click="vm.model.expanded = !vm.model.expanded">\n        <div class="top-header row">\n            <div class="col-sm-12">\n                <strong class="top-title">\n                    {{vm.model.title}}\n                </strong>\n            </div>\n            <div class="col-sm-12">\n                <span class="location">\n                    {{vm.model.location}}\n                </span>\n                <span class="work-time pull-right"\n                      ng-bind="vm.getDateRangeString(vm.model.startDate, vm.model.endDate)">\n                </span>\n            </div>\n\n        </div>\n\n        <div class="row animated">\n            <div class="pnl-body col-sm-12" ng-show="vm.model.expanded || vm.canEdit">\n                <p>\n                    <span ng-bind-html="vm.model.description"></span>\n                </p>\n            </div>\n\n            <div class="col-sm-12 text-center">\n                <a class="text-center more-details text-oset" ng-show="!vm.canEdit">\n                    <span class="fa-stack fa">\n                      <i ng-hide="!!vm.model.expanded" class="fa fa-circle-thin fa-stack-2x"></i>\n                      <i class="fa {{ !!vm.model.expanded ? \'fa-chevron-up\' : \'fa-chevron-down\'}} fa-stack-1x"></i>\n                    </span>\n                </a>\n            </div>\n        </div>\n\n\n        <p class="pnl-controls" ng-if="vm.canEdit">\n            &nbsp;\n            <span class="pull-right">\n                <span class="text-danger" ng-switch-when="true">\n                    Are you sure you wish to delete this experience item?\n                    <button type="button" class="btn btn-oset-link btn-oset-danger"\n                            ng-click="vm.drop(vm.model)">\n                        YES\n                    </button>\n                    <button type="button" class="btn btn-oset-link btn-oset-danger"\n                            ng-click="vm.confirmDelete = false;">\n                        NO\n                    </button>\n                </span>\n\n                <span ng-switch-default>\n                    <button type="button" class="btn btn-oset-link"\n                            ng-click="vm.confirmDelete = true;">\n                        <i class="fa fa-trash"></i>delete\n                    </button>\n\n                    <button type="button" class="btn btn-oset-link" ng-click="vm.edit()">\n                        <i class="fa fa-pencil"></i>edit\n                    </button>\n                </span>\n            </span>\n        </p>\n        <div class="circle"></div>\n    </section>\n    <div class="pull-right" data-ng-show="vm.isLast && !vm.isEditing && vm.canEdit">\n        <button type="button" class="btn btn-oset-primary" ng-click="vm.push()" ng-if="!!vm.push">\n            <i class="fa fa-plus-circle" style="padding-right: 10px;"></i> add\n        </button>\n    </div>\n\n</section>\n'),$templateCache.put("/modules/jobs/views/templates/job-list.client.template.html",'<section name="os-job-list.directive" class="outset-list">\n\n    <!-- SEARCH HEADER --->\n    <div class="panel panel-default" data-ng-if="!!vm.showSearch && !!vm.jobs.length">\n        <form class="panel-body form-inline">\n            <div class="col-sm-12 text-center mgn-btm">\n                <oset-categories model="vm.jobTypes" summary="vm.jobCats" show-all="vm.showAllTypes" lbl-class="btn-sm no-mgn" mode="select"></oset-categories>\n            </div>\n\n            <div class="form-group search">\n                <input id="job-search" ng-model="vm.searchTerms" type="search"\n                       class="form-control job-search"\n                       ng-model-options="{ updateOn: \'default blur\', debounce: { \'default\': 300, \'blur\': 0 } }"\n                       placeholder="search terms ...">\n            </div>\n\n            <div class="form-group pull-right">\n\n                <div class="btn-group" role="group" aria-label="...">\n                    <button type="button" class="btn btn-link no-pad-right" ng-show="!!vm.predicate"\n                            ng-click="vm.toggleSort(null,true)">\n                        <i class="fa fa-times"></i>\n                    </button>\n                    <button type="button" class="btn btn-link" ng-click="vm.toggleSort(\'posted\',true)">\n                        <span ng-hide="!!vm.predicate">Sort by </span>\n                        Posting Date\n                        <i class="fa"\n                           ng-show="!!vm.predicate"\n                           ng-class="{\'fa-sort-amount-desc\':vm.reverse, \'fa-sort-amount-asc\':!vm.reverse}"></i>\n                    </button>\n                </div>\n\n                <button type="button" class="btn-tab btn-link read-more btn-sm"\n                        ng-click="vm.toggleFilter(\'clear\')"\n                        ng-disabled="vm.filters.clear"\n                        name="clear"><i class="fa fa-times"></i></button>\n\n                <div class="btn-group">\n                    <label class="btn btn-cta-secondary btn-sm"\n                           ng-if="vm.user.type === \'owner\'"\n                           ng-click="vm.toggleFilterMine()" btn-checkbox\n                           ng-model="vm.filters.mine" name="mine">My Jobs</label>\n                    <label class="btn btn-cta-secondary btn-sm"\n                           ng-click="vm.toggleFilter(\'today\')" btn-checkbox\n                           ng-model="vm.filters.day" name="newest">New Today</label>\n                    <label class="btn btn-cta-secondary btn-sm"\n                           ng-click="vm.toggleFilter(\'week\')" btn-checkbox\n                           ng-model="vm.filters.week" name="newest">New This Week</label>\n                </div>\n\n            </div>\n        </form>\n    </div>\n\n    <!--LIST ITEM REPEATER-->\n    <div class="row">\n        <div class="job-list blog-category-list">\n\n            <article class="post col-sm-12"\n                     data-ng-repeat="job in (vm.jobs | filter: vm.jobCatFilter | filter: vm.filter | withinPastDays: \'posted\': vm.filters.numDays | filter: vm.searchTermFilter | orderBy: vm.predicate : vm.reverse | limitTo: vm.limitTo)"\n                     ng-if="vm.jobs"\n                     ng-init="job.cats=_.pluck(_.where(job.categories, \'value\'), \'key\')"\n                     ng-show="vm.visibleId === job._id || !vm.visibleId">\n\n                <!--Begin Job Item Content-->\n                <div class="post-inner">\n                    <div class="content lead-content">\n                        <div class="list-picture" ng-if="job.company.profileImageURL">\n                            <img ng-src="{{job.company.profileImageURL}}" class="img-responsive"/>\n                        </div>\n                        <div class="list-date">\n                            {{job.posted | amDateFormat : \'L LT\'}}\n                        </div>\n                        <div class="date-label" ng-if="!job.company.profileImageURL">\n                            <span class="month">{{(job.posted || job.created)  | amDateFormat : \'MMM\' | uppercase}}</span>\n                            <span class="date-number">{{job.posted | amDateFormat : \'D\'}}</span>\n                        </div>\n                        <h3 class="post-title" ui-sref="jobs.view({jobId: job._id})">{{job.name}}</h3>\n\n                        <p>\n                            <oset-categories model="job.categories" mode="view" lbl-class="btn-xs"></oset-categories>\n                        </p>\n                        <!--meta-->\n                        <div class="row">\n                            <div class="pull-right">\n                                <button type="button" class="btn-tab btn-link read-more strong {{vm.btnClass}}"\n                                        ng-click="vm.showTab()" ng-class="{\'hidden\':!vm.visibleId}">\n                                    <i class="fa fa-close fa-lg mgn-right"></i>\n                                </button>\n                                <button type="button" class="btn-tab btn-link read-more strong {{vm.btnClass}}"\n                                        ng-click="vm.showTab(job._id, \'applicants\', job.applications.length)"\n                                        ng-show="job.company._id === (vm.companyId || vm.user.company.id)"\n                                        ng-class="{\'active\': vm.visibleId === job._id && vm.visibleTab === \'applicants\'}">\n                                    <i class="fa fa-users fa-lg mgn-right"></i>{{job.applications.length}} Applicants\n                                </button>\n                                <button type="button"\n                                        class="btn-tab btn-link read-more strong {{vm.btnClass || \'mgn-left\'}}"\n                                        ng-click="vm.showTab(job._id, \'details\')"\n                                        ng-class="{\'active\': vm.visibleId === job._id && vm.visibleTab === \'details\'}">\n                                    <i class="fa fa-lg fa-file-text mgn-right"></i>View Description\n                                </button>\n                                <button type="button"\n                                        class="btn-tab btn-link read-more strong {{vm.btnClass || \'mgn-left\'}}"\n                                        ui-sref="jobs.edit({jobId: job._id})"\n                                        ng-show="job.company._id === (vm.companyId || vm.user.company.id)">\n                                    <i class="fa fa-edit fa-lg mgn-right"></i>Edit\n                                </button>\n                                <button type="button"\n                                        class="btn-tab btn-link read-more strong {{vm.btnClass || \'mgn-left\'}}"\n                                        ui-sref="jobs.view({jobId: job._id})">\n                                    <i class="fa fa-external-link fa-lg" ng-class="{\'mgn-right\': !vm.btnClass}"></i>\n                                    <span ng-if="!vm.btnClass">{{vm.user.type === \'owner\' ? \'View\' : \'Apply\'}}</span>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div class="content body">\n                        <div class="row  tab-body" ng-show="vm.visibleId === job._id">\n                            <div class="post-entry col-xs-12" ng-show="vm.visibleTab === \'applicants\'">\n                                <div class="text-center" ng-if="job.applications && job.applications.length">\n                                    <button type="button" class="btn btn-cta-secondary">\n                                        applicant details available here... <i class="fa fa-external-link"></i>\n                                    </button>\n                                </div>\n                                <!--Disabled until applicant data can be fully populated-->\n                                <!--<table class="table" ng-if="false && job.applications && job.applications.length">-->\n                                    <!--<thead>-->\n                                    <!--<tr>-->\n                                        <!--<th></th>-->\n                                        <!--<th>Applicant</th>-->\n                                        <!--<th class="hidden-sm"></th>-->\n                                        <!--<th></th>-->\n                                        <!--<th></th>-->\n                                    <!--</tr>-->\n                                    <!--</thead>-->\n                                    <!--<tbody>-->\n                                    <!--<tr data-ng-repeat="application in job.applications"-->\n                                        <!--ui-sref="applications.view({\'applicationId\': application._id})"-->\n                                        <!--ng-class="{\'disabled\': application.disabled}"-->\n                                        <!--oset-application-summary model="application" display-mode="table">-->\n                                    <!--</tr>-->\n                                    <!---->\n                                    <!--</tbody>-->\n                                <!--</table>-->\n\n                                <div class="list-group" ng-if="!(job.applications && job.applications.length)"\n                                     ng-show="vm.visibleId === job._id">\n                                    <div class="list-group-item text-center">\n                                        <h4>No one has applied to this job yet. Would you like to <a\n                                                ui-sref="jobs.edit({\'jobId\':job._id})">edit\n                                            your post?</a></h4>\n                                    </div>\n\n                                </div>\n                            </div>\n\n                            <div class="post-entry col-sm-10 col-sm-offset-1" ng-show="vm.visibleTab === \'details\'">\n                                <h4>Description</h4>\n\n                                <p ng-bind-html="job.description">No Description Available</p>\n                                <h4>Requirements</h4>\n\n                                <p ng-bind-html="job.requirements">No Requirements Listed</p>\n                            </div>\n                        </div>\n                        <a class="read-more strong pull-right" ng-click="vm.visibleId = null"\n                           ng-class="{\'hidden\':!vm.visibleId}"> </a>\n                    </div>\n                    <!--//content-->\n                </div>\n                <!--//post-inner-->\n            </article>\n            <!--//post-->\n\n        </div>\n    </div>\n</section>\n'),
$templateCache.put("/modules/jobs/views/templates/job.client.template.html",'<section class=\'job-item\' name="os-dm.job.directive">\n    <section ng-if="dm.inline">\n        <div class="row">\n            <div class="col-md-8">\n                <h4 class="list-group-item-heading">{{dm.job.name}}\n                </h4>\n            </div>\n            <div class="col-md-4">\n                <small class="list-group-item-text">\n                    <p class="text-right">Added on\n                        <span data-ng-bind="dm.job.created | date:\'shortDate\'"></span>\n                    </p>\n                </small>\n            </div>\n        </div>\n\n        <div class="row hidden">\n            <div class="col-md-12 opaque-bg">\n                <span class="" ng-bind-html=\'dm.job.description | streamline | limitTo : 100\'\n                      style="white-space: wrap; overflow:hidden; text-overflow: ellipsis; display: block;"></span>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="col-md-3">\n                <span class="fa-stack fa-md pull-left">\n                    <i class="fa fa-circle fa-stack-2x"></i>\n                    <i class="fa fa-usd fa-stack-1x fa-inverse"></i>\n                </span>\n                <span>${{ dm.job.payRate.min }} to ${{ dm.job.payRate.max }} per Hour</span>\n            </div>\n            <div class="col-md-3">\n                <span class="fa-stack fa-md pull-left">\n                    <i class="fa fa-circle fa-stack-2x"></i>\n                    <i class="fa fa-credit-card fa-stack-1x fa-inverse"></i>\n                </span>\n                <span>{{ dm.job.endorsements || "Operator - Class D" }}</span>\n            </div>\n            <div class="col-md-3">\n                <span class="fa-stack fa-md pull-left">\n                    <i class="fa fa-circle fa-stack-2x"></i>\n                    <i class="fa fa-map-marker pull-left fa-stack-1x fa-inverse"></i>\n                </span>\n                <span>{{ dm.job.location.zipCode }}</span>\n            </div>\n        </div>\n    </section>\n\n    <section ng-if="!dm.inline">\n        <div class="row">\n            <div class="col-sm-12">\n                <div class="panel panel-default job-info">\n                    <div class="panel-heading" ng-if="dm.enableHeadingControls">\n                        <div class="btn-group" role="group" aria-label="...">\n                            <button type="button" ng-class="{active : dm.showSection(\'description\', true)}"\n                                    ng-click=" dm.setDisplay( \'description\') " class="btn btn-link "\n                                    ng-show="!!dm.job.description">\n                                <span class="h4">Description</span>\n                            </button>\n                            <button type="button" ng-class="{active : dm.showSection(\'requirements\', true)}"\n                                    ng-click="dm.setDisplay( \'requirements\') " class="btn btn-link "\n                                    ng-class="{\'disabled\': !dm.job.requirements}">\n                                <span class="h4">Requirements</span>\n                            </button>\n                            <button type="button" ng-class="{active : dm.showSection(\'location\', true)}"\n                                    ng-click="dm.setDisplay( \'location\') " class="btn btn-link "\n                                    ng-class="{\'disabled\' : !dm.job.location[0] || dm.job.location[0].empty}">\n                                <span class="h4">Location</span>\n                            </button>\n                            <button type="button" ng-class="{active : dm.showSection(\'about\', true)}"\n                                    ng-click="dm.setDisplay( \'about\') " class="btn btn-link "\n                                    ng-show="!!dm.job.company.about">\n                                <span class="h4">About</span>\n                            </button>\n                        </div>\n\n                        <button type="button" ng-click="dm.setDisplay()" class="btn btn-link pull-right"><span\n                                class="h4">&times;</span>\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="col-sm-12">\n                <div class="panel panel-default job-info">\n                    <div ng-show="dm.showSection( \'description\') ">\n                        <div class="panel-heading" ng-show="dm.showSection(\'all\')"><span class="h4">Description</span>\n                        </div>\n                        <div class="panel-body mgn-btm">\n                            <div ng-bind-html="dm.job.description">No Description Listed</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="row">\n\n            <div class="col-sm-12">\n                <div class="panel panel-default job-info">\n                    <div ng-show="dm.showSection( \'requirements\') && !!dm.job.requirements">\n                        <div class="panel-heading" ng-show="dm.showSection(\'all\')"><span class="h4">Requirements</span>\n                        </div>\n                        <div class="panel-body mgn-btm">\n                            <div ng-bind-html="dm.job.requirements">No Requirements Listed</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="row">\n\n\n            <!-- <div class="col-sm-6">\n                <div class="panel panel-default job-info">\n                    <div ng-show="dm.showSection( \'requirements\') && !!dm.job.requirements">\n                        <div class="panel-heading" ng-show="dm.showSection(\'all\')"><span class="h4">Requirements</span>\n                        </div>\n                        <div class="panel-body mgn-btm">\n                            <div ng-bind-html="dm.job.requirements">No Requirements Listed</div>\n                        </div>\n                    </div>\n                </div>\n            </div> -->\n\n\n            <div class="col-sm-6">\n                <div class="panel panel-default" ng-show="dm.showSection(\'location\')">\n                    <div class="panel-heading" ng-show="dm.showSection(\'all\')">\n                        <span class="h4"><i class="fa fa-map-marker"></i>Location</span>\n                        <a ng-if="vm.enableEdit" href="#"><i class="fa fa-cog pull-right"></i></a>\n                    </div>\n\n                    <div class="panel-body mgn-btm">\n                        <os-address model="dm.job.location[0]" data-ng-show="!dm.job.location[0].empty"\n                                    enable-edit="false"></os-address>\n                        <div class="text-center" data-ng-hide="!dm.job.location[0].empty">No Location Available\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class="col-sm-6">\n                <div class="panel panel-default" ng-show="dm.showSection(\'info\')">\n                    <div class="panel-heading" ng-show="dm.showSection(\'all\')">\n                        <span class="h4"><i class="fa fa-info-circle"></i>Summary</span>\n                        <a ng-if="vm.enableEdit" href="#"><i class="fa fa-cog pull-right"></i></a>\n                    </div>\n\n\n\n                    <div class="panel-body mgn-btm">\n\n                    <span ng-if="vm.job.positionType">\n                        <strong>Type: </strong><span>{{ vm.job.positionType }}</span>\n                    </span>\n\n                    <span ng-if="!!vm.job.payString || vm.job.payRate && (vm.job.payRate.min || vm.job.payRate.max)">\n                        <strong>Pay: </strong>\n                            <span ng-show="!!vm.job.payRate.min">{{ vm.job.payRate.min | currency }}</span>\n                            <span ng-show="!!vm.job.payRate.max"><span ng-show="!!vm.job.payRate.min"> to </span>{{ vm.job.payRate.max | currency }}</span>\n                            <span ng-show="!!vm.job.payString && !!vm.job.payRate.period"> per {{vm.job.payRate.period}}</span>\n                    </span>\n\n\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="col-sm-12">\n                <div class="panel panel-default job-info">\n                    <div ng-show="dm.showSection( \'about\') ">\n                        <div class="panel-heading" ng-show="dm.showSection(\'all\')">\n                            <span class="h4">\n                                About {{dm.job.company.name || \'the Company\'}}\n                                <i class="pull-right fa fa-external-link" ui-sref="companies.view({companyId:dm.job.company._id})"></i>\n                            </span>\n                        </div>\n                        <div class="panel-body ">\n                            <p data-ng-bind-html="dm.job.company.about">not available</p>\n\n                            <p class="text-center">\n                            <a class="btn btn-oset-secondary" ui-sref="companies.view({companyId:dm.job.company._id})">\n                                learn more ...\n                            </a>\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </section>\n</section>\n'),$templateCache.put("/modules/jobs/views/templates/os-new-application-modal.client.template.html",'<span ng-click="vm.showModal()" ng-transclude>Apply</span>\n\n<script type="text/ng-template" id="applyModal.html">\n    <div class="modal-header bg-primary" ng-init="yo()">\n        <span class="h4" data-ng-bind="vm.placeholders.title">Apply to job</span>\n\n        <div class="pull-right">\n            <button type="button" class="close modal-title" ng-click="$dismiss(\'cancel\')">\n                <span aria-hidden="true">&times;<span class="sr-only">Close</span></span>\n            </button>\n        </div>\n    </div>\n    <form class="form-horizontal applicant-form" name="vm.applicantForm" data-ng-submit="vm.createApplication()" novalidate>\n        <div class="modal-body">\n            <fieldset>\n                <span class="h4" for="message" ng-bind-html="vm.placeholders.messageHeading"></span>\n                <p class="text-muted text-center" ng-bind-html="vm.placeholders.messageSubHeading"></p>\n\n                <div class="controls">\n                    <div class="text-center text-muted" ng-show="!vm.application.message">\n                        Please introduce yourself to the employer here\n                    </div>\n                    <textarea os-html-edit minimal type="text" data-ng-model="vm.application.message" name="message"\n                              id="message" class="editor-md" placeholder="{{vm.placeholders.intro}}" ng-required="true"></textarea>\n                </div>\n                <div class="checkbox">\n                    <label class="small">\n                        <input type="checkbox" data-ng-model="vm.application.termsAccepted" data-ng-required="true" name="disclaimer"/>\n                        <small data-ng-bind-html="vm.placeholders.disclaimer"></small>\n                    </label>\n                </div>\n            </fieldset>\n        </div>\n        <div class="modal-footer">\n            <div class="pull-right">\n                <input type="button" class="btn btn-link" value="cancel" ng-click="$dismiss(\'cancel\')">\n                <!--<input type="button" class="btn btn-oset-secondary" value="Save as draft" ng-click="vm.saveDraft()">-->\n                <input type="submit" class="btn btn-oset-success" ng-class="{disabled:(!vm.job)}" value="Apply!">\n            </div>\n            <div data-ng-show="vm.error" class="text-danger text-center">\n                <strong data-ng-bind="vm.error"></strong>\n            </div>\n        </div>\n    </form>\n</script>\n'),$templateCache.put("/modules/license/views/license-inline.client.template.html",'<div>\n    <span ng-show="!!vm.hasLicense" class="license">\n        <p>\n            <span ng-if="!!(vm.license.state || vm.license.class)">\n                {{vm.license.state}}\n                <span ng-if="vm.license.class"> Class {{vm.license.class | uppercase }}</span>\n                {{!vm.license.class ? \'\' : vm.license.type || \'Commercial\'}}\n                 Driver License\n            </span>\n            <span class="endorsements" ng-if="!!vm.showEndorsements">\n             <br ng-if="!!(vm.license.state || vm.license.class)"/>\n                <small class="strong">Endorsements: </small>\n                <oset-list-endorsements ng-if="!!vm.showEndorsements"\n                                    model="vm.license.endorsements"></oset-list-endorsements>\n            </span>\n        </p>\n    </span>\n\n    <em class="small text-muted" ng-hide="!!vm.hasLicense">no license on file</em>\n</div>\n'),$templateCache.put("/modules/license/views/license.client.template.html",'<ng-form name="vm.licenseForm" ng-init="vm.activate()">\n    <div class="license-details form-horizontal">\n\n        <div class="row"\n             ng-show="vm.licenseForm.$invalid && (vm.licenseForm.$submitted || vm.licenseForm.description.$dirty)">\n            <div class="panel panel-danger mgn-btm col-md-8 col-md-offset-2">\n                <div class="text-danger text-center mgn-vert">\n                    Please fill in required fields and correct errors\n                </div>\n            </div>\n        </div>\n\n        <div class="row profile-row">\n            <div class="col-sm-{{12/(vm.view.cols||1)}}">\n\n                <div class="form-group" ng-if="!!vm.view.types" ng-class="{\'col-sm-6\':vm.view.horizontal}">\n                    <label class="control-label"\n                           ng-class="{\'col-sm-12 col-md-6\': !vm.view.horizontal, \'col-sm-5\': vm.view.horizontal, \'text-danger\':vm.licenseForm.type.$invalid && vm.licenseForm.$submitted}">\n                        License Type\n                    </label>\n\n                    <div class="controls"\n                         ng-class="{\'col-sm-10 col-md-6\': !vm.view.horizontal, \'col-sm-7\': vm.view.horizontal}">\n                        <div class="btn-group">\n                            <label ng-repeat="licenseType in vm.licenseTypes" class="btn btn-cta-secondary btn-sm"\n                                   ng-model="vm.license.type" ng-required="true" name="type"\n                                   btn-radio="licenseType">{{licenseType}}</label>\n                        </div>\n                    </div>\n                </div>\n\n                <div class="form-group" ng-show="!!vm.view.classes"\n                     ng-hide="vm.view.hideClasses && vm.license.type != \'Commercial\'"\n                     ng-class="{\'col-sm-6\':vm.view.horizontal, \'disabled\':vm.license.type !== \'Commercial\'}">\n                    <label class="control-label"\n                           ng-class="{\'col-sm-12 col-md-6\': !vm.view.horizontal, \'col-sm-5\': vm.view.horizontal}">\n                        Class Rating\n                    </label>\n\n                    <div class="controls"\n                         ng-class="{\'col-sm-10 col-md-6\': !vm.view.horizontal, \'col-sm-7\': vm.view.horizontal}">\n                        <div class="btn-group">\n                            <label ng-repeat="val in vm.ratings" class="btn btn-cta-secondary btn-sm"\n                                   ng-model="vm.license.rating" name="classRating"\n                                   btn-radio="val">{{val}}</label>\n                        </div>\n                        <button type="button" class="btn-tab btn-link read-more btn-sm" ng-click="vm.license.rating = null"\n                                ng-show="!!vm.license.rating"><i class="fa fa-times"></i></button>\n                    </div>\n                </div>\n\n                <div class="form-group" ng-show="!!vm.view.state" ng-class="{\'col-sm-6\':vm.view.horizontal}">\n                    <label class="control-label"\n                           ng-class="{\'col-sm-12 col-md-6\': !vm.view.horizontal, \'col-sm-5\': vm.view.horizontal,\'text-danger\':vm.licenseForm.state.$invalid && vm.licenseForm.$submitted}">\n                        State\n                    </label>\n\n                    <div class="controls"\n                         ng-class="{\'col-sm-10 col-md-6\': !vm.view.horizontal, \'col-sm-7\': vm.view.horizontal}">\n                        <input type="text" ng-model="vm.license.state" autocomplete="off"\n                               typeahead="state as state.name for state in vm.states | filter:$viewValue | limitTo:8"\n                               name="state" ng-required="true" class="form-control">\n                    </div>\n                </div>\n\n                <div class="form-group" ng-show="!!vm.view.expires" ng-class="{\'col-sm-6\':vm.view.horizontal}">\n                    <label class="control-label"\n                           ng-class="{\'col-sm-12 col-md-6\': !vm.view.horizontal, \'col-sm-5\': vm.view.horizontal, \'text-danger\':vm.licenseForm.expires.$invalid}">\n                        Expiration Date\n                    </label>\n\n                    <div class="controls"\n                         ng-class="{\'col-sm-10 col-md-6\': !vm.view.horizontal, \'col-sm-7\': vm.view.horizontal}">\n                        <date-input model="vm.license.expires" class="form-control" name="expires"\n                                    placeholder="{{vm.dateFormat}}" name="expires" id="expiration"></date-input>\n                    </div>\n                </div>\n\n                <div class="form-group" ng-show="!!vm.view.dob" ng-class="{\'col-sm-6\':vm.view.horizontal}">\n                    <label class="control-label"\n                           ng-class="{\'col-sm-12 col-md-6\': !vm.view.horizontal, \'col-sm-5\': vm.view.horizontal, \'text-danger\':vm.licenseForm.dob.$invalid}">\n                        Date of Birth\n                        <br/>\n                        <small>Your birthdate</small>\n                    </label>\n\n                    <div class="controls"\n                         ng-class="{\'col-sm-10 col-md-6\': !vm.view.horizontal, \'col-sm-7\': vm.view.horizontal}">\n                        <date-input model="vm.license.dateOfBirth" class="form-control" name="dob"\n                                    placeholder="{{vm.dateFormat}}"></date-input>\n                    </div>\n                </div>\n            </div>\n\n            <div ng-class="{\'col-sm-6\':vm.view.cols === 2, \'col-sm-12\': vm.view.cols === 1}">\n\n\n                <div class="form-group" ng-show="!!vm.view.endorsements">\n                    <label class="control-label col-md-8 col-md-offset-2 col-xs-12 text-left-force">Endorsements<br>\n                        <small>any endorsements on your license?</small>\n                    </label>\n                    <pre class=\'row\' ng-if="vm.debug">{{vm.license.endorsements}}</pre>\n                    <div class="controls col-md-8 col-md-offset-2 col-xs-12">\n                        <div class="btn-group btn-group-vertical center-block">\n                            <label ng-repeat="endorsement in vm.endorsements"\n                                   class="btn btn-cta-secondary btn-md container-fluid oset-toggles"\n                                   ng-model="vm.license.endorsements[endorsement.key]"\n                                   btn-checkbox data-ng-class="{\'active\':endorsement.value}">\n                                <i class="fa pull-left"></i>\n\n                                <div class="col-xs-4 text-left">{{endorsement.key}}</div>\n                                <div class="col-xs-7 text-left">\n                                    <small>{{endorsement.description}}\n                                    </small>\n                                </div>\n                            </label>\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n        </div>\n\n\n        <div class="row">\n            <div class="col-sm-12 text-center">\n                <button class="btn btn-oset-link" type="button" ng-click="vm.toggleView()" ng-switch="vm.mode">\n                    <span ng-switch-when="minimal">show more...</span>\n                    <span ng-switch-when="standard">show less...</span>\n                </button>\n            </div>\n        </div>\n    </div>\n</ng-form>\n'),$templateCache.put("/modules/users/views/settings/file-upload.client.template.html",'<section class="container-fluid" ng-form="vm.fileUploadForm">\n    <fieldset class="signin form-horizontal" ng-show="vm.initialized">\n\n        <div class="text-center form-group" ng-if="!!vm.title">\n            <span>{{vm.title}}</span>\n        </div>\n\n        <div class="text-center form-group">\n\n            <div class="report-badges uploader mgn-vert" ng-if="!vm.hideIcon">\n                    <span class="fa-stack fa-3x report-badge"\n                          ng-class="{\'available\': !!vm.fileName || !!vm.hasFile}">\n                        <i class="fa fa-file-o fa-stack-2x"></i>\n                        <i class="fa fa-check fa-1x"></i>\n                        <i class="fa fa-file fa-stack-2x"></i>\n                        <i class="fa fa-question fa-1x"></i>\n                    </span>\n            </div>\n\n                <span class="btn {{vm.uploadBtnClass || \'btn-oset-secondary\'}} btn-file"\n                      data-ng-hide="vm.uploader.queue.length && !vm.autoUpload">\n                    {{vm.uploadBtnText || \'Select File ...\'}}\n                    <input type="file" nv-file-select uploader="vm.uploader">\n                </span>\n        </div>\n\n        <div class="text-center form-group" data-ng-show="vm.uploader.queue.length && !vm.autoUpload">\n            <button type="button" class="btn btn-link" data-ng-click="vm.cancelUpload();">Cancel</button>\n            <button type="button" class="btn btn-oset-primary" data-ng-click="vm.uploadProfilePicture();">Upload\n            </button>\n        </div>\n\n        <div data-ng-show="!vm.success && !vm.error && vm.fileName && !vm.uploader.queue.length">\n            {{vm.fileName}}\n        </div>\n\n        <div data-ng-show="vm.success" class="text-center text-success">\n            <strong>{{!!vm.fileName ? vm.fileName + \' uploaded successfully!\' : \'Success!\'}}</strong>\n        </div>\n        <div data-ng-show="vm.error" class="text-center text-danger">\n            <strong data-ng-bind="vm.error"></strong>\n        </div>\n\n\n    </fieldset>\n    <div ng-hide="vm.initialized" class="alert alert-danger" role="alert"><strong>Error!</strong> Unable to initialize\n        the resume uploader. Please try again later.\n    </div>\n</section>\n'),$templateCache.put("/modules/users/views/settings/picture-modal.client.template.html",'<a class="btn btn-link" data-ng-click="show()">edit\n    <i class="fa fa-pencil-square-o"></i>\n\n    <script type="text/ng-template" id="uploadPictureModal.html">\n\n        <div class="modal-header">\n            <span class="modal-title h3 text-center">Upload a new picture</span>\n            <div class="pull-right">\n                <button type="button" class="close modal-title" ng-click="$dismiss(\'cancel\')"><span aria-hidden="true">&times;<span class="sr-only">Close</span></span></button>\n            </div>\n\n            <div class="modal-body">\n                <span ng-transclude></span>\n            </div>\n\n            <div class="modal-footer">\n\n\n            </div>\n\n        </div>\n\n    </script>\n</a>\n\n\n'),$templateCache.put("/modules/users/views/settings/picture-upload.client.template.html",'<section class="container-fluid" ng-form="vm.profileUploadForm">\n    <fieldset class="signin form-horizontal" ng-show="vm.initialized">\n\n        <!--Section 1: Base State - Nothing Uploaded, nothing active -->\n        <div class="form-group text-center mgn-vert" ng-hide="vm.newImage || vm.uploader.queue.length">\n            <img data-ng-show="!!vm.imageURL" data-ng-src="{{vm.imageURL}}"\n                 alt="{{vm.title}}" class="img-thumbnail user-profile-picture ng-hide">\n\n            <div data-ng-hide="!!vm.imageURL" class="report-badges uploader mgn-vert">\n                    <span class="fa-stack fa-3x report-badge">\n                        <i class="fa fa-user fa-stack-2x"></i>\n                        <i class="fa fa-question fa-1x"></i>\n                    </span>\n            </div>\n\n            <div class="text-center form-group mgn-top" data-ng-hide="vm.uploader.queue.length">\n                    <span ng-show="false && !!vm.imageURL" class="btn {{vm.uploadBtnClass || \'btn-oset-link\'}} btn-file"\n                          ng-click="vm.startCrop()">\n                        <!--Adjust Image Disabled due to imageURL != Image Object-->\n                    </span>\n                    <span class="btn {{vm.uploadBtnClass || \'btn-oset-secondary\'}} btn-file">\n                        {{vm.uploadBtnText || \'Select Image ...\'}}\n                        <input type="file" nv-file-select uploader="vm.uploader">\n                    </span>\n            </div>\n        </div>\n\n        <!--Section 2: Upload in Progress-->\n        <div class="form-group tvm.newImage text-center mgn-vert"\n             ng-show="(vm.newImage || vm.uploader.queue.length) && ( vm.autoCrop && !vm.isCropping || !vm.autoCrop )">\n            <h4>Preview:</h4>\n\n            <div>\n                <img ng-src="{{vm.croppedImage}}" ng-show="vm.useCropped || vm.isCropping"\n                     class="img-thumbnail user-profile-picture"/>\n                <img ng-src="{{vm.newImage}}" ng-hide="vm.useCropped || vm.isCropping"\n                     class="img-thumbnail user-profile-picture"/>\n\n            </div>\n\n            <div class="text-center form-group" data-ng-show="vm.uploader.queue.length && !vm.isCropping">\n                <button type="button" class="btn btn-link" data-ng-click="vm.cancelUpload();">cancel</button>\n                <button type="button" class="btn btn-oset-primary" data-ng-click="vm.startCrop()">\n                    {{ vm.useCropped ? \'Adjust\' : \'Crop\'}} Image\n                </button>\n                <button type="button" class="btn btn-oset-primary" data-ng-click="vm.uploadProfilePicture();">Upload\n                </button>\n            </div>\n        </div>\n\n        <!--Section 3: Cropping in Progress-->\n        <div class="form-group tvm.newImage mgn-vert" ng-show="vm.isCropping">\n            <h4>Use the circle to select the best part of the image</h4>\n\n            <div class="text-center form-group" data-ng-hide="vm.autoCrop">\n                <button type="button" class="btn btn-link" data-ng-click="vm.cancelCrop()">cancel</button>\n                <button type="button" class="btn btn-link" data-ng-click="vm.saveCrop();">Save</button>\n            </div>\n\n            <div class="form-group-text-center-mgn-vert">\n                <div class="cropArea center-block" class="img-thumbnail user-profile-picture"\n                     style="background: #E4E4E4;overflow: hidden; width:400px; height:300px;">\n                    <img-crop image="vm.newImage" area-type="{{vm.shape}}"\n                              result-image="vm.croppedImage"></img-crop>\n                </div>\n            </div>\n\n            <div class="text-center form-group" data-ng-show="vm.autoCrop">\n                <button type="button" class="btn btn-link" data-ng-click="vm.cancelCrop()">cancel</button>\n                <button type="button" class="btn btn-oset-primary" data-ng-click="vm.saveCrop();">Save</button>\n            </div>\n        </div>\n\n        <!--Section 4: Status Text for success or error-->\n        <div data-ng-show="vm.success" class="text-center text-success">\n            <strong>Profile Picture Changed Successfully</strong>\n        </div>\n        <div data-ng-show="vm.error" class="text-center text-danger">\n            <strong data-ng-bind="vm.error"></strong>\n        </div>\n    </fieldset>\n    <div ng-hide="vm.initialized" class="alert alert-danger" role="alert"><strong>Error!</strong> Unable to initialize\n        the image uploader. Please try again later.\n    </div>\n</section>\n'),$templateCache.put("/modules/users/views/templates/addons.client.template.html",'<section>\n        <div class="col-md-12">\n            <div class="row-fluid">\n            <h3>Make yourself stand out!\n                <br>\n                <small class="">add these premium features</small>\n            </h3>\n        </div>\n\n        <div class="col-md-12">\n            <div class="col-md-1">\n                <span class="glyphicon btn-lg glyphicon-certificate"></span>\n            </div>\n            <div class="col-md-9 col-md-offset-1">\n                <h4>Background Check</h4>\n            </div>\n        </div>\n        <div class="col-md-12">\n            <div class="col-md-1">\n                <span class="glyphicon btn-lg glyphicon-certificate"></span>\n            </div>\n            <div class="col-md-9 col-md-offset-1">\n                <h4>Drug Test Results</h4>\n            </div>\n        </div>\n        <div class="col-md-12">\n            <div class="col-md-1">\n                <span class="glyphicon btn-lg glyphicon-certificate"></span>\n            </div>\n            <div class="col-md-9 col-md-offset-1">\n                <h4>DMV Records</h4>\n            </div>\n        </div>\n        <div class="col-md-12" style="height:10px;"></div>\n        <div class="col-md-12 text-center ">\n            <button type="submit" class="btn btn-large btn-oset-success">Go Premium!</button>\n        </div>\n</section>\n'),$templateCache.put("/modules/users/views/templates/edit-settings.client.template.html",'<form name="vm.userForm" data-ng-submit="vm.updateUserProfile(vm.userForm.$valid)" class="form" autocomplete="off">\n    <fieldset class="create">\n        <div class="form-group">\n            <label class="control-label" for="name">Name</label>\n\n            <div class="form-inline margin-bottom-sm" name="name" id="name">\n                <div class="input-group margin-bottom-sm" name="First">\n                    <span class="input-group-addon">First</span>\n                    <input class="form-control" type="text" data-ng-model="vm.profile.firstName" placeholder="First">\n                </div>\n\n                <div class="input-group margin-bottom-sm" name="Last">\n                    <span class="input-group-addon">Last</span>\n                    <input class="form-control" type="text" data-ng-model="vm.profile.lastName" placeholder="Last">\n                </div>\n            </div>\n        </div>\n\n        <div class="form-group">\n            <label for="email">Email/Username</label>\n\n            <div class="input-group margin-bottom-sm" id="email">\n                <span class="input-group-addon">\n                    <i class="fa fa-envelope-o fa-fw"></i>\n                </span>\n\n                <p class="form-control-static" type="text" placeholder="Email address"\n                   data-ng-bind="vm.profile.email"></p>\n            </div>\n        </div>\n\n        <div class="form-group">\n            <div class="panel panel-info col-md-10 col-md-offset-1">\n                <h4>Looking for your username?</h4>\n\n                <p>In order to keep accounts linked with people, we use your email address as your username. If you\'d\n                    like to change it, please <a href="mailto:accounts@joinoutset.com">let us know</a>!</p>\n            </div>\n        </div>\n\n        <div class="form-group">\n            <label for="addresses">Addresses</label>\n            <div class="container-fluid" id="addresses">\n                <os-address-list models="vm.profile.addresses" inline-edit="true" full-width="true" required="false"></os-address-list>\n            </div>\n        </div>\n\n        <!-- Driver\'s Telephone -->\n        <div class="form-group">\n            <label for="phone">Phone</label>\n\n            <div class="input-group margin-bottom-sm" id="phone">\n                <input class="form-control" type="tel" name="phone" data-ng-model="vm.profile.phone"\n                       placeholder="(xxx) xxx-xxxx">\n                <span class="input-group-addon">\n                    <i class="fa fa-phone fa-fw"></i>\n                </span>\n            </div>\n        </div>\n\n        <div class="form-group" data-ng-show="vm.show">\n            <div class="text-right form-group">\n                <button type="button" value="cancel" class="btn btn-large btn-link" ng-click="vm.cancel()">cancel\n                </button>\n                <button type="submit" value="update" class="btn btn-large btn-oset-primary">Save Profile</button>\n            </div>\n            <div data-ng-show="vm.error" class="text-center text-danger">\n                <strong data-ng-bind="vm.error"></strong>\n            </div>\n        </div>\n\n\n    </fieldset>\n\n    <div class="pull-right">\n        <input type="submit" class="btn btn-oset-success" data-ng-class="{\'disabled\': vm.userForm.$pristine}" value="Save Changes">\n    </div>\n    <div data-ng-show="vm.error" class="text-center text-danger">\n        <strong data-ng-bind="vm.error"></strong>\n    </div>\n    <div data-ng-show="vm.success" class="text-center text-success">\n        <strong>Profile Saved Successfully!</strong>\n    </div>\n</form>\n'),
$templateCache.put("/modules/users/views/templates/login-modal.client.template.html",'<span ng-click="vm.showLogin()" ng-transclude>Signin</span>\n<!-- <a data-ui-sref="authentication.signin" target="_self">Sign In</a> -->\n\n<script type="text/ng-template" id="loginModal.html">\n\n    <div class="modal-header bg-primary" ng-init="vm.isOpen = true;">\n        <span class="modal-title h3 text-center">Login to your account</span>\n\n        <span class="pull-right">\n            <button type="button" class="close modal-title"\n                    ng-click="$dismiss(\'cancel:\'+vm.credentials.username)"><span aria-hidden="true">\n                <i class="fa fa-close fa-lg"></i>\n                <span class="sr-only">Close</span></span>\n            </button>\n        </span>\n    </div>\n\n    <form role="form" data-ng-submit="vm.signin()" class="signin form-horizontal" spellcheck="false" novalidate>\n        <div class="modal-body">\n\n            <div class="form-group">\n                <label ng-init="$element.focus()" for="username" class="col-sm-2 control-label">Email</label>\n\n                <div class="col-sm-10">\n                    <input modal-focus="vm.isOpen" type="text" id="username" name="username" class="form-control"\n                           data-ng-model="vm.credentials.username" placeholder="email address used for sign up">\n                </div>\n            </div>\n\n            <div class="form-group">\n                <label for="password" class="col-sm-2 control-label">Password</label>\n\n                <div class="col-sm-10">\n                    <input type="password" id="password" name="password" class="form-control"\n                           data-ng-model="vm.credentials.password" placeholder="your password">\n                </div>\n            </div>\n        </div>\n\n        <div class="modal-footer">\n            <div class="text-center form-group">\n                <button type="submit" class="btn btn-oset-primary">Sign in</button>\n            </div>\n            <div class="forgot-password text-center mgn-vert" ng-show="vm.error">\n                <a ui-sref="password.forgot" data-ng-click="$dismiss(\'forgot\')">Forgot your password?</a>\n            </div>\n            <div data-ng-show="vm.error" class="text-center text-danger mgn-top">\n                <strong data-ng-bind="vm.error"></strong>\n            </div>\n        </div>\n\n        </div>\n\n\n    </form>\n\n</script>\n'),$templateCache.put("/modules/users/views/templates/schedule.client.template.html",'<section class="schedule">\n    <div class="row availability-row">\n        <div class="col-md-5">\n            <label class="control-label" title="{{schedule.time.start}} to {{schedule.time.end}}">{{ schedule.description }}</label>\n        </div>\n\n        <h3>Days: {{schedule.days}} ({{schedule.days.length}})</h3>\n\n        <div class="col-md-1" ng-repeat=\'(i,day) in schedule.days track by i\' ng-class="{yes: day, no: !day, unknown: (day || null === null)}">\n            <input ng-disabled="!editMode" type="checkbox" ng-bind="schedule.days[i]" name="">\n        </div>\n    </div>\n</section>\n'),$templateCache.put("/modules/users/views/templates/seed-user-form.client.template.html",'<section class="seed-signup">\n\n    <span class="{{vm.btnClass}}" ng-click="vm.showForm=true;" ng-hide="!!vm.showForm">\n        <a href="#">Get Started</a>\n    </span>\n\n    <form name="seedForm" id="seedForm" class="seed-form form-horizontal animated fadeIn"\n          ng-hide="!!vm.model.success || !vm.showForm">\n\n        <div class="info-text">\n            <span class="strong">Coming Soon!</span><br> Enter your email and reserve your handle</div>\n\n        <div class="row form-group" ng-if="!vm.hideName">\n            <div class="col-md-6">\n                <input type="text" data-ng-model="vm.model.firstName" class="form-control"\n                       placeholder="First Name" aria-describedby="first name">\n            </div>\n            <div class="col-md-6">\n                <input type="text" data-ng-model="vm.model.lastName" class="form-control" placeholder="Last Name"\n                       aria-describedby="last name">\n            </div>\n        </div>\n\n        <div class="row form-group">\n            <div class="col-md-8 col-md-offset-2">\n                <div class="input-group">\n                    <span class="input-group-addon" id="basic-addon1">\n                        <i class="fa fa-user"></i>\n                    </span>\n                    <input type="text" data-ng-model="vm.model.handle" class="form-control" placeholder="handle"\n                           aria-describedby="unique handle">\n                </div>\n            </div>\n        </div>\n\n        <div class="row form-group">\n            <div class="col-md-8 col-md-offset-2">\n                <div class="input-group">\n                    <span class="input-group-addon" id="basic-addon1">@</span>\n                    <input type="email" data-ng-model="vm.model.email" class="form-control" placeholder="email"\n                           aria-describedby="email address">\n                </div>\n            </div>\n        </div>\n\n        <div class="row form-group" ng-hide="true">\n            <div class="col-sm-12">\n                <oset-categories model="vm.model.interests" options="vm.interestOptions" lbl-class="btn-xs"></oset-categories>\n            </div>\n        </div>\n\n        <div class="alert alert-warning" ng-show="!!vm.model.error" ng-bind="vm.model.error"></div>\n\n        <span class="{{vm.btnClass}} mgn-btm" ng-click="vm.postSeed()">\n            <a href="#">Register</a>\n        </span>\n    </form>\n\n    <div class="info-text" ng-show="!!vm.model.success" ng-bind="vm.model.success"></div>\n</section>\n'),$templateCache.put("/modules/users/views/templates/signup-apply.client.template.html",'<span ng-click="vm.show()" ng-transclude>Signup</span>\n<!-- <a data-ui-sref="authentication.signup" target="_self">Sign Up</a>  -->\n\n<script type="text/ng-template" id="signupApplyModal.html">\n    <div class="modal-header bg-primary" ng-show="!!vm.currentStep">\n        <span class="modal-title h3 text-center">\n            New Job Application\n            </span>\n    </div>\n\n    <form id="vm.newUserApplicationForm" class="oset-form">\n        <div class="modal-body" ng-class="{\'bg-primary\': vm.currentStep === 0}">\n\n            <section class="row" ng-show="vm.currentStep===0">\n                <user-signup-type ng-form="vm.subForm0" model="vm.credentials.type" callback="vm.selectUserType()"></user-signup-type>\n            </section>\n\n\n            <section class="row" ng-show="vm.currentStep===1">\n                <p class="info col-sm-10 col-sm-offset-1">Lets get started with your email address and some basic\n                    information\n                    <br/>\n                    <em class="text-muted">... or <a ng-click="$dismiss(\'login\')" login-modal>apply with an existing user</a> </em>\n                </p>\n\n                <user-signup-form ng-form="vm.subForm1" model="vm.credentials" text="vm.about"\n                                  methods="vm.subform1Methods">\n                </user-signup-form>\n            </section>\n\n            <section class="row" ng-show="vm.currentStep === 2">\n\n                <driver-info-form ng-form="vm.subForm2" model="vm.applicant" text="vm.about"\n                                  class="col-sm-12" methods="vm.subform2Methods">\n                </driver-info-form>\n\n            </section>\n\n            <section class="row" id="step_3_docs"\n                     ng-form="vm.subForm3" ng-show="vm.currentStep === 3">\n\n                <div class="col-sm-12">\n\n                    <div class="col-sm-6">\n                        <div class="text-center control-label">Profile Picture</div>\n                        <os-picture-uploader model="vm.applicant" mode="user" success-callback="vm.userPicUploaded"\n                                             auto-crop="true"\n                                             title="Profile Picture" is-editing="vm.picIsEditing"></os-picture-uploader>\n                    </div>\n                    <div class="col-sm-6">\n                        <oset-file-upload mode="resume"\n                                          model="vm.applicant.reports[\'resume\']" model-id="vm.applicant._id"\n                                          title="Resume Upload" auto-upload="true"></oset-file-upload>\n                    </div>\n                </div>\n\n                <div class="col-sm-12">\n                    <div class="checkbox">\n                        <label class="small">\n                            <input type="checkbox" data-ng-model="vm.application.termsAccepted" data-ng-required="true"\n                                   name="disclaimer"/>\n                            <small data-ng-bind-html="vm.about.disclaimer"></small>\n                        </label>\n                    </div>\n                </div>\n\n            </section>\n        </div>\n\n        <div class="modal-footer" ng-show="!!vm.currentStep || !!vm.error">\n            <div class="pull-left">\n                <button type="button" class="btn btn-oset-secondary"\n                        ng-click="vm.prevStep()"\n                        ng-class="{\'disabled\': vm.currentStep === 2}"\n                        tabindex="-1">\n                    <i class="fa fa-arrow-circle-left"></i>&nbsp;Back\n                </button>\n            </div>\n            <div class="pull-right">\n                <button type="button" class="btn btn-oset-primary"\n                        ng-click="vm.createUser()"\n                        ng-show="vm.currentStep === 1"\n                        ng-class="{\'disabled\':vm.loading, \'disabled\':vm.credentials.terms != \'yes\'}">\n                    Next&nbsp;<i class="fa fa-arrow-circle-right"></i>\n                </button>\n                <button type="button" class="btn btn-oset-primary"\n                        ng-click="vm.createDriver()"\n                        ng-show="vm.currentStep === 2"\n                        ng-class="{\'disabled\':vm.loading}">\n                    Next&nbsp;<i class="fa fa-arrow-circle-right"></i>\n                </button>\n                <button type="button" class="btn btn-oset-primary"\n                        ng-click="vm.createApplication()"\n                        ng-show="vm.currentStep === 3"\n                        ng-class="{\'disabled\':vm.loading}">\n                    Submit Application&nbsp;<i class="fa fa-check-circle"></i>\n                </button>\n            </div>\n            <div data-ng-show="vm.error" class="text-center text-danger">\n                <strong data-ng-bind="vm.error"></strong>\n            </div>\n        </div>\n\n\n    </form>\n\n</script>\n'),$templateCache.put("/modules/users/views/templates/signup-form.client.template.html",'<section>\n    <div class="row">\n        <div class="form-group has-feedback col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3">\n\n            <label for="email" class="control-label col-xs-12">Email</label>\n\n            <div class="col-xs-12">\n                <input modal-focus="vm.focusEmail" type="email" id="email" name="email"\n                       class="form-control" debounce\n                       data-ng-model="vm.user.email"\n                       placeholder="Email" ng-required="true"\n                       autocorrect="off">\n\n                <div ng-show="vm.form.$submitted || vm.form.email.$touched" ng-messages="vm.form.email.$error">\n                    <div ng-message="required" class="panel panel-danger">Please enter your email</div>\n                    <div ng-message="email" class="panel panel-danger">Please enter a valid email address</div>\n                </div>\n\n                <span class="form-control-feedback"\n                      ng-show="vm.form.email.$valid && vm.form.email.$touched">\n                    <i class="fa fa-check text-success"></i>\n                </span>\n                <span class="form-control-feedback"\n                      ng-show="vm.form.email.$touched && vm.form.email.$error.required">\n                    <i class="fa fa-times text-danger" tootltip="Please enter an email address"></i>\n                </span>\n            </div>\n        </div>\n    </div>\n\n    <div class="row">\n        <div class="form-group has-feedback col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3"\n             ng-show="vm.user.type === \'owner\'">\n            <label for="companyName" class="control-label col-xs-12">Business Name</label>\n\n            <div class="col-xs-12">\n                <input type="text" id="companyName" name="companyName" class="form-control"\n                       data-ng-model="vm.user.companyName" placeholder="Name of your Business"\n                       ng-required="!!vm.user.type && vm.user.type === \'owner\'"\n                       autocapitalize="words">\n            </div>\n        </div>\n    </div>\n\n    <div class="row">\n        <!--Enter your name-->\n        <div class="form-group has-feedback col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3">\n            <label class="control-label col-xs-12">Your Name</label>\n\n            <div class="col-xs-6">\n                <input type="text" id="firstName" name="firstName"\n                       class="form-control" debounce ng-required="true"\n                       data-ng-model="vm.user.firstName" placeholder="First Name"\n                       autocapitalize="words">\n            </div>\n            <div class="col-xs-6">\n                <input type="text" id="lastName" name="lastName"\n                       class="form-control" debounce ng-required="true"\n                       data-ng-model="vm.user.lastName" placeholder="Last Name"\n                       autocapitalize="words">\n            </div>\n        </div>\n\n        <p class="verify col-xs-12 text-center">\n            Your name will appear as <strong>{{vm.user.firstName || \'_________\'}}\n            {{vm.user.lastName || \'_________\'}}</strong>\n        </p>\n    </div>\n\n    <div class="row">\n        <div class="form-group has-feedback col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3">\n            <label class="control-label col-xs-12">Your Zip Code\n                <i class="fa fa-info-circle mgn-left text-muted" uib-tooltip="{{vm.text.zip}}"></i>\n            </label>\n\n            <div class="col-xs-12">\n                <input type="text" id="zipCode" name="zipCode"\n                       class="form-control" debounce ng-required="true"\n                       data-ng-model="vm.user.addresses[0].zipCode" placeholder="Zip Code">\n            </div>\n        </div>\n    </div>\n\n    <div class="row">\n        <p class="info">\n        </p>\n\n        <div class="form-group has-feedback col-md-8 col-md-offset-2 col-lg-6 col-lg-offset-3">\n            <label class="control-label col-xs-12">Password\n                <i class="fa fa-info-circle mgn-left text-muted" uib-tooltip="{{vm.text.password}}"></i>\n            </label>\n\n            <div class="col-xs-12">\n                <input type="password" id="password" name="password"\n                       class="form-control mgn-vert"\n                       data-ng-model="vm.user.password"\n                       placeholder="Password"\n                       ng-required="true" ng-minlength="8">\n\n                <input type="password" id="confirmPassword" name="confirmPassword"\n                       class="form-control mgn-vert"\n                       data-ng-model="vm.user.confirmPassword"\n                       placeholder="Confirm Password"\n                       ng-required="true" ng-minlength="8"\n                       compare-to="vm.user.password">\n            </div>\n        </div>\n\n        <div class="col-sm-10 col-sm-offset-1">\n            <p class="text-center">\n                Do you agree to all conditions in the Outset <span tos>Terms of Service</span>\n                <i class="fa" ng-class="{\'fa-question\' : !vm.user.terms}"></i>\n            </p>\n            <p class="text-center">\n                <button type="button" class="btn btn-oset-secondary" ng-click="vm.user.terms=true"\n                        ng-class="{\'disabled\':!!vm.user.terms}">\n                    Yes, I Agree\n                    <i class="fa" ng-class="{\'fa-check-circle text-success\': !!vm.user.terms}"></i>\n                </button>\n\n            </p>\n        </div>\n    </div>\n\n</section>\n'),$templateCache.put("/modules/users/views/templates/signup-modal.client.template.html",'<span ng-click="vm.showSignup()" ng-transclude>Signup</span>\n<!-- <a data-ui-sref="authentication.signup" target="_self">Sign Up</a>  -->\n\n<script type="text/ng-template" id="signupModal.html">\n    <div class="modal-header bg-primary">\n\n        <div ng-hide="!!vm.credentials.type" class="container-fluid">\n            <user-signup-type model="vm.credentials.type"></user-signup-type>\n        </div>\n\n\n        <div class="hidden-xs" ng-show="!!vm.credentials.type">\n            <span class="modal-title h3 text-center">\n                <button type="button" class="btn btn-link" ng-click="vm.credentials.type = null;"><i\n                        class="fa fa-arrow-left fa-2x"></i></button>&nbsp;\n                Sign up as {{vm.credentials.type == \'owner\' ? \'an\' : \'a\'}} {{vm.credentials.type}}\n            </span>\n\n            <div class="pull-right">\n                <button type="button" class="close modal-title"\n                        ng-click="$dismiss(\'cancel:\'+vm.credentials.type)"><span aria-hidden="true">\n                    <i class="fa fa-close fa-2x"></i>\n                    <span class="sr-only">Close</span></span>\n                </button>\n            </div>\n        </div>\n\n        <div class="visible-xs" ng-show="!!vm.credentials.type">\n            <span class="modal-title h4 text-center">\n                <button type="button" class="btn btn-link" ng-click="vm.credentials.type = null;"><i\n                        class="fa fa-arrow-left fa-lg"></i></button>&nbsp;\n                {{vm.credentials.type | titleCase }} Sign Up\n            </span>\n\n            <span class="pull-right">\n                <button type="button" class="close modal-title"\n                        ng-click="$dismiss(\'cancel:\'+vm.credentials.type)"><span aria-hidden="true">\n                    <i class="fa fa-close fa-lg"></i>\n                    <span class="sr-only">Close</span></span>\n                </button>\n            </span>\n        </div>\n    </div>\n\n\n    <form role="form" data-ng-submit="vm.signup($event)" name="vm.signupForm"\n          class="signin oset-form" spellcheck="false" novalidate>\n\n        <div class="modal-body" ng-show="vm.credentials.type">\n            <p ng-if="!!vm.srefRedirect" class="text-muted text-center mgn-vert">\n                <em><span>{{vm.extraText || \'Before continuing, please create an account\'}}</span> or <a\n                        ng-click="$dismiss(\'login\')" login-modal redirect="vm.srefRedirect">Log in with an existing\n                    account</a></span> </em>\n            </p>\n\n            <div class="row">\n            <div class="col-sm-12">\n                <user-signup-form model="vm.credentials" methods="vm.signupFormMethods"></user-signup-form>\n            </div>\n            </div>\n\n        </div>\n\n        <div class="modal-footer" ng-show="vm.credentials.type">\n            <button type="submit" class="btn btn-oset-primary" ng-class="{\'disabled\':!vm.credentials.terms}">\n                Sign Up!\n            </button>\n            <div data-ng-show="vm.error" class="text-center text-danger">\n                <strong data-ng-bind="vm.error"></strong>\n            </div>\n        </div>\n    </form>\n\n\n</script>\n'),$templateCache.put("/modules/users/views/templates/signup-type.client.template.html",'<section class="signup-type bg-primary">\n    <div class="row text-center">\n        <h2 class="lead-question">I want to ... </h2>\n    </div>\n    <div class="row text-center">\n        <div class="col-sm-6" ng-click="vm.selectType(\'driver\', $event)">\n            <div class="type-option col-xs-offset-1 col-sm-offset-0 col-xs-10 col-sm-12">\n                <div class="col-xs-10 col-xs-offset-1 col-sm-12 col-sm-offset-0">\n                    <img src="modules/users/img/steering-wheel.png" class="img-responsive center-block"/>\n                </div>\n                <br class="hidden-xs"/>\n\n                <div class="heading h3">Drive</div>\n            </div>\n        </div>\n        <br class="visible-xs"/>\n\n        <div class="col-sm-6" ng-click="vm.selectType(\'owner\', $event)">\n            <div class="type-option col-xs-offset-1 col-sm-offset-0 col-xs-10 col-sm-12">\n                <div class="col-xs-10 col-xs-offset-1 col-sm-12 col-sm-offset-0">\n                    <img src="modules/users/img/owner-group.png"\n                         class="img-responsive center-block text-center"/>\n                </div>\n                <br class="hidden-xs"/>\n\n                <div class="heading h3">Hire</div>\n            </div>\n        </div>\n    </div>\n    <input type="hidden" name="type" ng-required="true" ng-model="vm.model"/>\n</section>\n'),$templateCache.put("/modules/users/views/templates/user-badge.client.template.html",'<section>\n    <a class="list-group-item row" data-ng-href="profiles/{{profile._id}}">\n        <div class="col-md-3">\n            <span class="fa-stack fa-2x">\n                <i class="fa fa-square-o fa-stack-2x"></i>\n                <i class="fa fa-user fa-stack-1x"></i>\n            </span>\n        </div>\n\n        <div class="col-md-9">\n            <span class="h3">{{profile.displayName}}</span>\n        </div>\n    </a>\n</section>\n'),$templateCache.put("/modules/users/views/templates/user-profile.client.template.html",'<section>\n    <div ng-hide="ctrl.editMode.enabled" class="row-fluid">\n        <legend class="pull-left">{{ctrl.title || \'Personal Information\'}}\n            <div class="pull-right">\n                <a class="btn btn-link" ng-click="ctrl.edit()" ng-if="ctrl.editable">\n                    <i class="fa fa-pencil"></i>&nbsp;edit\n                </a>\n            </div>\n        </legend>\n\n        <dl class="dl-horizontal">\n            <dt>Name</dt>\n            <dd>{{ctrl.profile.displayName}}</dd>\n            <dt>Email</dt>\n            <dd>{{ctrl.profile.email}}</dd>\n            <dt>Phone</dt>\n            <dd>{{ctrl.profile.phone}}</dd>\n            <dt>({{ctrl.profile.addresses.length}}) Addresses</dt>\n            <dd>\n                <os-address-list addresses="ctrl.profile.addresses" is-editing="false" required="false"></os-address-list>\n            </dd>\n        </dl>\n    </div>\n</section>\n')}]),function(){ApplicationConfiguration.registerModule("users")}(),function(){angular.module("addresses").config(["$stateProvider",function($stateProvider){}])}(),function(){function AddressListDirective(){return{templateUrl:"/modules/addresses/views/address-list.client.template.html",restrict:"E",scope:{addresses:"=?models",isEditing:"=?",canEdit:"=?",maxCount:"=?",required:"=?",fullWidth:"=?",inlineEdit:"=?"},controller:"OsAddressListController",controllerAs:"vm",bindToController:!0}}function AddressListEditDirective(){return{templateUrl:"/modules/addresses/views/address-list-edit.client.template.html",restrict:"E",scope:{addresses:"=?models",isEditing:"=?",canEdit:"=?",maxCount:"=?",required:"=?",fullWidth:"=?",inlineEdit:"=?"},controller:"OsAddressListController",controllerAs:"vm",bindToController:!0}}function AddressListController(){function activate(){!vm.required||vm.addresses&&0!==vm.addresses.length||pushStub(),updateFunctionality()}function updateFunctionality(){vm.canAdd=addEnabled(),vm.canRemove=removeEnabled()}function addEnabled(){return vm.canEdit?!vm.addresses||vm.addresses.length<vm.maxCount:!1}function removeEnabled(){return!vm.canEdit||vm.required&&1===vm.addresses.length?!1:!0}function addAddress(){pushStub()}function removeAddress(address){if(address)for(var i in vm.addresses)vm.addresses[i]===address&&vm.addresses.splice(i,1)}function pushStub(){vm.addresses||(vm.addresses=[]),vm.addresses.push(angular.copy(vm.addressStub))}var vm=this;vm.updateFunctionality=updateFunctionality,vm.addAddress=addAddress,vm.removeAddress=removeAddress,vm.canRemove=removeEnabled,vm.canAdd=addEnabled,vm.isEditing="boolean"==typeof vm.isEditing?vm.isEditing:!!vm.isEditing,vm.canEdit="boolean"==typeof vm.canEdit?vm.canEdit:!!~vm.canEdit,vm.maxCount=vm.maxCount||10,vm.required=vm.canEdit&&("boolean"==typeof vm.required?vm.required:!!~vm.required),vm.fullWidth="boolean"==typeof vm.fullWidth?vm.fullWidth:!!vm.fullWidth,vm.inlineEdit="boolean"==typeof vm.inlineEdit?vm.inlineEdit:!!vm.inlineEdit,vm.canAdd=vm.canRemove=vm.canEdit,vm.addressStub={streetAddresses:["",""]},activate()}angular.module("addresses").directive("osAddressList",AddressListDirective).directive("osEditAddressList",AddressListEditDirective).controller("OsAddressListController",AddressListController)}(),function(){function AddressItemDirective(){return{templateUrl:"/modules/addresses/views/address.client.template.html",restrict:"E",scope:{address:"=model",isEditing:"=?",canEdit:"=?",canRemove:"&?",remove:"&?",addressCount:"="},controller:"OsAddressItemController",controllerAs:"vm",bindToController:!0}}function AddressItemController($uibModal){function activate(){vm.address&&(vm.typeVal="other"===vm.address.type?vm.address.typeOther||vm.address.type:vm.address.type)}var vm=this;vm.canEdit=!!this.canEdit,vm.canRemove=vm.canRemove||function(){return vm.canEdit},vm.isOpen=!1,vm.getAddressType=function(){return"other"===vm.address.type?vm.address.typeOther:vm.address.type||"address"},vm.editAddress=function(){var modalInstance=$uibModal.open({templateUrl:"addressEditModal.html",controllerAs:"vm",controller:function($scope,address,text){var vm=this;vm.address=address,vm.text=text,$scope.vm=vm},resolve:{address:function(){return vm.address},text:function(){return{submit:"Save"}}}});modalInstance.result.then(function(result){console.log("Modal result %o",result),vm.isOpen=!1},function(result){console.log("Modal dismissed at: "+new Date),vm.isOpen=!1}),modalInstance.opened.then(function(args){vm.isOpen=!0})},vm.removeAddress=function(){vm.remove?vm.remove(vm.address):vm.address=null},activate()}angular.module("addresses").directive("osAddress",AddressItemDirective).controller("OsAddressItemController",AddressItemController),AddressItemController.$inject=["$uibModal"]}(),function(){function EditAddressDirective(){return{templateUrl:"/modules/addresses/views/edit-address.client.template.html",restrict:"E",scope:{address:"=model",canRemove:"&?"},controller:"OsEditAddressController",controllerAs:"vm",bindToController:!0}}function EditAddressController($log){var vm=this;if(vm.canRemove=!!this.canRemove&&this.canRemove()||function(){return!0},vm.types=["main","home","business","billing"],vm.ddlStatus={isopen:!1},vm.address)for(vm.address.streetAddresses||(vm.address.streetAddresses=[]);vm.address.streetAddresses.length<2;)vm.address.streetAddresses.push("");vm.setType=function(newType,$event){$log.log("type set to: ",newType),vm.address.type=newType,vm.toggleDropdown($event)},vm.toggleDropdown=function($event){$log.log("toggling dropdown from %o to %o via event %o",vm.ddlStatus.isopen,!vm.ddlStatus.isopen,$event),$event.preventDefault(),$event.stopPropagation(),vm.ddlStatus.isopen=!vm.ddlStatus.isopen},vm.toggled=function(open){$log.log("Dropdown is now: ",open)}}EditAddressController.$inject=["$log"],angular.module("addresses").directive("osEditAddress",EditAddressDirective).controller("OsEditAddressController",EditAddressController)}(),function(){angular.module("addresses").factory("Addresses",["$resource",function($resource){return $resource("api/addresses/:addressId",{addressId:"@_id"},{update:{method:"PUT"},get:{cache:!0,method:"GET"}})}])}(),function(){function menus(Menus){Menus.addMenuItem("topbar",{title:"Applicants",state:"applications.list",userTypes:["owner"],position:20}),Menus.addMenuItem("topbar",{title:"My Applications",state:"applications.list",userTypes:["driver"],position:20}),Menus.addMenuItem("adminbar",{title:"Applications",state:"applications",type:"dropdown",roles:["admin"]}),Menus.addSubMenuItem("adminbar","applications",{title:"All Applications",state:"applications.all"}),Menus.addSubMenuItem("adminbar","applications",{title:"New Application",state:"applications.create"}),Menus.addSubMenuItem("adminbar","applications",{title:"My Applications",state:"applications.list"})}menus.$inject=["Menus"],angular.module("applications").run(menus)}(),function(){function handle404s(err){return 404===err.status?null:err}function moduleConfigResolve(AppConfig,auth){return AppConfig.getModuleConfig(auth.user.type,"applications")}function myApplications(auth,apps){var applications,query={userId:auth.user._id};return"owner"===auth.user.type?(query.companyId=auth.user.company||auth.user.company._id,applications=apps.listByCompany(query)):applications=apps.listByUser(query),applications["catch"](function(err){return 404===err.status?[]:err})}function myJobsWithApplications(auth,jobs){var query={userId:auth.user&&auth.user._id||auth.user,id:auth.user.company};return jobs.listByCompany(query)["catch"](function(err){return 404===err.status?[]:err})}function resolveAllApplications(auth,jobs,apps){return auth.isAdmin?apps.ById.query().$promise:resolveApplications(auth,jobs,apps)}function resolveApplications(auth,jobs,apps){return"driver"===auth.user.type?myApplications(auth,apps):"owner"===auth.user.type?myJobsWithApplications(auth,jobs):void 0}function config($stateProvider){$stateProvider.state("ats",{url:"/ats","abstract":!0,parent:"fixed-opaque",templateUrl:"/modules/applications/views/ats.client.view.html",resolve:{applications:resolveApplications,config:moduleConfigResolve},controller:"ApplicationListController",controllerAs:"vm",bindToController:!0}).state("ats.root",{url:"?itemId&tabName&jobId",views:{"sidebar@ats":{templateUrl:"/modules/applications/views/templates/ats-sidebar.client.template.html",controller:"ApplicationListController",controllerAs:"vm",bindToController:!0},bodycontent:{templateUrl:"/modules/applications/views/templates/job-list-content.client.template.html",controller:"ApplicationListController",controllerAs:"vm",bindToController:!0}},params:{companyId:{"default":null},userId:{"default":null}}}).state("ats.root.job",{url:"job",views:{"bodycontent@ats":{templateUrl:"/modules/applications/views/templates/ats-job-details.client.template.html",controller:["$stateParams","$q","Jobs","Applications",function(params,$q,Jobs,Applications){var vm=this;vm.applicant=null,vm.loading={applicant:!0},Jobs.get(params.jobId).then(function(job){return vm.job=job,Applications.ByJob.query({jobId:vm.job.id}).$promise}).then(function(applications){vm.applications=applications})["catch"](function(err){console.error(err)})["finally"](function(){vm.loading.applicant=!1}),vm.toggleApplicant=function(applicant){var tmp=vm.applicant&&vm.applicant.id;tmp!==applicant.id?vm.applicant=applicant:vm.applicant=null}}],controllerAs:"vm",bindToController:!0}}}).state("applications",{"abstract":!0,url:"/applications",template:'<div ui-view class="content-section something"></div>',parent:"fixed-opaque",params:{companyId:{"default":null},userId:{"default":null}},resolve:{config:moduleConfigResolve}}).state("applications.list",{url:"?itemId&tabName",reloadOnSearch:!1,templateUrl:"/modules/applications/views/list-applications.client.view.html",resolve:{applications:resolveApplications},controller:"ApplicationListController",
controllerAs:"vm",bindToController:!0}).state("applications.all",{url:"all?itemId&tabName",reloadOnSearch:!1,templateUrl:"/modules/applications/views/list-applications.client.view.html",resolve:{applications:resolveAllApplications},controller:"ApplicationListController",controllerAs:"vm",bindToController:!0}).state("applications.reject",{url:"/reject",resolve:{application:["$stateParams","Applications",function($stateParams,Applications){}]}}).state("applications.create",{url:"/create",templateUrl:"/modules/applications/views/create-application.client.view.html"}).state("applications.view",{url:"/:applicationId",templateUrl:"/modules/applications/views/view-application.client.view.html",resolve:{application:["$stateParams","Applications",function($stateParams,Applications){var query={applicationId:$stateParams.applicationId,action:"view"};return Applications.getApplication(query)["catch"](handle404s)}]},controller:"ApplicationMainController",controllerAs:"vm",bindToController:!0}).state("applications.edit",{url:"/:applicationId/edit",templateUrl:"/modules/applications/views/edit-application.client.view.html"}).state("gateway",{url:"/application?jobId",templateUrl:"/modules/applications/views/gateway-form.client.view.html",controller:"ApplicationGatewayController",controllerAs:"vm",data:{hideHeader:!0},params:{jobId:""},resolve:{gateway:["Gateway","$stateParams",function(Gateway,Params){return(new Gateway).initialize(Params.jobId,Params.userId)}],resolutions:["gateway","Authentication","$stateParams","$q","$log",function(gateway,auth,Params,$q,$log){return $q.all({gateway:gateway,company:gateway.company,job:gateway.job}).then(function(result){return $log.warn("Gateway Initialized with Job `%s` and Company `%s`",result.job.name,result.company.name),result})}],application:["gateway","$q","$timeout",function(gateway,$q,$timeout){var deferred=$q.defer(),timeout=$timeout(function(){deferred.resolve("timeout")},2e3);return gateway.application.then(function(app){$timeout.cancel(timeout),deferred.resolve(app)}),deferred.promise}],user:["gateway",function(gateway){}]}}).state("gateway.userInfo",{url:"/userInfo",templateUrl:"/modules/applications/views/form/user-info.client.template.html",controller:"",controllerAs:"vm",bindToController:!0}).state("gateway.driverInfo",{url:"/driverInfo",templateUrl:"/modules/applications/views/form/driver-info.client.template.html",controller:"",controllerAs:"vm",bindToController:!0}).state("gateway.documents",{url:"/documents",templateUrl:"/modules/applications/views/form/documents.client.template.html",controller:"",controllerAs:"vm",bindToController:!0}).state("gateway.reports",{url:"/reports",templateUrl:"/modules/applications/views/form/reports.client.template.html",controller:"",controllerAs:"vm",bindToController:!0,resolve:{applicantGateway:["gateway",function(gateway){return gateway.applicantGateway}],report:["gateway",function(gateway){return gateway.report}]}}).state("gateway.reportFields",{url:"/reportFields?readonly",params:{readonly:!1},templateUrl:"/modules/applications/views/form/report-fields.client.template.html",controller:"",controllerAs:"vm",bindToController:!0,resolve:{gateway:["gateway",function(gateway){return gateway}],report:["gateway",function(gateway){return gateway.report.then(function(success){return console.log("resolved REPORT"),success})}],applicant:["gateway",function(gateway){return gateway.applicant.then(function(success){return console.log("resolved APPLICANT"),success})}],applicantGateway:["gateway",function(gateway){return gateway.applicantGateway.then(function(success){return console.log("resolved APPLICANT GATEWAY"),success})}]}}).state("gateway.authorization",{url:"/authorization",template:'<application-release-form gateway="vm.gw" model="vm.gw.models.release" methods="vm.subformMethods"></application-release-form>',controller:"",controllerAs:"vm",bindToController:!0,resolve:{requirements:["gateway","$q",function(gateway,$q){var gw=gateway;return $q.all([gw.profile,gw.release,gw.company,gw.applicantGateway,gw.application]).then(function(result){})}]}}).state("gateway.payment",{url:"/payment",templateUrl:"/modules/applications/views/form/payment.client.template.html",controller:"",controllerAs:"vm",bindToController:!0}).state("gateway.complete",{url:"/complete",templateUrl:"/modules/applications/views/form/complete.client.template.html",controller:"",controllerAs:"vm",bindToController:!0,resolve:{application:["gateway",function(gateway){return gateway.application}]}})}myJobsWithApplications.$inject=["Authentication","Jobs"],myApplications.$inject=["Authentication","Applications"],resolveAllApplications.$inject=["Authentication","Jobs","Applications"],resolveApplications.$inject=["Authentication","Jobs","Applications"],moduleConfigResolve.$inject=["AppConfig","Authentication"],config.$inject=["$stateProvider"],angular.module("applications").config(config)}(),function(){function ApplicationGatewayController(auth,Applications,$state,gateway,$log,$q,$document,toastr){function initialize(){vm.gw.applicantGateway.then(function(gw){vm.gatewayReportsEnabled=!!gw&&!!gw.sku,vm.gatewayReleaseEnabled=!!gw&&!!gw.releaseType,vm.enableFinalCheckbox=!1;var activeSteps=_.where(vm.steps,function(step){return _.isFunction(step.active)?!!step.active():!!step.active});$log.debug("%d total steps, %d active steps",vm.steps.length,activeSteps.length),_.each(activeSteps,function(step){vm.activeSteps.push(step)}),vm.currentIndex=_.findIndex(vm.activeSteps,{state:$state.current.name}),vm.currentStep=_.find(vm.activeSteps,{state:$state.current.name}),_.isEmpty(vm.gw.models.application)||vm.gw.models.application.isDraft?auth.isLoggedIn()&&vm.currentStep||(vm.currentIndex=0,vm.currentStep=vm.activeSteps[0],$state.go(vm.currentStep.state)):($log.info("this job has already been applied to"),toastr.info("You have already applied to this job",{extendedTimeOut:5e3}),vm.applicationComplete=!0,vm.currentIndex=_.findIndex(vm.activeSteps,{state:"gateway.complete"}),vm.currentStep=_.find(vm.activeSteps,{state:"gateway.complete"}),$state.go("gateway.complete"))})}function isGWEnabled(){return!!vm.gatewayReportsEnabled}function isReleaseEnabled(){return!!vm.gatewayReleaseEnabled}var vm=this;vm.debug=!1,vm.gw=gateway,Object.defineProperty(vm,"subformMethods",{enumerable:!0,get:function(){return $state.current.data.methods||($state.current.data.methods=defaultMethods),$state.current.data.methods},set:function(val){$state.current.data.methods=val}});var defaultMethods={init:function(){$log.debug("[GatewayCtrl] Root Init")},validate:function(){return $log.debug("[GatewayCtrl] Root Validate"),$q.when(!0)},submit:function(){return $log.debug("[GatewayCtrl] Root Submit"),$q.when(!0)}};vm.resetSubformMethods=function(){vm.subformMethods.init=defaultMethods.init,vm.subformMethods.validate=defaultMethods.validate,vm.subformMethods.submit=defaultMethods.submit,$log.debug("[AppGatewayCtrl] Reset Subform Methods")},vm.activeSteps=[],vm.getKeys=function(object){var keys=_.keys(object);return _.where(keys,function(k){return!_.isFunction(object[k])})},vm.getFunctionKeys=function(){var keys=_.keys(vm.subformMethods);return keys},vm.steps=[{active:!0,state:"gateway",title:"&nbsp;"},{active:function(){return!auth.user}(),state:"gateway.userInfo",title:"User Info"},{active:!0,state:"gateway.driverInfo",title:"Driver Info"},{active:!0,state:"gateway.documents",title:"Documents"},{active:isGWEnabled,state:"gateway.reports",title:"Reports"},{active:isGWEnabled,state:"gateway.reportFields",title:"Report Entry",params:{readonly:!1}},{active:isGWEnabled,state:"gateway.reportFields",title:"Confirmation",params:{readonly:!0}},{active:isReleaseEnabled,state:"gateway.authorization",title:"Authorization"},{active:!0,state:"gateway.complete",title:"&nbsp;",isLast:!0}],vm.goBack=function(){vm.currentIndex>0&&(vm.resetSubformMethods(),vm.routeToState(-1))},vm.goNext=function(){vm.subformMethods.validate().then(function(success){return $log.debug("successfully validated form for step %s",vm.currentStep.state),vm.subformMethods.submit()}).then(function(success){return $log.debug("successfully submitted form for step #%d",vm.currentIndex),$q.when(success)}).then(function(success){vm.currentIndex<vm.activeSteps.length-1?(vm.resetSubformMethods(),vm.routeToState(1),vm.error=vm.success=null):vm.setComplete()})["catch"](function(err){$log.warn("Unable to continue to next step due to %o",err),vm.error=_.isString(err)&&err||err&&err.data&&err.data.message||err&&err.message||"Unable to process the previous action.",toastr.error(vm.error||err,{extendedTimeOut:5e3})})["finally"](function(){$document.scrollTopAnimated(0,300)})},vm.setComplete=function(){toastr.info("Completed Application!")},vm.submitApplication=function(){return vm.enableFinalCheckbox&&!vm.gw.models.application.termsAccepted?void toastr.error("You must accept the terms before submitting your application",{extendedTimeOut:5e3}):vm.currentStep.isLast?void vm.gw.application.then(function(application){application=_.extend(application,{status:"submitted",agreement:vm.gw.models.application.agreement,jobId:vm.gw.models.job._id});var upsertMethod,upsertPromise,params;if(_.isEmpty(application._id)){var app=new Applications.ByJob(application);upsertPromise=app.$save()}else _.isFunction(application.$update)?upsertPromise=application.$update():(upsertMethod=new Applications.ById(application).$update,params={id:application._id},upsertPromise=upsertMethod(params));return upsertPromise}).then(function(success){$log.debug("Successfully created an application: %o",success),_.extend(vm.gw.models.application,success),vm.success="Application Submission Successful!",vm.applicationComplete=!0})["catch"](function(err){$log.error("Failed to create application",err),vm.error=err,toastr.error(err,{extendedTimeOut:5e3})})["finally"](function(){$document.scrollTopAnimated(0,300)}):$state.go(vm.currentStep.state)},vm.routeToState=function(inc){vm.currentIndex+=inc;var step=vm.currentStep=vm.activeSteps[vm.currentIndex];step.skip&&step.skip()&&($log.info("Skipping step #%d",vm.currentIndex),vm.currentIndex+=inc,step=vm.currentStep=vm.activeSteps[vm.currentIndex]),$log.debug("[Gateway] Routing to %s",step.state),$state.go(step.state,step.params)},vm.submitForm=function($event){alert("Master Form Submitted")},initialize()}ApplicationGatewayController.$inject=["Authentication","Applications","$state","gateway","$log","$q","$document","toastr"],angular.module("applications").controller("ApplicationGatewayController",ApplicationGatewayController)}(),function(){function ApplicationListController(applications,auth,moduleConfig,Applications,$log,$state,params){function loadApplicationsForJob(job,company){Applications.ById.query({job:vm.params.jobId,company:co}).$promise.then(function(applications){vm.apps=applications,vm.newApps=_.where(applications,{isUnreviewed:!0}),vm.newMessageCt=_.reduce(applications,function(total,app){$log.debug("Reducing Messages for app: %o",app);var last=_.findLastIndex(app.messages,{sender:vm.user.id}),newCt=app.messages.length-last+1;return $log.debug("Reduced found %d + 1 - %d = %d",last,app.messages.length,newCt),total+newCt},0)})}function setAdminCopy(){vm.jobIds={},_.map(vm.applications,function(app){app.jobId=app.job._id,_.contains(vm.jobIds,app.jobId)||(vm.jobIds[app.jobId]=app.job),vm.jobIds[app.jobId].applications[app._id]=app}),vm.jobs=_.values(vm.jobIds),vm.listTitle="Admin Mode Application View",vm.subtitle=vm.applications.length+" Applications across "+vm.jobs.length+" Jobs"}function setDriverCopy(){vm.bodyCopy={heading:"Your job search, all in one place!",intro:"<p>Once you have applied to a job on Outset it will appear here for you to track its progress and message the employer.</p>",bullets:["The more information you provide, the better your chances","Applicants who have reports in their profile are <u>8x more likely</u> to be hired!","You always have total control over who sees your information"],wrap:'<p class="align-center">So put your best foot forward, and apply to jobs now</p>',btnSref:"jobs.list",btnText:"view jobs"},vm.subtitle=(vm.applications&&vm.applications.length||"No")+" Active Applications"}function setOwnerCopy(){if(vm.bodyCopy={heading:"Your Applicant Tracking System, all in one place!",intro:"<p>Once prospective employees have applied to your jobs, this will be the center of your applicant tracking.</p>",bullets:[],wrap:"<p>So post your jobs, optimize their appearance and details, and come back here once the applications start coming in!</p>",btnSref:"home",btnText:"Return to your Company Dashboard"},vm.jobs=vm.applications,vm.jobs){var applicationCount=_.reduce(vm.jobs,function(sum,job,other1,other2){return sum+(job.applications?job.applications.length:0)},0);vm.jobs.length>0&&(vm.subtitle=vm.jobs.length+" Active Job"+(vm.jobs.length>1?"s":"")),applicationCount>0?vm.subtitle=vm.subtitle+" <small>"+applicationCount+" Applications</small>":vm.subtitle=vm.subtitle+" <small>no applications</small>"}}var vm=this;vm.setAdminCopy=setAdminCopy,vm.setDriverCopy=setDriverCopy,vm.setOwnerCopy=setOwnerCopy,vm.loadApplicationsForJob=loadApplicationsForJob,vm.user=auth.user,vm.applications=applications,vm.params=params,vm.subtitle=vm.applications&&vm.applications.length?vm.applications.length+" Job Applicants":"No Active Posts",vm.visibleId=params.itemId,vm.visibleTab=params.tabName,vm.config=moduleConfig||{},vm.enableEdt=!!vm.config.edit,vm.enableHeaderEdit="owner"===vm.user.type&&vm.config.enableEdit;var co=vm.user.company&&vm.user.company.id||null;vm.job&&vm.job.id===vm.params.jobId,vm.loadApplicationsForJob(vm.params.jobId,co),$state.is("applications.all")?vm.setAdminCopy():"driver"===auth.user.type?vm.setDriverCopy():"owner"===auth.user.type?vm.setOwnerCopy():vm.bodyCopy={}}angular.module("applications").controller("ApplicationListController",ApplicationListController),ApplicationListController.$inject=["applications","Authentication","config","Applications","$log","$state","$stateParams"]}(),function(){function ApplicationMainController(application,auth,$state,$log,$scope,Socket,Applications,$location,$anchorScroll){var vm=this;vm.Applications=Applications,vm.application=application,vm.user=auth.user,vm.text={},vm.activeConnection=!1,vm.rawMessages=JSON.stringify(application.messages,void 0,2),vm.application.update=function(){var application=vm.application.application;application.$update(function(retval){},processError)},vm.goBack=$state.gotoPrevious;var activate=function(){vm.application.connection&&vm.application.connection.isValid?vm.activeConnection=!0:$log.debug("No connection, or invalid connection - not creating socket."),vm.user.isOwner&&vm.application.isUnreviewed&&vm.setApplicationStatus("read"),vm.text.noconnection=vm.user.isDriver?"The employer has not yet connected with you. Once they have, they will have access to your full profile and will be able to chat with you right here.":"In order to view reports and chat with this applicant, you must first <em>Connect</em> with them using the button below. This will count against your monthly allotment of connections."};vm.setApplicationStatus=function(status){var app=vm.Applications.setStatus(vm.application._id,status);app.then(function(success){$log.debug("[setApplicationStatus] %s",success),_.extend(application,success)},function(reject){$log.warn("[setApplicationStatus] %s",reject)})};var processError=function(errorResponse){switch(errorResponse.status){case 403:vm.error="Sorry, you cannot make changes to this application",$state.go("home");break;default:vm.error=errorResponse.data.message}};vm.scrollToMessages=function(){$location.hash("messaging"),$anchorScroll(),vm.msgFocus=!0},vm.createConnection=function(){vm.connecting=!0,vm.application.connection&&$log.debug("Existing Connection: %o",vm.application.connection),Applications.createConnection(vm.application).then(function(newConnection){$log.debug("Created new connection! %o",newConnection);var params=$state.params;return params.newlyConnected=!0,$state.go($state.current,params,{reload:!0})},function(err){return $log.debug("New connection failed: %o",err),vm.connecting=!1,err})},activate()}ApplicationMainController.$inject=["application","Authentication","$state","$log","$scope","Socket","Applications","$location","$anchorScroll"],angular.module("applications").controller("ApplicationMainController",ApplicationMainController)}(),function(){function ListApplicationsDirective(){function link(scope,elem,attrs,vm){vm.displayMode=vm.displayMode||"normal",vm.company=vm.company||vm.job&&vm.job.company,vm.config=vm.config||{},vm.newMessages=0,vm.groupByJob=!1,vm.noItemsText="No job applications yet",vm.activate()}var ddo;return ddo={templateUrl:"/modules/applications/views/templates/os-list-applications.client.template.html",restrict:"E",scope:{displayMode:"@?",job:"=?",company:"=?",user:"=?",applications:"=?",jobs:"=?",config:"=?"},link:link,controller:Controller,controllerAs:"vm",bindToController:!0}}function Controller(Applications,Authentication,$log,$state,$stateParams,$location,$q){var vm=this;vm.visibleId=$stateParams.itemId,vm.visibleTab=$stateParams.tabName,vm.ApplicationFactory=Applications,vm.user=vm.user||Authentication.user,vm.activate=function(){if(vm.jobs&&vm.jobs.length)$log.debug("Job list (length %d) is already calculated",vm.jobs.length),vm.groupByJob=!0;else if(vm.applications&&vm.applications.length){var first=vm.applications[0];first.hasOwnProperty("job")?($log.debug("Looking at a list of applications"),vm.groupByJob=!1):first.hasOwnProperty("applications")&&($log.debug("Looking at a list of jobs :)"),vm.groupByJob=!0,vm.jobs=vm.applications)}vm.visibleId&&(vm.jobs&&!_.find(vm.jobs,{_id:vm.visibleId})?(vm.visibleId=vm.visibleTab=null,$state.transitionTo("applications.list",{itemId:vm.visibleId,tabName:vm.visibleTab})):vm.jobs||_.find(vm.applications,{_id:vm.visibleId})||(vm.visibleId=vm.visibleTab=null,$state.transitionTo("applications.list",{itemId:vm.visibleId,tabName:vm.visibleTab})))}}angular.module("applications").directive("osListApplications",ListApplicationsDirective),Controller.$inject=["Applications","Authentication","$log","$state","$stateParams","$location","$q"]}(),function(){function ApplicationQuestionFormCtrl($log,$q,Gateway,Applications,PolyField){var vm=this;vm.questions=Applications.getQuestions(),vm.responses={},vm.text=_.defaults(vm.text||{},{about:null}),vm.methods={init:function(){_.map(vm.questions,function(question){PolyField.translateWithThis(vm.responses,question)})},submit:function(){},validate:function(){}},vm.report=Gateway.report,vm.applicant=Gateway.applicant,$q.when(vm.report).then(vm.methods.init)}function ApplicationQuestionFormDirective(){return{templateUrl:"/modules/applications/views/templates/application-questionnaire-form.client.template.html",restrict:"E",require:["^form"],scope:{text:"=?",methods:"=?",questions:"=?",responses:"=?"},link:function(scope,element,attrs,ctrls){scope.vm.form=ctrls[0]},controller:"ApplicationQuestionFormController",controllerAs:"vm",bindToController:!0}}ApplicationQuestionFormCtrl.$inject=["$log","$q","Gateway","Applications","PolyFieldService"],angular.module("drivers").controller("ApplicationQuestionFormController",ApplicationQuestionFormCtrl).directive("applicationQuestionnaireForm",ApplicationQuestionFormDirective)}(),function(){function ApplicationReleaseFormCtrl($log,$q,$interpolate,Applications){var vm=this;vm.signatureMethods={},vm.text=_.defaults(vm.text||{},{about:null}),vm.releaseTypes={preEmployment:{text:'<p class="strong text-center"><u>DISCLOSURE AND AUTHORIZATION TO OBTAIN CONSUMER AND/OR INVESTIGATIVE CONSUMER REPORT</u></p><p>I, the undersigned, hereby consent and authorize <em class="strong">{{vm.companyName}}</em>, its affiliated companies, and/or its agents (collectively, herein after referred to as  Company) to obtain information about me from a consumer reporting agency for purposes permitted under the Fair Credit Reporting Act 15 U.S.C.1681 including employment purposes, a business transaction initiated by me, or upon my written instructions . I understand that this means that a consumer report and/or an investigative consumer report may be requested which may include information regarding my character, general reputation, personal characteristics and mode of living, whichever are applicable. The report may also contain information relating to my criminal history, credit history, motor vehicle records such as driving records, social security verification, verification of education or employment history or other background checks. This may involve personal interviews with sources such as neighbors, friends or associates. These reports may be obtained at any time after receipt of my authorization, and if I am hired or engaged to transact business with the Company, throughout my employment or relationship with the Company. I understand I have the right, upon written request made within a reasonable time after receipt of this notice, to request disclosure of the nature and scope of any investigative consumer report to e-Verifile, 900 Circle 75 Parkway, Suite 1550, Atlanta, GA 30339  770-859-9899. For information about e-Verifiles privacy practices see www.e-verifile.com. The scope of this notice and authorization is not limited to the present and, if hired or engaged to transact business with the Company, will continue and allow the Company to conduct future screenings for retention, promotion, reassignment access to the Companys premises or for a continuing relationship with the Company, unless revoked by me in writing. The Company also reserves the right to share the information contained in the report(s) with any third-party companies for whom I will be placed to work or with whom I will have a relationship or will have access to the premises. My information will only be used and/or disclosed as permitted by law and as required for creation of any report(s).</p><p class="strong"> I HEREBY CERTIFY THAT THIS FORM WAS COMPLETED BY ME, THAT THE INFORMATION PROVIDED IS TRUE AND CORRECT AS OF THE DATE HEREOF AND I AUTHORIZE E-VERIFILE TO OBTAIN A CONSUMER REPORT AND/OR INVESTIGATIVE CONSUMER REPORT ON ME, AS APPLICABLE. I acknowledge that the Company has provided with a copy of <a href="https://www.consumer.ftc.gov/articles/pdf-0096-fair-credit-reporting-act.pdf" target="_blank">A Summary of Your Rights Under the Fair Credit Reporting Act</a>. </p>'}},vm.methods=_.defaults({init:function(){return vm.companyName=vm.gateway.models.company.legalEntityName||vm.gateway.models.company.name,vm.releaseAuthForm.$addControl("signature"),vm.updateSignatureStatus(),$q.all({gw:vm.gateway.applicantGateway,app:vm.gateway.application,rel:vm.gateway.releases}).then(function(values){vm.application=values.app,vm.releaseType=values.gw.releaseType,vm.releaseText=$interpolate(vm.releaseTypes[vm.releaseType].text)({vm:vm}),vm.releases=_.indexBy(_.where(values.rel,function(val){return!_.isEmpty(val&&val.releaseType)}),"releaseType")||{};var currentRelease=vm.releases[vm.releaseType];vm.release=currentRelease||{releaseType:vm.releaseType,signature:{},name:{},releaseText:vm.releaseText},vm.existingRelease=_.cloneDeep(currentRelease)})},submit:function(){var application=vm.application;if(_.isEqual(vm.release,vm.existingRelease))return $log.debug("Existing release was unchanged ... submit complete"),$q.when(vm.application);vm.releases[vm.releaseType]=vm.release,application.releases=_.values(vm.releases);var actionPromise;return _.isEmpty(application._id)?(application=new Applications.ById(application),application.job=vm.gateway.models.job,application.jobId=vm.gateway.models.job._id,actionPromise=application.$save()):_.isFunction(application.$update)||(application=new Applications.ById(application)),actionPromise=actionPromise||application.$update(),actionPromise.then(function(success){return $log.debug("Updated an existing Application! %o",success),_.extend(vm.gateway.application,success),success})},validate:function(){if(vm.releaseAuthForm.$setSubmitted(!0),_.isFunction(vm.signatureMethods.accept)&&vm.signatureMethods.accept(),vm.updateSignatureStatus(),!vm.isSigValid)return $q.reject("Please enter your e-signature in the space provided");if(vm.releaseAuthForm.$error.required)return $q.reject("Please enter values for all required fields on the form");if(vm.releaseAuthForm.dateOfBirth.$invalid)return $q.reject("Please enter a valid date on the form");var dob=moment(vm.release.dob);return _.isEmpty(vm.release.dob)||!dob?$q.reject("Please enter a valid date on the form"):$q.when(!0)}},vm.methods),vm.updateSignatureStatus=function(){var isSigNull=!vm.release||_.isEmpty(vm.release.signature),isSigEmpty=isSigNull||vm.signatureMethods.isEmpty();vm.isSigValid=!(isSigNull||isSigEmpty)},vm.dateChanged=function(val){},$q.when(vm.report).then(vm.methods.init)}function ApplicationReleaseFormDirective(){return{templateUrl:"/modules/applications/views/form/authorization.client.template.html",restrict:"E",require:["^form"],scope:{gateway:"=?",text:"=?",methods:"=?",release:"=?model"},link:function(scope,element,attrs,ctrls){scope.vm.form=ctrls[0],scope.vm.releaseAuthForm=scope.vm.form.releaseAuthForm},controller:"ApplicationReleaseFormController",controllerAs:"vm",bindToController:!0}}ApplicationReleaseFormCtrl.$inject=["$log","$q","$interpolate","Applications"],angular.module("drivers").controller("ApplicationReleaseFormController",ApplicationReleaseFormCtrl).directive("applicationReleaseForm",ApplicationReleaseFormDirective)}(),function(){function ApplicationStatusBadgeDirective(){var ddo;return ddo={template:'<span class="label {{vm.labelClass}}">{{ vm.labelText | uppercase }}</span>',restrict:"E",scope:!0,require:"ngModel",link:function(scope,element,attrs,ngModel){var vm=scope.vm;ngModel&&(scope.$watch(function(){return ngModel.$modelValue},function(newValue){vm.labelClass=vm.getLabelClass(newValue),vm.labelText=newValue.statusCat}),scope.vm.application=ngModel.$modelValue)},controller:function(){var vm=this;vm.labelClass="label-default",vm.labelText="unknown",vm.getText=function(val){return val?val.statusCat:"view now"},vm.getLabelClass=function(val){var cnxn=val.connection;val.isUnreviewed?vm.labelClass="label-primary":val.isConnected?cnxn.isValid&&(!cnxn.expires||cnxn.remainingDays>=5)?vm.labelClass="label-success":cnxn.isValid&&cnxn.expires&&cnxn.remainingDays<5?(vm.labelClass="label-warning",vm.labelText="expires-soon"):cnxn.isValid||(vm.labelClass="label-danger"):val.isRejected?vm.labelClass="label-danger":"read"===val.status&&(vm.labelClass="label-default")}},controllerAs:"vm",bindToController:!0}}angular.module("applications").directive("osApplicationStatusBadge",ApplicationStatusBadgeDirective)}(),function(){function ApplicationSummaryController(auth,Applications,Drivers,Reports,$q,$log,toastr){var vm=this;vm.text=text,vm.user=auth.user,vm.initialize=function(application){var deferred=$q.defer();vm.application=application||vm.application,vm.application?($log.debug("[ApplicationSummaryDirective] Displaying as %s: %o",vm.displayMode,vm.application),"table"===vm.displayMode&&(vm.messagingText=vm.application.isConnected?"click here for messaging":"available once connected"),deferred.resolve(vm.application)):vm.job&&vm.profile?Applications.ById.query({job:vm.job._id,user:vm.profile._id}).$promise.then(function(success){$log.debug("Got application(s) for driver: ",success),_.isEmpty(success)?deferred.resolve(null):deferred.resolve(_.first(success))},function(failure){return 404===failure.status?null:void $log.error("Unable to lookup application based on job and user: %o",failure)}):deferred.reject("no application loaded (yet)"),deferred.promise.then(function(application){vm.setLocalProperties(application)})},vm.setLocalProperties=function(application){if(vm.application=application,vm.applicant=!!application&&application.user||vm.applicant,vm.ownerId=vm.job&&(vm.job.user._id||vm.job.user),!_.isEmpty(vm.application)){var messages=vm.application.messages;vm.lastMessage=messages&&messages.length?messages[0]:null,vm.showNewBtn=vm.job&&vm.job.company!==vm.user.company}_.isEmpty(vm.applicant)||(vm.experienceText=vm.applicant.experience&&vm.applicant.experience.length?"The applicant's experience will be available once connected":"You can discuss past job experience once you have connected")},vm.initialize()}function ApplicationSummaryDirective(){var ddo;return ddo={templateUrl:function(elem,attrs){switch(attrs.displayMode||"normal"){case"details":return"/modules/applications/views/templates/applicant-details.client.template.html";case"minimal":case"mine":case"table":return"/modules/applications/views/templates/application-summary.client.template.html";case"inline":return"/modules/applications/views/templates/applicant-normal.client.template.html"}},restrict:"E",scope:{displayMode:"@?",job:"=?",profile:"=?",index:"=?",text:"=?",scrollToMessageFn:"&?"},controller:"ApplicationSummaryController",controllerAs:"vm",bindToController:!0,require:"ngModel",link:function(scope,element,attrs,ngModel){ngModel&&(scope.$watch(function(){return ngModel.$modelValue},function(newValue){scope.vm.application=newValue,scope.vm.initialize(newValue)}),scope.vm.application=ngModel.$modelValue)}}}function ApplicationListItemDirective(){var ddo;return ddo={templateUrl:function(elem,attrs){return attrs.job?"/modules/applications/views/templates/app-list-item-summary.client.template.html":"/modules/applications/views/templates/app-list-item-self.client.template.html"},restrict:"E",scope:{userType:"@",application:"=?",job:"=?",visibleApp:"=?",visibleId:"=?",visibleTab:"=?",filter:"&"},controller:ApplicationListItemController,controllerAs:"vm",bindToController:!0}}function ApplicationListItemController(auth,Applications,$log,$state,$location){var vm=this;return vm.job||vm.application?(vm.getMaskedDisplayName=Applications.getMaskedDisplayName,vm.initialize=function(){vm.application&&(vm.applicant=vm.application.user,vm.job=vm.job||vm.application.job,_.isEmpty(vm.job),_.isEmpty(vm.job.newMessages)&&(vm.job.newMessages=0),vm.checkMessages(vm.application,vm.job))},vm.visible=function(){return(_.isUndefined(vm.visibleId)||vm.visibleId===vm.job.id)&&(_.isUndefined(vm.visibleTab)||_.contains(["applicants","messaging","documents"],vm.visibleTab))&&(_.isUndefined(vm.visibleApp)||vm.visibleApp===vm.application.id)?_.isFunction(vm.filter)&&!vm.filter()(vm.application)?!1:!0:!1},vm.showTab=function(itemId,tabName){vm.visibleId&&vm.visibleTab===tabName?vm.visibleId=vm.visibleTab=null:(vm.visibleId=itemId,vm.visibleTab=tabName),$state.transitionTo($state.current,{itemId:vm.visibleId,tabName:vm.visibleTab}),$location.search({itemId:vm.visibleId,tabName:vm.visibleTab})},vm.checkMessages=function(){Applications.checkMessages(vm.application,auth.user._id).then(function(applicationResponse){vm.application=applicationResponse,vm.application.isActive&&(vm.job.newMessages+=vm.application.newMessages||0)})["catch"](function(err){vm.application.connection?$log.error("Failed to load messages for job %s due to error: %o",vm.job._id,err):$log.debug("No connection, no messages. Simple!",err)})},vm.setApplicationStatus=function(application,status,$event){$event.stopPropagation();var app=Applications.setStatus(application.id,status);app.then(function(success){$log.debug("[setApplicationStatus] %s",success),_.extend(application,success)},function(reject){$log.warn("[setApplicationStatus] %s",reject)}),application.status=status,application.isNew=application.isConnected=!1,application.isRejected=!0,application.disabled=!0},void vm.initialize()):($log.error("[ApplicationListItemCtrl] Neither job nor application is defined... aborting initialization"),!1)}function JobItemDirective($log){function link(scope,elem,attrs,vm){return vm.job?(vm.loadApplications(),vm.job.newMessages=0,vm.filters={status:{all:!0,reviewed:!1,unreviewed:!1,connected:!1},negStatus:{rejected:!1,expired:!1}},vm.sorting={applicants:["statusIndex","-created"],
messaging:["!messages.length","-lastMessage.created"],documents:["-!!user.driver.resume","-user.driver.resume.created","-user.driver.reports.length"]},vm.defaultFiltering={applicants:{},messaging:{status:{connected:!0}},documents:{status:{connected:!0}}},void(vm.reverseSort=!1)):($log.error("[ApplicationJobListItemCtrl] Job is not defined... aborting initialization"),!1)}var ddo;return ddo={templateUrl:function(elem,attrs){return"/modules/applications/views/templates/job-list-item.client.template.html"},restrict:"E",scope:{userType:"@",application:"=?",job:"=?",visibleId:"=",visibleTab:"="},link:link,controller:JobListItemController,controllerAs:"vm",bindToController:!0}}function JobListItemController(auth,Applications,$log,$state,$location,$q){function loadApplications(applications){return applications=applications||vm.job.applications,_.isString(_.first(applications))?(vm.loading=!0,Applications.getApplicationsForJob(vm.job).then(function(applicationList){console.info("JobListItem.loadApplications result: %o for job %o",applicationList,vm.job),vm.applications=applicationList})["finally"](function(){vm.loading=!1,vm.applications=vm.applications||[]})):void(vm.applications=applications)}function showTab(itemId,tabName){vm.visibleId&&vm.visibleTab===tabName?vm.visibleId=vm.visibleTab=null:(vm.visibleId=itemId,vm.visibleTab=tabName),$state.transitionTo($state.current,{itemId:vm.visibleId,tabName:vm.visibleTab}),$location.search({itemId:vm.visibleId,tabName:vm.visibleTab})}function toggleFilter(category,key,isRadio){var filterKey=(key||"all").toLowerCase();return"all"===filterKey?void(vm.filters[category]={all:!0}):(vm.filters[category]||(vm.filters[category][filterKey]=!0),isRadio&&_.map(_.keys(vm.filters[category]),function(mapKey){mapKey!==filterKey&&(vm.filters[category][mapKey]=!1)}),void(vm.filters[category].all?vm.filters[category].all=!1:isRadio&&(vm.filters[category].all=vm.filters[category][filterKey])))}function filterApplications(application){for(var keys=_.keys(vm.filters),i=0;i<keys.length;i++){var status,tmp=vm.filters[keys[i]];switch(keys[i]){case"negStatus":case"status":if(!tmp||tmp.all)break;if(tmp&&(status=(application.statusCat||application.status).toLowerCase(),_.isBoolean(tmp[status])&&!tmp[status]))return $log.debug("Ignoring application with status `%s`",status),!1}}return!0}function getActiveApplicationCount(applications){return _.where(applications||vm.job.applications,{isActive:!0}).length}function setApplicationStatus(application,status,$event){$event.stopPropagation();var app=vm.ApplicationFactory.setStatus(application._id,status);app.then(function(success){$log.debug("[setApplicationStatus] %s",success),_.extend(application,success)},function(reject){$log.warn("[setApplicationStatus] %s",reject)}),application.status=status,application.isNew=application.isConnected=!1,application.isRejected=!0,application.disabled=!0}var vm=this;vm.showTab=showTab,vm.toggleFilter=toggleFilter,vm.filterApplications=filterApplications,vm.getActiveApplicationCount=getActiveApplicationCount,vm.setApplicationStatus=setApplicationStatus,vm.loadApplications=loadApplications}var text={pre:{about:"the applicant's full <strong>about me</strong> section will be available once you are connected",messaging:{owner:"once you have connected, you will be able to converse with the Applicant to ask and answer questions, coordinate a telephone or in-person interview, or anything else to help you find the right employee.",driver:"once you have connected, you will be able to converse with the Employer to ask and answer questions, coordinate a telephone or in-person interview, or anything else to help you find the right job."}}};ApplicationSummaryController.$inject=["Authentication","Applications","Drivers","Reports","$q","$log","toastr"],angular.module("applications").controller("ApplicationSummaryController",ApplicationSummaryController),angular.module("applications").directive("osetApplicationSummary",ApplicationSummaryDirective),angular.module("applications").directive("osetApplicationListItem",ApplicationListItemDirective),ApplicationListItemController.$inject=["Authentication","Applications","$log","$state","$location"],angular.module("applications").directive("osetJobListItem",JobItemDirective),JobItemDirective.$inject=["$log"],JobListItemController.$inject=["Authentication","Applications","$log","$state","$location","$q"]}(),function(){var ApplicationsService=function($resource,$log,$q){var _this=this,rsrcByJob=$resource("api/jobs/:jobId/applications",{jobId:"@_id"},{query:{method:"GET",isArray:!0},save:{method:"POST"}}),RsrcByID=$resource("api/applications/:id",{id:"@_id"},{update:{method:"PUT"},patch:{method:"PATCH"}});return _this._data={ByJob:rsrcByJob,ById:RsrcByID,setStatus:function(id,status){var rsrc=new RsrcByID;return rsrc.$get({id:id}).then(function(app){return app.status=status,app.$update()})},getApplicationsForJob:function(job){var jobId=job.id||job._id||job;return rsrcByJob.query({jobId:jobId}).$promise},getApplication:function(query){if(!query||!query.hasOwnProperty("applicationId"))return $log.warn("Cannot get application without application ID"),null;var RSRC=$resource("api/applications/:applicationId",{applicationId:"@applicationId"});return RSRC.get(query).$promise},listByUser:function(query){var RSRC=$resource("api/users/:userId/applications",{userId:"@userId"},{query:{method:"GET",isArray:!0}});return RSRC.query(query).$promise},listByCompany:function(query){var RSRC=$resource("api/companies/:companyId/applications",{companyId:"@companyId"},{query:{method:"GET",isArray:!0}});return RSRC.query(query).$promise},createConnection:function(application){var RSRC=$resource("api/applications/:applicationId/connect",{applicationId:"@_id"},{get:{method:"POST",isArray:!1}});return RSRC.get(application).$promise},ForDriver:$resource("api/jobs/:jobId/applications/:userId",{jobId:"@jobId",userId:"@userId"}),getMessages:function(applicationId,userId){var RSRC=$resource("api/applications/:applicationId/messages",{companyId:"@companyId"},{query:{method:"GET",isArray:!1}});return RSRC.query({applicationId:applicationId,userId:userId}).$promise},checkMessages:function(application,userId){var applicationId=application._id;return _this._data.getMessages(applicationId,userId)["catch"](function(err){return $log.debug("Caught error %o with status: %s",err,err.status),403===err.status&&application.connection?$q.when(err.data):$q.reject(err)}).then(function(success){return application.messages=success.data||[],application.lastMessage=success.latest||null,application.messageCt=success.theirs?success.theirs.length:0,application.newMessages=success.newMessages||0,application.newMessages>0?application.messagingText=application.newMessages+" new message"+(1===application.newMessages?"":"s")+" awaiting your reply":application.messagingText=application.messages.length+" total messages",$q.when(application)})["catch"](function(err){return application.messages=[],application.lastMessage={created:1e11},application.messageCt=0,application.newMessages=0,$log.warn("Error retrieving messages: %o (this needs to be handled)",err),$q.reject(err)})},getMaskedDisplayName:function(application){return _.extend({firstName:"Applicant",lastName:"",displayName:"Applicant"},application.user),application.connection?application.user.displayName:application.user.firstName+" "+(application.user.lastName&&application.user.lastName.substring(0,1)+"."||"")},getQuestions:function(){return null}},_this._data};ApplicationsService.$inject=["$resource","$log","$q"],angular.module("applications").factory("Applications",ApplicationsService)}(),function(){function GatewayService(Authentication,Profiles,Jobs,Companies,Reports,Applicants,Applications,$state,$log,$q){var Gateway,gatewayInstance;Gateway=function(){function Gateway(){this.initialize=function(job,profile){return this.initialized&&$log.warn("Gateway Service was previously initialized with job `%s`",this.models.job&&this.models.job._id),this.reset(),profile?this.profile=profile:Authentication.isLoggedIn()&&(this.profile=Authentication.user),this.job=job,this.initialized=!0,$q.when(this)},this.reset=function(){this.initialized=!1,this.models={},this.promises={}},Object.defineProperty(this,"profile",{enumerable:!0,get:function(){var _this=this;return!_this.promises.profile&&Authentication.user&&(_this.promises.profile=$q.defer(),$log.debug("[gw.profile.get] Init User"),_this.profile=Authentication.user),(_this.promises.profile=_this.promises.profile||$q.defer()).promise},set:function(val){var _this=this;return $log.debug("[Gateway] Setting `User` to %o",val),_this.promises.profile=_this.promises.profile||$q.defer(),(val&&_.isString(val)?Profiles.load(val):$q.when(val)).then(function(userResponse){return _this.promises.profile.resolve(userResponse),_this.models.profile=userResponse})}}),Object.defineProperty(this,"job",{enumerable:!0,get:function(){var _this=this;return _this.promises.job||$log.debug("[Gateway] Initializing Load of Job"),(_this.promises.job=_this.promises.job||$q.defer()).promise},set:function(val){var _this=this;_this.promises.job=_this.promises.job||$q.defer(),(val&&_.isString(val)?Jobs.get(val):$q.when(val)).then(function(response){return $log.debug("[Gateway] Resolving `job` to %o",response),_this.models.job=response,_this.promises.job.resolve(response),response}).then(function(job){_this.company=job.company})}}),Object.defineProperty(this,"company",{enumerable:!0,get:function(){var _this=this;return _this.promises.company||(_this.promises.company=$q.defer(),$log.debug("[Gateway] Initializing Load of Company")),_this.promises.company.promise},set:function(val){var _this=this;$log.debug("[Gateway] Setting `Company` to %o",val),_this.promises.company=_this.promises.company||$q.defer(),(val&&_.isString(val)?Companies.get(val):$q.when(val)).then(function(response){return $log.debug("[Gateway] Resolving `Company` to %o",response),_this.models.company=response,_this.promises.company.resolve(response),response})}}),Object.defineProperty(this,"applicantGateway",{get:function(){var _this=this;return _this.promises.applicantGateway||($log.debug("[Gateway] Initializing Load of Applicant Gateway Settings"),loadGateway(_this).then(function(response){$log.debug("[Gateway] Loaded gateway with value: %j",response),_this.applicantGateway=response})),_this.promises.applicantGateway.promise},set:function(val){var _this=this;$log.debug("[Gateway] Initializing Value of Applicant Gateway Settings"),_this.promises.applicantGateway=_this.promises.applicantGateway||$q.defer(),$q.when(val).then(function(response){return $log.debug("[Gateway] Resolving applicantGateway with %o",response),_this.models.applicantGateway=response,_this.promises.applicantGateway.resolve(response),response}).then(function(gateway){var newSku=gateway&&gateway.sku||null;_this.report=newSku})}}),Object.defineProperty(this,"report",{enumerable:!0,get:function(){var _this=this;return _this.promises.report||$log.debug("[Gateway] Initializing Load of Report Definition"),(_this.promises.report=_this.promises.report||$q.defer()).promise},set:function(val){var _this=this;$log.debug("[Gateway] Setting `Report Definition` to %o",val),_this.promises.report=_this.promises.report||$q.defer(),_this.models.sku!==val&&_this.profile.then(function(userResponse){return $log.debug("[Gateway] User loaded, now retrieving Report Definition info"),val&&_.isString(val)?Reports.get(val):$q.when(val)}).then(function(reportResponse){return _this.models.report=reportResponse,_this.promises.report.resolve(reportResponse),reportResponse}).then(function(report){_this.models.sku=(report||{}).sku})}}),Object.defineProperty(this,"applicant",{enumerable:!0,get:function(){var _this=this;return _this.promises.applicant||loadApplicant(_this).then(function(applicant){applicant&&$log.debug("[Gateway] Finished loading applicant")}),(_this.promises.applicant=_this.promises.applicant||$q.defer()).promise},set:function(val){var _this=this;$log.debug("[Gateway] Setting `Remote Applicant` to %o",val),_this.promises.applicant=$q.when(val)}}),Object.defineProperty(this,"application",{enumerable:!0,get:function(){var _this=this;return _this.promises.application||($log.debug("[Gateway] Initializing Load of Job Application"),_this.promises.application=$q.defer(),$q.all({job:_this.job,user:_this.profile}).then(function(values){return Applications.ById.query({job:values.job._id,user:values.user._id}).$promise}).then(function(applicationResponse){return _.isEmpty(applicationResponse)?$q.reject("No existing application"):($log.debug("[Gateway] Loaded Application"),_this.models.application=_.first(applicationResponse),_this.promises.application.resolve(_this.models.application),_this.profile)}).then(function(profile){_.isEmpty(_this.models.application.introduction)&&(_this.models.application.introduction=profile.about)})["catch"](function(err){$log.debug("[Gateway] Failed to load Application",err),_this.models.application={releases:[],isDraft:!0},_this.profile.then(function(profile){_this.models.application.introduction=profile.about,_this.models.application.userId=profile.id}),_this.job.then(function(jobResponse){_this.models.application.jobId=jobResponse._id}),_this.promises.application.resolve(_this.models.application)})),_this.promises.application.promise},set:function(val){var _this=this;$log.debug("[Gateway] Setting `Application` to %o",val),_this.promises.application=_this.promises.application||$q.defer(),(val&&_.isString(val)?Applications.ById(val):$q.when(val)).then(function(applicationResponse){return _this.models.application=applicationResponse,_this.promises.application.resolve(applicationResponse),applicationResponse})}}),Object.defineProperty(this,"releases",{enumerable:!0,get:function(){var _this=this;return _this.application.then(function(application){return application.releases})},set:function(val){var _this=this;$log.debug("[Gateway] Setting `Release` to %o",val),_this.application.then(function(application){application.releases=val})}})}return gatewayInstance=this,Gateway}();var loadApplicant=function(model){return model.promises.applicant?$q.reject("Applicant already loading"):($log.debug("[Gateway.loadApplicant] Initializing Load of Remote Applicant"),model.promises.applicant=$q.defer(),model.user.then(function(user){return $log.debug("[Gateway.loadApplicant] Got User"),Applicants.getByUser(user.id)}).then(function(applicant){$log.debug("[Gateway.loadApplicant] Resolving Applicant as %o",applicant),model.promises.applicant.resolve(applicant)})["catch"](function(err){$log.debug("[Gateway] No existing applicant: %s",err),model.promises.applicant.resolve({})}))},loadGateway=function(model){return model.promises.applicantGateway?$q.reject("Applicant Gateway already loading"):($log.debug("[Gateway.loadGateway] Initializing Load of Applicant Gateway"),model.promises.applicantGateway=$q.defer(),$q.all({co:model.company,job:model.job}).then(function(values){$log.debug("[Gateway.loadGateway] Got company & job");var gw=values.job&&values.job.gateway||values.co&&values.co.gateway||{};return gw}))};return Object.defineProperty(Gateway,"getInstance",{enumerable:!0,get:function(){return gatewayInstance}}),Gateway}GatewayService.$inject=["Authentication","Profiles","Jobs","Companies","Reports","Applicants","Applications","$state","$log","$q"],angular.module("applications").service("Gateway",GatewayService)}(),function(){function menus(Menus){Menus.addMenuItem("adminbar",{title:"Articles",state:"articles",type:"dropdown",position:1,roles:["admin"]}),Menus.addSubMenuItem("adminbar","articles",{title:"List Articles",state:"articles.list"}),Menus.addSubMenuItem("adminbar","articles",{title:"Create Articles",state:"articles.create"})}menus.$inject=["Menus"],angular.module("articles").run(menus)}(),function(){angular.module("articles").config(["$stateProvider",function($stateProvider){$stateProvider.state("articles",{"abstract":!0,url:"/articles",templateUrl:"/modules/core/views/fixed-opaque.client.view.html"}).state("articles.list",{url:"",templateUrl:"/modules/articles/views/list-articles.client.view.html"}).state("articles.create",{url:"/create",templateUrl:"/modules/articles/views/create-article.client.view.html"}).state("articles.view",{url:"/:articleId",templateUrl:"/modules/articles/views/view-article.client.view.html"}).state("articles.edit",{url:"/:articleId/edit",templateUrl:"/modules/articles/views/edit-article.client.view.html"})}])}(),function(){angular.module("articles").controller("ArticlesController",["$scope","$stateParams","$location","Authentication","Articles",function($scope,$stateParams,$location,Authentication,Articles){$scope.authentication=Authentication,$scope.create=function(){var article=new Articles({title:this.title,content:this.content});article.$save(function(response){$location.path("articles/"+response._id),$scope.title="",$scope.content=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(article){if(article){article.$remove();for(var i in $scope.articles)$scope.articles[i]===article&&$scope.articles.splice(i,1)}else $scope.article.$remove(function(){$location.path("articles")})},$scope.update=function(){var article=$scope.article;article.$update(function(){$location.path("articles/"+article._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.articles=Articles.query()},$scope.findOne=function(){$scope.article=Articles.get({articleId:$stateParams.articleId})}}])}(),function(){angular.module("articles").factory("Articles",["$resource",function($resource){return $resource("api/articles/:articleId",{articleId:"@_id"},{update:{method:"PUT"}})}])}(),function(){function menus(Menus){Menus.addMenuItem("topbar",{title:"My Reports",state:"reviewReports",userTypes:["driver"],position:30}),Menus.addMenuItem("adminbar",{title:"Jobs",state:"bgchecks",type:"dropdown",roles:["Admin"]}),Menus.addSubMenuItem("adminbar","bgchecks",{title:"My Jobs",state:"bgchecks.mine"}),Menus.addSubMenuItem("adminbar","bgchecks",{title:"All Jobs",state:"bgchecks.list"}),Menus.addSubMenuItem("adminbar","bgchecks",{title:"New Job",state:"bgchecks.create"})}menus.$inject=["Menus"],angular.module("bgchecks").run(menus)}(),function(){function ReportListController(reports,packages,$state,$stateParams,AppConfig){var vm=this;vm.skus=$stateParams.sku,vm.reports=reports,vm.packages=packages,vm.faqs=AppConfig.getFaqs({category:"bgreport"}).then(function(vals){return console.log("[FAQ] promise resolved with %d vals",vals.length),vm.faqs=vals,vals}),vm.text={lead:"Order Reports to Include with your Job Applications&hellip;",sub:"&hellip;and become 8-12x more likely to get the interview."},vm.order=function(sku){$state.go("orderReports",{sku:sku})}}function resolveApplicantForUser(Applicants,Authentication,$q){var userId=Authentication.user._id,getApplicant=Applicants.ByUser.get({userId:userId});return getApplicant.$promise["catch"](function(error){return 404===error.status?(console.log("No Existing Applicant for User"),null):(console.error("Hard error %s searching for applicant: %o",error.status,error),$q.reject(error))})}function resolveReportDetails(Reports,$stateParams){var sku=$stateParams.sku;return Reports.get(sku)}function resolveReports(Reports,$stateParams){$stateParams.sku;return Reports.Types.list().$promise}function BgCheckRoutes($stateProvider){$stateProvider.state("listBgchecks",{url:"/bgchecks",templateUrl:"/modules/bgchecks/views/list-bgchecks.client.view.html"}).state("createBgcheck",{url:"/bgchecks/create",templateUrl:"/modules/bgchecks/views/create-bgcheck.client.view.html"}).state("editBgcheck",{url:"/bgchecks/:bgcheckId/edit",templateUrl:"/modules/bgchecks/views/edit-bgcheck.client.view.html"}).state("reviewReports",{url:"/reports/:sku",templateUrl:"/modules/bgchecks/views/review-reports.client.view.html",parent:"headline-bg",controller:"ReportListController",controllerAs:"vm",bindToController:!0,resolve:{reports:resolveReports,packages:["AppConfig",function(AppConfig){return AppConfig.getReports().$promise}]}}).state("orderReports",{url:"/reports/:sku/order",templateUrl:"/modules/bgchecks/views/enter-report-data.client.view.html",parent:"fixed-opaque",controller:"ReportDetailsController",controllerAs:"vm",bindToController:!0,resolve:{report:resolveReportDetails,applicant:resolveApplicantForUser},params:{sku:{"default":null,isArray:!0}}}).state("bgreportview",{url:"/bgchecks/viewUser/:userId",templateUrl:"/modules/bgchecks/views/view-bgcheck.client.view.html",parent:"fixed-opaque",controller:"BgCheckUserController",controllerAs:"vm",bindToController:!0,resolve:{url:function(){return"modules/bgchecks/img/defaultReport.pdf"}}}).state("reportpayments",{url:"/reports/:sku/pay",templateUrl:"/modules/bgchecks/views/paymentTest.client.view.html",parent:"fixed-opaque",resolve:{report:resolveReportDetails,token:["Payments",function(payments){var mytoken=payments.getToken();return mytoken.$promise}],applicant:resolveApplicantForUser,company:function(){return null}},controller:"PaymentController",controllerAs:"vm",bindToController:!0})}ReportListController.$inject=["reports","packages","$state","$stateParams","AppConfig"],BgCheckRoutes.$inject=["$stateProvider"],resolveApplicantForUser.$inject=["Applicants","Authentication","$q"],resolveReports.$inject=["Reports","$stateParams"],resolveReportDetails.$inject=["Reports","$stateParams"],angular.module("bgchecks").config(BgCheckRoutes).controller("ReportListController",ReportListController)}(),function(){function BgCheckUserController($scope,Authentication,$http,$log,$sce,url,pdfDelegate){var vm=this;vm.url=url,vm.user=Authentication.user,$http.get(url,{responseType:"arraybuffer"}).success(function(response){pdfDelegate.$getByHandle("pdf1").load(response)})}BgCheckUserController.$inject=["$scope","Authentication","$http","$log","$sce","url","pdfDelegate"],angular.module("bgchecks").controller("BgCheckUserController",BgCheckUserController)}(),function(){var BGChecksController=function($scope,$stateParams,$location,$http,$log,Authentication,Bgchecks,Stubs){$scope.authentication=Authentication,$scope.pdfUrl="modules/bgchecks/img/defaultReport.pdf",$scope.$watch("applicant",function(newValue,oldValue){return newValue===oldValue?void $log.debug("no change in applicant - why did this get fired?"):void $scope.selectApplicant(newValue.remoteApplicantId)}),$scope.loadApplicants=function(){$http.get("/bgcheck/login").success(function(response){$http.get("/bgcheck/applicants").success(function(response){$log.debug("got applicants: %o",response.applicants),$scope.applicants=response.applicants}).error(function(response){$scope.error="Unable to retrieve applicants for query",$scope.applicants=Stubs.applcantList})}).error(function(response){$scope.error="Unable to connect to Background Check service",$scope.applicants=Stubs.applcantList})},$scope.selectApplicant=function(id){$log.debug("Applicant %d selected ... loading info",id),$http.get("/bgcheck/applicants/"+id).success(function(response){$log.debug("got applicant info: %o",response),$scope.applicantInfo=response}).error(function(errorResponse){$scope.error="Unable to load Applicant's information",$scope.applicantInfo=Stubs.applicant})},$scope.create=function(){var bgcheck=new Bgchecks({name:this.name,applicant:this.applicant});bgcheck.$save(function(response){$location.path("bgchecks/"+response._id),$scope.name=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(bgcheck){if(bgcheck){bgcheck.$remove();for(var i in $scope.bgchecks)$scope.bgchecks[i]===bgcheck&&$scope.bgchecks.splice(i,1)}else $scope.bgcheck.$remove(function(){$location.path("bgchecks")})},$scope.update=function(){var bgcheck=$scope.bgcheck;bgcheck.$update(function(){$location.path("bgchecks/"+bgcheck._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.bgchecks=Bgchecks.query()},$scope.findOne=function(){$scope.bgcheck=Bgchecks.get({bgcheckId:$stateParams.bgcheckId})}};BGChecksController.$inject=["$scope","$stateParams","$location","$http","$log","Authentication","Bgchecks","StubValues"],angular.module("bgchecks").controller("BgchecksController",BGChecksController)}(),function(){function ReportDetailsController(report,applicant,appConfig,auth,Applicants,$log,$state,$uibModal,$document,PolyField){function activate(){vm.price=vm.report.promo||vm.report.price,PolyField.completeModel(vm.report.fields,vm.applicant),PolyField.translateFields(vm.report.fields,vm.applicant)}var vm=this;vm.debugMode=appConfig.get("debug"),vm.report=report,vm.applicant=applicant||{},vm.config=appConfig,vm.verify=!1,vm.pay=!1,vm.introText="All reports are run by leading verification company, eEverifile. Outset will never store your Social Security , Driver License or Credit Card numbers.",vm.getStartedText="All required fields are <b>Marked in Bold</b>",vm.correctErrorsText='Please review any answers that are <span class="cta-outline">marked in red</span> below.',vm.reviewText="Please review your information and click continue at the bottom of the page when ready.",vm.createText="Please review your information and click continue when ready. Please note, that this may take a moment to complete.",vm.payExplanation="Please click continue to enter your payment information",vm.states=null,vm.countries=null,vm.saveForm=function(event){return vm.disabled=!0,$document.scrollTopAnimated(0,300),vm.reportForm.$invalid?(vm.error="Please correct all errors above",vm.disabled=!1,!1):(vm.error=vm.success=null,vm.disabled=vm.creating=!1,void(vm.verify=!0))},vm.submitApplicant=function(event){vm.disabled=vm.creating=!0,vm.error=vm.success=null,vm.showSpinner();var applicantRsrc=new Applicants.FromForm(vm.applicant,auth.user._id);$log.debug("Creating new applicant Rsrc with data: %o",applicantRsrc),applicantRsrc.$save(function(response){response.updated?$log.debug("Successfully updated existing applicant: %j",response):$log.debug("SUCCESS! Created new Applicant: %o",response),vm.success="Applicant data has been verified on the server!",vm.error=null,$state.go("reportpayments",{sku:vm.report.sku}),vm.spinnerModal.dismiss("done")},function(err){return err&&$log.error("failed to create applicant: %o",err),vm.spinnerModal.dismiss("done"),vm.error="Sorry, but something went wrong trying to create your report applicant. Please try again later",vm.disabled=!1,vm.error=err.message||err.data&&err.data.message,!1})},vm.goBack=function(){vm.verify=vm.creating=vm.ispay=!1,vm.success=vm.error=null},vm.showSpinner=function(){vm.spinnerModal=$uibModal.open({templateUrl:"spinnerModal.html",backdrop:"static",controller:["$timeout",function($timeout){var vm=this;vm.textStatuses=[{text:"Connecting to eVerifile",timeout:1750},{text:"Validating Security",timeout:1250},{text:"Confirming Identity",timeout:2e3},{text:"Storing Information",timeout:1e4},{text:"Finalizing Report Data",timeout:1e3}],vm.uploadStatusText=vm.textStatuses[0].text,vm.updateStatus=function(i){$timeout(function(){i++,i<vm.textStatuses.length&&(vm.uploadStatusText=vm.textStatuses[i].text,vm.updateStatus(i))},vm.textStatuses[i].timeout)},vm.updateStatus(0)}],controllerAs:"vm",bindToController:!0})},activate()}angular.module("bgchecks").controller("ReportDetailsController",ReportDetailsController),ReportDetailsController.$inject=["report","applicant","AppConfig","Authentication","Applicants","$log","$state","$uibModal","$document","PolyFieldService"]}(),function(){function ReportsSummaryController(Reports,Applicants,$log,$state){var vm=this;Reports.Types.list({returnAll:!0}).$promise.then(function(fulfilled){vm.reportTypes=fulfilled},function(error){vm.error=error.message});var uid=vm.userId||vm.user&&vm.user._id;uid&&Applicants.ByUser.get({userId:uid}).$promise.then(function(applicant){$log.debug("got applicant repsonse! %o",applicant),vm.applicant=applicant,vm.reports=applicant&&applicant.reports,vm.calculateButtons()},function(err){$log.debug("No Applicant found for user",err)}),vm.calculateButtons=function(){vm.reports&&vm.reports.length&&(vm.complete=_.filter(vm.reports,{status:"COMPLETED"}),vm.pending=_.filter(vm.reports,{status:null}),vm.inprocess=_.reject(_.reject(vm.reports,vm.pending),vm.complete)),vm.reportSellHeader="Choose from one of the following packages!",!vm.reports&&vm.applicant?vm.reportSellHeader="Continue your application process today!":vm.complete?vm.reportSellHeader="Add additional packages to your profile!":vm.reportSellHeader="Report Status:"},vm.viewReports=function(){$state.go("reviewReports")}}function BgCheckSummaryDirective(){var ddo={templateUrl:"/modules/bgchecks/views/bgcheck-summary.client.template.html",restrict:"E",scope:{user:"=?",userId:"@?"},controller:"ReportsSummaryController",controllerAs:"vm",bindToController:!0};return ddo}ReportsSummaryController.$inject=["Reports","Applicants","$log","$state"],angular.module("bgchecks").controller("ReportsSummaryController",ReportsSummaryController).directive("osBgCheckSummary",BgCheckSummaryDirective)}(),function(){var QuestionnaireController=function(Reports,Applicants,Authentication,Gateway,$log,$q,$state,$stateParams){var vm=this;vm.readOnly=JSON.parse($stateParams.readonly),vm.methods.validate=function(){return vm.form.$setSubmitted(),vm.form.$invalid?(_.map(_.keys(vm.form.$error),function(errorType){$log.warn("[SignupApply.validateForm] Form %d has error type: %s",vm.currentStep,errorType),_.map(vm.form.$error[errorType],function(item){$log.error("[SignupApply.validateForm] %s has error: %o",item.$name,item),item&&item.$setDirty(!0)})}),$q.reject("Please correct the errors above")):$q.when("Questionnaire Form is valid")},vm.methods.init=function(){vm.gateway.profile.then(function(user){vm.user=user}),vm.gateway.report.then(function(reportResponse){vm.report=reportResponse}),vm.gateway.applicant.then(function(applicantResponse){vm.applicant=applicantResponse,vm.readOnly&&_.isEmpty(vm.applicant)&&$state.go($state.current.name,{readonly:!1})}),vm.reportLoad=$q.defer(),vm.loading=vm.reportLoad.promise,$q.all({report:vm.gateway.report,applicant:vm.gateway.applicant}).then(function(result){vm.reportLoad.resolve({report:result.report,applicant:result.applicant})})},vm.methods.submit=function(){if(!vm.readOnly)return $log.debug("Submit only done from validation page"),!0;vm.disabled=vm.creating=!0,vm.error=vm.success=null;var applicantRsrc=new Applicants.FromForm(vm.applicant,vm.user._id);return $log.debug("Creating new applicant Rsrc with data: %o",applicantRsrc),applicantRsrc.$save().then(function(response){return response.updated?$log.debug("Successfully updated existing applicant: %j",response):$log.debug("SUCCESS! Created new Applicant: %o",response),vm.gateway.models.applicant=response,vm.success="Applicant data has been verified on the server!",vm.error=null,response})["catch"](function(err){return err&&$log.error("failed to create applicant: %o",err),vm.error="Sorry, but something went wrong trying to create your report applicant. Please try again later",vm.disabled=!1,vm.error=err.message||err.data&&err.data.message,$q.reject(vm.error)})},vm.methods.init()};QuestionnaireController.$inject=["Reports","Applicants","Authentication","Gateway","$log","$q","$state","$stateParams"];var CustomQuestionnaireDirective=function(){var ddo={restrict:"E",templateUrl:"/modules/bgchecks/views/templates/custom-questionnaire.client.template.html",require:["^form"],link:function(scope,element,attrs,ctrls){scope.vm.form=ctrls[0]},scope:{gateway:"=?",model:"=?",report:"=?",methods:"=?"},controller:"QuestionnaireController",controllerAs:"vm",bindToController:!0};return ddo};angular.module("bgchecks").controller("QuestionnaireController",QuestionnaireController).directive("osetCustomQuestionForm",CustomQuestionnaireDirective)}(),function(){function DocumentListController(Reports,toastr){var vm=this;vm.showDocument=function(doc,$event){$event.stopPropagation();var file=vm.profile.reports[doc];
Reports.openReport(vm.application,vm.profile,file)["catch"](function(error){vm.error=error,toastr.error(error,{extendedTimeOut:5e3})})}}function DocumentListDirective(){var ddo={templateUrl:function(elem,attrs){switch(attrs.displayMode){case"full":return"/modules/bgchecks/views/templates/document-list-dd.client.template.html";case"inline":return"/modules/bgchecks/views/templates/document-list-inline.client.template.html";default:return"/modules/bgchecks/views/templates/document-list-dd.client.template.html"}},restrict:"E",scope:{profile:"=model",application:"=",docAccess:"=?",displayMode:"="},controller:"DocumentListController",controllerAs:"vm",bindToController:!0};return ddo}DocumentListController.$inject=["Reports","toastr"],angular.module("bgchecks").controller("DocumentListController",DocumentListController).directive("osetDocumentList",DocumentListDirective)}(),function(){function FormEntryController(PolyField,$q){var vm=this;vm.debug=!1,vm.fields=[],vm.initialize=function(report,model){report=report&&report||vm.report||{},model=model||vm.model||{};var fields=report.fields;PolyField.completeModel(fields,model),PolyField.translateFields(fields,model),vm.model=model,vm.fields=fields},vm.loading?vm.loading.then(function(values){vm.initialize(values.report,values.applicant)}):vm.initialize()}FormEntryController.$inject=["PolyFieldService","$q"];var FormEntryDirective=function(){var ddo={restrict:"E",require:["^form"],templateUrl:function(elem,attrs){switch(attrs.mode){default:return"/modules/bgchecks/views/templates/form-entry.client.template.html"}},scope:{model:"=",report:"=",loading:"=",readOnly:"="},controller:"FormEntryController",controllerAs:"vm",bindToController:!0,link:function(scope,element,attrs,ctrls){scope.vm.form=ctrls[0]}};return ddo};angular.module("bgchecks").controller("FormEntryController",FormEntryController).directive("osetFormEntry",FormEntryDirective)}(),function(){var FormInputDirective=function(){var ddo={restrict:"E",require:["^form"],templateUrl:function(elem,attrs){switch(attrs.mode){case"static":return"/modules/bgchecks/views/templates/form-static.client.template.html";case"input":return"/modules/bgchecks/views/templates/form-input.client.template.html";default:return"/modules/bgchecks/views/templates/form-input.client.template.html"}},scope:{field:"=",model:"="},controller:function(){},controllerAs:"vm",bindToController:!0,link:function(scope,element,attrs,ctrls){scope.vm.form=ctrls[0]}};return ddo};angular.module("bgchecks").directive("formInput",FormInputDirective)}(),function(){function PolyInputDirective($compile,PolyField){var linkFn=function(scope,element,attributes){var field=PolyField.translateWithThis(scope.storage,scope.polyData),template=document.createElement("input");field.ngType?(template.type=field.ngType,field.ngMaxLength&&template.setAttribute("ng-maxlength",field.ngMaxLength)):field.isDate&&(template=document.createElement("date-input"),template.setAttribute("format","field.format")),template.name=field.name;for(var attr in attributes.$attr)"ng-model"===attributes.$attr[attr]?template.setAttribute("ng-model",attributes[attr]+"["+attributes.key+"]"):template.setAttribute(attributes.$attr[attr],attributes[attr]);template=angular.element(template),element.replaceWith(template);var linkTemplate=$compile(template);linkTemplate(scope)},ddo={restrict:"E",scope:{meta:"=",storage:"=ngModel",key:"=",polyData:"="},link:linkFn};return ddo}PolyInputDirective.$inject=["$compile","PolyFieldService"],angular.module("bgchecks").directive("polyInput",PolyInputDirective)}(),function(){var stubs={applicantList:[{lastName:"Smith",applicantId:1e6,governmentId:"201211141",birthDate:2604276e5,firstName:"Bob"},{lastName:"Smith",applicantId:13,governmentId:null,birthDate:1360902394e3,firstName:"Albert"}],applicant:{firstName:"Bob",middleName:"Norman",lastName:"Smith",nameSuffix:"MD",applicantId:1e6,aliases:[{middleName:null,lastName:"McDonald",firstName:"Ronald"}],currentAddress:{street2:"Suite 200",street1:"101 Oak Street",postalCode:"30302",state:"georgia",province:null,country:"united_states",city:"Atlanta"},governmentId:"201211141",gender:"Male",birthDate:2604276e5}};angular.module("bgchecks").constant("StubValues",stubs)}(),function(){var bgCheckFactory=function($resource){return $resource("api/bgchecks/:bgcheckId",{bgcheckId:"@_id"},{update:{method:"PUT"}})},reportFactory=function($resource,$q,$state,$log,DocAccess){var _this=this;return _this.data={Types:$resource("api/reports/types",{},{list:{method:"GET",isArray:!0}}),get:function(sku){var retVal=$resource("api/reports/types/:sku",{sku:"@sku"});return retVal.get({sku:sku}).$promise},openReport:function(application,driver,file){return DocAccess.getDriver(driver._id,application).then(function(driverResponse){return driverResponse?($state.go("drivers.documents",{driverId:driver._id,documentId:file.sku||"resume"}),$q.when("Routing to the document")):$q.reject("Unable to route to Driver's Documents")})["catch"](function(error){return $log.warn("[ReportFactory.openReport] %s",error),$q.reject(error)})}},_this.data},applicantFactory=function($resource){var _this=this;return _this.data={ByUser:$resource("api/users/:userId/driver/applicant",{userId:"@userId",reportSource:"@reportSource"},{get:{method:"GET",isArray:!1}}),FromForm:function(data,userId){var Applicant=$resource("api/users/:userId/driver/applicant",{userId:"@userId",reportSource:"@reportSource"},{get:{method:"GET",isArray:!1}});return new Applicant({userId:userId,reportSource:data})},ListAll:function(query){var retVal=$resource("api/reports/applicants");return retVal.query().$promise},getByUser:function(userId){var rsrc=$resource("api/users/:userId/driver/applicant",{userId:"@userId"});return rsrc.get({userId:userId}).$promise},get:function(query){var retVal=$resource("api/reports/applicants/:applicantId",{applicantId:"@applicantId"});return retVal.get(query)}},_this.data};applicantFactory.$inject=["$resource"],bgCheckFactory.$inject=["$resource"],reportFactory.$inject=["$resource","$q","$state","$log","DocAccess"],angular.module("bgchecks").factory("Reports",reportFactory).factory("Bgchecks",bgCheckFactory).factory("Applicants",applicantFactory)}(),function(){var fieldTranslations=function(AppConfig){var _data=this;_data.methods={translateWithThis:function(thisArg,field){return _data.methods.translateFields.call(thisArg,field)},translateFields:function(fields,model){_.map(fields,mapTranslateFields,{model:model})},completeModel:function(fields,model){_.map(fields,mapSourceToModel,{model:model})}};var mapTranslateFields=function(field,index){var model=this.model;switch(field.type){case"string":if(field.pickList){field.isPickList=!0;break}field.ngType="text",field.ngMaxLength=field.length;break;case"text":field.isTextArea=!0;break;case"radio":field.isRadio=!0;break;case"checkbox":field.isCheckbox=!0;break;case"datelong":var format="YYYYMMDD";if(model){var d=model[field.name];if(d&&d.length>8)if(d.length<=10&&/[-\/]/.test(d))format=d.replace(/\d{4}/,"YYYY").replace(/\d{2}/,"MM").replace(/\d{2}/,"DD");else{var m;(m=moment(d)).toArray().splice(3).reduce(function(p,n){return p+n})?(console.error('Unsure How to Handle "date" string: %s',d),model[field.name]=moment.utc(d).subtract(5,"hours")):(console.error("Treating %s as date-only with default format",d),model[field.name]=m.format(format))}else d||(model[field.name]="")}field.isDate=!0,field.format=format;break;case"state":field.isState=!0,field.options=AppConfig.getStates();break;case"country":field.isCountry=!0;break;case"object":field.dataFields&&model&&_data.methods.translateFields(field.dataFields,{model:model[field.name]}),field.isObject=!0;break;case"array":field.dataFields&&model&&_data.methods.translateFields(field.dataFields,{model:model[field.name]}),field.isArray=!0,field.values=field.values||[]}var sensitive=/^governmentId|SSN$/i;return(sensitive.test(field.name)||sensitive.test(field.description))&&(field.ngType=null,field.ngSensitive=!0),field},mapSourceToModel=function(field){var vm=this;if(!vm.model.hasOwnProperty(field.name))switch(field.type){case"array":vm.model[field.name]=[];break;case"object":vm.model[field.name]={};break;default:vm.model[field.name]=""}};return _data.methods};fieldTranslations.$inject=["AppConfig"],angular.module("bgchecks").factory("PolyFieldService",fieldTranslations)}(),function(){angular.module("chat").run(["Menus",function(Menus){Menus.addMenuItem("adminbar",{title:"Chat",state:"chat",roles:["Admin"]}),Menus.addMenuItem("topbar",{title:"Chat",state:"chat",roles:["Admin"]})}])}(),function(){angular.module("chat").config(["$stateProvider",function($stateProvider){$stateProvider.state("chat",{url:"/chat",templateUrl:"/modules/chat/views/chat.client.view.html"})}])}(),function(){angular.module("chat").controller("ChatController",["$scope","Socket",function($scope,Socket){$scope.messages=[],Socket.on("chatMessage",function(message){console.log("Incoming message: %o",message),$scope.messages.unshift(message)}),$scope.sendMessage=function(){var message={text:this.messageText};Socket.emit("chatMessage",message),this.messageText=""},$scope.$on("$destroy",function(){Socket.removeListener("chatMessage")})}])}(),function(){function ChatDirective(){var ddo={restrict:"E",templateUrl:"modules/chat/views/chat-console.client.template.html",controller:"ChatClientController",controllerAs:"vm",bindToController:!0,scope:{connection:"=",messages:"=",room:"="}};return ddo}function ChatClientController($scope,$log,Authentication,Socket){var vm=this;vm.auth=Authentication,vm.user=vm.auth.user,vm.username=vm.user&&vm.user.username,vm.messageModes=["text","multiline","html"],vm.messageMode="html",vm.activeConnection=!1,vm.status={me:null,them:null},vm.getStatusLabel=function(status){switch(status){case!0:return"label-success";case!1:return"label-warning";default:return"label-default"}},vm.getSenderClass=function(username){return username===vm.username?"me":"other"};var activate=function(){vm.user&&vm.connection&&vm.connection.isValid?(vm.activeConnection=!0,$log.debug("creating socket for connection"),vm.initSocket()):$log.debug("No connection, or invalid connection - not creating socket.")};vm.postMessage=function(){if(vm.error=null,!vm.message||!vm.room)return!1;if(vm.sending=!0,!Socket)return vm.messages.push({scope:"applications",text:vm.message,status:"pending",room:vm.room}),vm.error="Unable to send message. Please ensure you are connected to the internet",vm.sending=!1;var message={scope:"applications",text:vm.message,room:vm.room};$log.debug("[AppCtrl.PostMessage] Emitting Message"),Socket.emit("chatMessage",message),vm.message="",vm.sending=!1},vm.initSocket=function(){Socket?($log.debug("[AppCtrl] socket exists. Adding `connect` handler"),$log.info("[AppCtrl] Connecting to chat room: %s",vm.room),Socket.emit("join-room",vm.room),$log.debug("[AppCtrl] socket exists. Adding `chatMessage` handler"),Socket.on("chatMessage",function(message){$log.debug("[AppCtrl] Incoming message: %o",message),"status"===message.type?message.sender.id===vm.user.id?($log.debug("I connected"),vm.status.me=!0):"is now connected"===message.text.toLowerCase()?vm.status.them=!0:"disconnected"===message.text.toLowerCase()?vm.status.them=!1:Raygun.send(new Error("Unknown message received"+message)):(vm.messages.push(message),message.username===vm.username?vm.status.me=!0:vm.status.them=!0)}),$log.debug("[AppCtrl] socket exists. Adding `$destroy` handler"),$scope.$on("$destroy",function(){$log.info("[AppCtrl] Disconnecting from chat room: %s",vm.room),Socket.emit("leave-room",vm.room),Socket.removeListener("chatMessage")})):$log.warn("Socket is undefined in this context")},activate()}ChatClientController.$inject=["$scope","$log","Authentication","Socket"],angular.module("chat").controller("ChatClientController",ChatClientController).directive("osetChatConsole",ChatDirective)}(),function(){function menus(Menus,Auth){Menus.addMenuItem("topbar",{title:'<i class="fa fa-home fa-lg"/>',state:"companies.home",userTypes:["owner"],position:1}),Menus.addMenuItem("adminbar",{title:"Companies",state:"companies",type:"dropdown",roles:["admin"]}),Menus.addSubMenuItem("adminbar","companies",{title:"List Companies",state:"companies.list"}),Menus.addSubMenuItem("adminbar","companies",{title:"New Company",state:"companies.create"})}menus.$inject=["Menus","Authentication"],angular.module("companies").run(menus)}(),function(){function moduleConfigResolve(AppConfig,auth){return AppConfig.getModuleConfig(auth.user.type,"company")}function companyResolve(user,Companies,params,auth){if(params.companyId)return Companies.get(params.companyId);var userId;if(params.userId)console.log("Searching for company data for user %s",params.userId),userId=params.userId;else{if(!auth.user)return null;console.log("Searching for company data for logged in user"),userId=auth.user._id}return Companies.getByUser(userId)["catch"](function(error){if(404===error.status)return console.log("Unable to find company"),{};throw error})}function resolveSubscription(Payments,params,auth){var companyId=params.companyId||auth.user&&auth.user.company&&(auth.user.company._id||auth.user.company);return Payments.Subscription.get({companyId:companyId}).$promise}function resolveSubscriptions(config){return config.getAsync("subscriptions")}function resolveSubscriptionDetails(config,$stateParams,$log){var planId=$stateParams.planId;return config.getAsync("subscriptions").then(function(success){var details=_.find(success.packages,{planId:planId});if(!details)throw new Error("Subscription Information not found");return details},function(error){$log.error("Error retreiving available subscription types",error)})}function config($stateProvider){$stateProvider.state("companies",{"abstract":!0,url:"/companies",template:'<div ui-view class="content-section"></div>',parent:"fixed-opaque"}).state("companies.list",{url:"/list",templateUrl:"/modules/companies/views/list-companies.client.view.html",parent:"companies",controller:["companies",function(companies){var vm=this;vm.companies=companies}],controllerAs:"vm",resolve:{companies:["Companies",function(rsrc){return rsrc.ById.query().$promise}],config:moduleConfigResolve}}).state("companies.home",{url:"/home",templateUrl:"/modules/companies/views/view-company.client.view.html",parent:"companies",controller:"CompaniesController",controllerAs:"vm",resolve:{company:companyResolve,config:moduleConfigResolve}}).state("companies.view",{url:"/{companyId:[0-9a-fA-F]{24}}",templateUrl:"/modules/companies/views/view-company.client.view.html",parent:"companies",controller:"CompaniesController",controllerAs:"vm",resolve:{company:companyResolve,config:moduleConfigResolve}}).state("companies.create",{url:"/create",templateUrl:"/modules/companies/views/edit-company.client.view.html",parent:"companies",controller:"CompanyEditController",controllerAs:"vm",resolve:{company:function(){return null},config:moduleConfigResolve}}).state("companies.edit",{url:"/{companyId:[0-9a-fA-F]{24}}/edit",templateUrl:"/modules/companies/views/edit-company.client.view.html",parent:"companies",controller:"CompanyEditController",controllerAs:"vm",resolve:{company:companyResolve,config:moduleConfigResolve}}).state("subscriptionsReview",{url:"/subscriptions",templateUrl:"/modules/companies/views/review-subscriptions.client.view.html",parent:"headline-bg",controller:"SubscriptionListController",controllerAs:"vm",bindToController:!0,resolve:{subscriptions:resolveSubscriptions,subscription:resolveSubscription}}).state("subscriptionPayment",{url:"/subscriptions/:planId/pay?:promo",templateUrl:"/modules/bgchecks/views/paymentTest.client.view.html",parent:"fixed-opaque",resolve:{report:resolveSubscriptionDetails,token:["Payments",function(payments){return payments.getToken().$promise}],company:companyResolve,applicant:function(){return null}},controller:"PaymentController",controllerAs:"vm",bindToController:!0})}angular.module("companies").config(config),moduleConfigResolve.$inject=["AppConfig","Authentication"],companyResolve.$inject=["user","Companies","$stateParams","Authentication"],resolveSubscription.$inject=["Payments","$stateParams","Authentication"],resolveSubscriptions.$inject=["AppConfig"],resolveSubscriptionDetails.$inject=["AppConfig","$stateParams","$log"],config.$inject=["$stateProvider"]}(),function(){function CompaniesController($state,auth,company,moduleConfig,Jobs){function activate(){auth.isLoggedIn()&&vm.company.owner.id===vm.user.id?(vm.canEdit=!0,vm.titleText="Company Profile",vm.subtitle="Hi "+vm.user.firstName+", Welcome to Outset!"):auth.isAdmin()?(vm.canEdit=!0,vm.titleText="Company Profile",vm.subtitle="ADMINISTRATOR MODE"):vm.company&&(vm.canEdit=!1,vm.titleText=vm.company.name,vm.subtitle="Welcome to the home of "+vm.company.name+" on Outset!",Jobs.ById.query({company:vm.company.id}).$promise.then(function(success){vm.jobs=success})["catch"](function(err){console.log("job list failed",err)})),vm.imageURL=vm.company.profileImageURL||vm.imageURL}var vm=this;vm.user=auth.user,vm.company=company,vm.owner=company&&company.owner,vm.config=moduleConfig||{},vm.canEdit=!1,vm.titleText="Company Profile",vm.imageURL="modules/companies/img/profile/default.png",console.log("[CompaniesCtrl] Init w/ Company: %o",vm.company),vm.successFunction=function(fileItem,response,status,headers){vm.company=response,vm.imageURL=vm.company.profileImageURL||vm.imageURL,vm.showPhotoEdit=!1,vm.hideModal()},vm.showPhotoEdit=!1,vm.showModal=function(){vm.showPhotoEdit=!0},vm.hideModal=function(){vm.showPhotoEdit=!1},activate()}angular.module("companies").controller("CompaniesController",CompaniesController),CompaniesController.$inject=["$state","Authentication","company","config","Jobs"]}(),function(){function CompanyEditController($state,$log,auth,Companies,company){function activate(){$state.is("companies.create")&&(!vm.company||_.isEmpty(vm.company))&&($log.debug("no existing company object, creating a blank stub"),vm.company={ownerId:auth.user._id}),!vm.company||_.isEmpty(vm.company)?$log.error("[CompanyEditController] No company available in state %s",$state.current.name):$state.is("companies.create")?(vm.submitText="Create",vm.pageTitle="Create your new company profile",vm.editName=!0,vm.editing=!0):$state.is("companies.edit")?(vm.submitText="Update",vm.pageTitle=vm.company.name,vm.hasTitle=!0):$state.is("companies.remove")&&(vm.submit=remove,vm.submitText="Remove",vm.submitClass="btn-danger")}function submit(){return vm.company._id?update():create()}function create(){var company=new Companies.ById(vm.company);company.$save(function(response){$state.go("companies.home",{companyId:response._id}),vm.company=null},function(errorResponse){$log.error("Unable to Create Company",errorResponse),vm.error=errorResponse.data.message||errorResponse.data.error.message})}function remove(){vm.company.$remove(function(){$state.go("home")})}function update(){var company=vm.company;company.$update(function(){$state.go("companies.home",{companyId:company._id})},function(errorResponse){$log.error("Unable to Update Company",errorResponse),vm.error=errorResponse.data.message})}function cancel(){$state.go("home")}if(!auth.user)return $state.go("intro");if(company&&"string"==typeof auth.user.company&&auth.user.company!==company._id)return $state.go("home");if(company&&auth.user.company&&"object"==typeof auth.user.company&&auth.user.company._id===company._id)return $state.go("home");var vm=this;vm.company=company,vm.user=auth.user,vm.submit=submit,vm.cancel=cancel,vm.submitClass="",vm.editName=!1,vm.editGW=!1,activate()}CompanyEditController.$inject=["$state","$log","Authentication","Companies","company"],angular.module("companies").controller("CompanyEditController",CompanyEditController)}(),function(){function SubscriptionListController(auth,subscriptions,subscription,$state,$stateParams,AppConfig){var vm=this;if(vm.skus=$stateParams.sku,vm.subscriptions=subscriptions,vm.user=auth.user,vm.companyId=auth.user.company&&(auth.user.company._id||auth.user.company),vm.text={lead:"Get started with a basic package ...",sub:"&hellip;or take a look at our fully featured packages to take care of your entire hiring process"},vm.subscription=subscription,vm.packages=vm.subscriptions.packages,vm.subscription&&vm.subscription.isValid){vm.text.lead="Current Subscription Level",vm.subscription.isValid?vm.text.sub="Would you like to upgrade your subscription?":vm.text.sub="Renew your current subscription or change plans below",vm.subscription=_.extend(vm.subscription,_.find(vm.packages,{planId:vm.subscription.planId}));var features=vm.subscription.features;vm.features=_.keys(features)}AppConfig.getFaqs({category:["employer","subscriptions"]}).then(function(vals){return console.log("[FAQ] promise resolved with %d vals",vals.length),vm.faqs=vals,vals}),AppConfig.getAsync("employer").then(function(subs){console.log("got subscription information: %o",subs)},function(errs){console.log("err :( %o",errs)})}SubscriptionListController.$inject=["Authentication","subscriptions","subscription","$state","$stateParams","AppConfig"],angular.module("companies").controller("SubscriptionListController",SubscriptionListController)}(),function(){function CompanyDirectiveController(Authentication,$state){var vm=this;vm.user=Authentication.user,vm.canEdit?vm.createText="Before posting any jobs, you will need to create your company profile. Click the button below to continue.":vm.createText='Sorry, but we have not finished our company profile page yet. Please check back again later.<br class="mgn-btm">Thanks, '+vm.company.name,vm.creEdit=function(){vm.company&&vm.company._id?$state.go("companies.edit",{companyId:vm.company._id}):$state.go("companies.create")}}function CompanyDirective(){var ddo;return ddo={templateUrl:"/modules/companies/views/templates/view-company.client.template.html",scope:{company:"=",inline:"=",config:"=?",canEdit:"=?"},restrict:"E",replace:!0,controller:"CompanyDirectiveController",controllerAs:"vm",bindToController:!0}}CompanyDirectiveController.$inject=["Authentication","$state"],angular.module("companies").controller("CompanyDirectiveController",CompanyDirectiveController).directive("osCompany",CompanyDirective)}(),function(){function SubscriptionInfoDirective(){var ddo={restrict:"E",templateUrl:"/modules/companies/views/templates/subscriptions.client.template.html",scope:{text:"=?",user:"=?",companyId:"=?",subscription:"=?"},controller:"SubscriptionInfoController",controllerAs:"vm",bindToController:!0};return ddo}function SubscriptionInfoController(AppConfig,$state,$log){var vm=this;AppConfig.getAsync("subscriptions").then(function(success){vm.packages=success.packages,vm.features=success.features},function(error){$log.error("Failed to get packages from server, using local",error),vm.packages=defaults.packages,vm.features=defaults.features}),vm.text=_.defaults(vm.text||{},defaults),vm.subscription&&vm.subscription.isValid&&(vm.text.sub="Would you like to upgrade your subscription?"),vm.orderSubscription=function(planId){planId?$state.go("subscriptionPayment",{planId:planId,promo:vm.promoCode}):vm.error="Please select a valid subscription option"}}var defaults={sub:"Choose from one of the following packages:",features:["Job Posts","Applicant Redirect","Applicant Tracking","Downloadable Reports","Require Reports","Multiple Log-ins","Customized Background Checks"]};SubscriptionInfoController.$inject=["AppConfig","$state","$log"],SubscriptionInfoDirective.$inject=[],angular.module("companies").controller("SubscriptionInfoController",SubscriptionInfoController).directive("osetSubscriptionInfo",SubscriptionInfoDirective)}(),function(){function Companies($resource){var rsrc=$resource("api/companies/:id",{id:"@_id"},{update:{method:"PUT"}}),rsrcUser=$resource("api/users/:userId/companies",{userId:"@_userId"});return{ById:rsrc,ByUser:rsrcUser,get:function(company){var companyId=!!company&&company.id||company;return rsrc.get({id:companyId}).$promise},getByUser:function(user){var userId=user&&user.id||user;return rsrcUser.get({userId:userId}).$promise}}}Companies.$inject=["$resource"],angular.module("companies").factory("Companies",Companies)}(),function(){function registerRootScopeEventListeners($rootScope,$state,Auth,$log,$document,$location,$window){var redirectString,isRedirectInProgress=!1;$rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){if(isRedirectInProgress&&!event.defaultPrevented)return void $log.warn('[CoreConfig] stateChangeStart already in progress [%s]. Stopping redirect to "%s"',redirectString,toState.name);if($log.info('[CoreConfig] Leaving state: %s "%s" %o Entering state: %s "%s" %o',fromState.name,fromState.url,fromState,toState.name,toState.url,toState,event),redirectString=fromState.name+" --> "+toState.name,toState.authenticate&&!Auth.isLoggedIn())return isRedirectInProgress=!0,$log.error("State '%s' requires authentication but no user is signed in",toState.name),event.preventDefault(),void $state.go("intro");if(Auth.user&&/^(intro|home)$/gi.test(toState.name))switch(Auth.user.type){case"driver":return isRedirectInProgress=!0,$log.info("[CoreConfig] Re-Routing to driver's profile page"),event.preventDefault(),void $state.go("users.view");case"owner":return isRedirectInProgress=!0,$log.info("[CoreConfig] Re-Routing to the user's company home"),event.preventDefault(),void $state.go("companies.home");default:if($log.warn("[CoreConfig] Unknown User Type"),Auth.isAdmin())return $log.warn("[CoreConfig] Admin User - routing to user list"),void $state.go("users.list")}}),$rootScope.$on("$stateChangeSuccess",function(event,toState,toParams,fromState,fromParams){fromState&&fromState.name?$state.gotoPrevious=function(){$state.go(fromState,fromParams)}:$state.gotoPrevious=null}),$rootScope.$on("$stateChangeSuccess",function(event,toState,toParams,fromState,fromParams){isRedirectInProgress=!1,$log.info('[CoreConfig] $stateChangeSuccess completed: From state: %s "%s" %o To state: %s "%s" %o',fromState.name,fromState.url,fromState,toState.name,toState.url,toState,event)}),$rootScope.$on("$stateChangeError",function(event,toState,toParams,fromState,fromParams,error){return $log.error("State Change error from %s to %s",fromState.name,toState.name,error),$log.warn("Error Status: %d in transition",error.status||error),403===error.status?(event.preventDefault(),$log.warn("User does not have access to %s",toState.name),void $state.go("authentication")):void(fromState&&fromState.name?(event.preventDefault(),$log.warn("Rerouting back to source state"),$state.go(fromState.name,{error:error})):(event.preventDefault(),$log.warn("Unknown next step")))}),$rootScope.$on("$stateChangeSuccess",function(){$location.hash()||$document.scrollTo(-50,0)}),$rootScope.$on("$stateChangeSuccess",function(event){$window.ga&&$window.ga("send","pageview",{page:$location.path()})})}registerRootScopeEventListeners.$inject=["$rootScope","$state","Authentication","$log","$document","$location","$window"],angular.module("core").run(registerRootScopeEventListeners)}(),function(){function handleBadRoute($injector,$location){console.log("Unknown URL pattern: %s",$location.url()),$location.path("/home")}function resolveUser(Authentication,LoginService){return LoginService.getUser().then(function(user){return Authentication.user||(Authentication.user=user),user},function(reason){return console.error("Unable to load user - not logged in?",reason),null})}function config($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise(handleBadRoute),$stateProvider.state("fixed-opaque",{"abstract":!0,templateUrl:"/modules/core/views/fixed-opaque.client.view.html",resolve:{user:resolveUser}}).state("headline-bg",{"abstract":!0,templateUrl:"/modules/core/views/headline-bg.client.view.html",resolve:{user:resolveUser}}).state("intro",{url:"/","abstract":!0,template:"<div ui-view></div>"}).state("intro.driver",{url:"",templateUrl:"/modules/core/views/intro.client.view.html",parent:"intro",controller:"HomeController",controllerAs:"vm"}).state("intro.owner",{url:"o",templateUrl:"/modules/core/views/intro.client.view.html",parent:"intro",controller:"HomeController",controllerAs:"vm"}).state("home",{url:"/home",controller:["$state","LoginService","Authentication",function($state,LoginService,Authentication){LoginService.getUser().then(function(user){Authentication.user||(Authentication.user=user),console.log("Success in looking up user, redirecting",user),user.isDriver?$state.go("feed.list",{userId:user.id}):user.isOwner?$state.go("companies.home"):$state.go("intro")},function(err){console.log("No user lookup, redirecting",err),$state.go("intro.owner")})}]}).state("privacy",{url:"/privacy",templateUrl:"/modules/core/views/templates/privacy.template.html",parent:"fixed-opaque"})}handleBadRoute.$inject=["$injector","$location"],resolveUser.$inject=["Authentication","LoginService"],config.$inject=["$stateProvider","$urlRouterProvider"],angular.module("core").config(config)}(),function(){angular.module("core").constant("_",_).constant("moment",moment)}(),function(){function FooterController($scope,auth,AppConfig){var vm=this;vm.auth=auth,vm.isCollapsed=!1,vm.year=(new Date).getFullYear(),vm.options={},AppConfig.getOptions().then(function(options){vm.options=options}),vm.toggleCollapsibleMenu=function(){vm.isCollapsed=!vm.isCollapsed},$scope.$on("$stateChangeSuccess",function(){vm.isCollapsed=!1})}FooterController.$inject=["$scope","Authentication","AppConfig"],angular.module("core").controller("FooterController",FooterController)}(),function(){function HeaderController($scope,$state,$document,Authentication,Menus,AppConfig,LoginService){function loadMenus(){Authentication.isAdmin()&&"adminbar"!==vm.cmenu?(vm.cmenu="adminbar",vm.menu.length=0,_.extend(vm.menu,Menus.getMenu("adminbar"))):"topbar"!==vm.cmenu&&(vm.cmenu="topbar",vm.menu.length=0,_.extend(vm.menu,Menus.getMenu("topbar")))}var vm=this;vm.state=$state,vm.auth=Authentication,vm.navbarClass="",vm.menu=Menus.getMenu("topbar"),vm.cmenu="topbar",vm.options={},AppConfig.getOptions().then(function(options){vm.options=options,vm.logoURL=options.isTL?"tl-brand-white.png":"logo.png"}),vm.stateLink="",vm.isCollapsed=!1,vm.toggleCollapsibleMenu=function(){vm.isCollapsed=!vm.isCollapsed},$scope.$on("$stateChangeSuccess",function(){loadMenus(),vm.isCollapsed=!1,vm.hideHeader=!(!$state.$current.data||!$state.$current.data.hideHeader),vm.hideMenus=!(!$state.$current.data||!$state.$current.data.hideMenus)});var handler=function(){vm.scroll=$document.scrollTop()};$document.on("scroll",$scope.$apply.bind($scope,handler)),handler(),loadMenus(),vm.logout=function(){LoginService.logout(),$state.go("home")}}angular.module("core").controller("HeaderController",HeaderController),HeaderController.$inject=["$scope","$state","$document","Authentication","Menus","AppConfig","LoginService"]}(),function(){function HomeController($location,$timeout,$document,$log,Authentication,$state){var vm=this;if(vm.authentication=Authentication,vm.type=$state.is("intro.driver")?"driver":"owner",vm.textBase={driver:{header:{lead:"Control Your Reputation",subLead:"Effortlessly Manage your Trucking Career <br>with your TruckerLine Driver Profile",bullets:["Create a Professionally based Driver Profile including your experience and secure elements like your MVR.","Claim your Handle and Connect with truckers you trust to share information, stay in-touch and see when theyre close by.","Securely Share your Docs: MVR, Resume, Background Check, Insurance - From Anywhere ."],signup:"Get Started"},subhero:{videoURL:"//www.youtube.com/embed/aj4vz1jMSR8",title:"Why TruckerLine?",subtitle:null,bullets:[{title:"Putting Truckers back in the Drivers Seat.",description:"TruckerLine is built from the ground up with a focus on the industrys biggest asset, the driver. Our goal is to put the power back in the drivers hands, keep your information safe and make life on the road more enjoyable."},{title:"Take back your Reputation",
description:"Its time drivers stopped having their reputation controlled by previous employers and government reports. Host the documents you want people to see in your profile, and have your Industry buddies or your favorite Shipper recommend the work you do."},{title:"Its about the Team",description:"Join the fastest growing network of drivers in the country, and hold the industry accountable as a group. Time to give the Drivers a voice in the Industry, join the TruckerLine team and lets get it done."}]},section1:{header:"The Driver Profile",sub:"Your digital business card.",bullets:["Dont let previous employers reports control your first impression.","Easily share your professional information with Employers or Brokers.","Grow your Driver Profile and Network with your career."],image:"/modules/core/img/intro/driver.png"},section2:{header:"The Driver Network",sub:"Your Biggest Asset.",bullets:["Stay Connected and Share Information with other drivers.","Have people you trust recommend you and your ability.","Update your network on your load, location and where youre headed"],image:"/modules/core/img/intro/reports.png"},threeSteps:{title:"<span>3 Simple Steps</span> to get you started with TruckerLine",subtitle:"",bullets:[{title:"Sign up",description:"Create your Driver Profile, Enter your Handle, Update your experience, and Order your MVR to include in your Profile."},{title:"Invite your Friends",description:"Connect with Drivers you know, build your Driver Network, and make life on the road more connected and enjoyable."},{title:"Get out there",description:"Use your TruckerLine profile to quickly Apply for jobs, Access your documents and Connect with friends on the road."}]}},owner:{header:{lead:"Automated Driver Hiring<br><small>Increase Operational and Hiring Efficiency</small>",bullets:["Automate Background Checks, DOT Employment Verification, Applications & more.","Centralize & Manage your Applicant flow.","Schedule Recurring Checks for active drivers to stay in compliance."],signup:"Get Started"},subhero:{videoURL:"//www.youtube.com/embed/Qzx1qTYLkrY",videoID:"Qzx1qTYLkrY",title:"Why Outset?",subtitle:null,bullets:[{title:"Created for the Transportation Industry.",description:""},{title:"Designed to save you money lost in the hiring process.",description:""},{title:"Customized solutions for your companys needs.",description:""},{title:"Let technology take the headache out of hiring and driver management.",description:""}]},section1:{header:"Reports",sub:"Cut Hiring Costs.",bullets:["Background Checks & Employment Verification","View & Download applicant reports immediately.","Get Applicants Authorization with an e-Signature.","Free up resources for recruiting, not paperwork"],image:"/modules/core/img/intro/employer.png"},section2:{header:"Applicant Flow",sub:"",bullets:["Increase Operational Efficiency, centralize your process.","View all Applicant reports and verifications in one place.","Communicate with all applicants from within Outset.","Backup your reporting compliance with e-storage of documents."],image:"/modules/core/img/intro/employer-reports.png"},pricing:{header:"Pricing",sub:"Choose from one of the following packages:"},threeSteps:{title:"<span>3 Simple Steps</span> to get you started with Outset",subtitle:"",bullets:[{title:"Sign up",description:"Simplify your Process by linking job postings to Outset, and manage all of your applicants in one place."},{title:"Hire",description:"Receive all of your applicant reports and employment verification electronically, and stop wasting time on bad apples."},{title:"Save Time & Money",description:"By managing your hiring funnel within Outset, youll fill your empty vehicles faster, freeing up time for more driver recruiting."}]}}},vm.text=vm.textBase[vm.type],vm.videoURL=vm.text.subhero.videoURL,$location.hash()){var element=angular.element(document.getElementById($location.hash()));$timeout(function(){$document.scrollToElementAnimated(element)},100)}}HomeController.$inject=["$location","$timeout","$document","$log","Authentication","$state"],angular.module("core").controller("HomeController",HomeController)}(),function(){function RaygunDelegate($delegate,$log){return function(exception,cause){Raygun.send(exception),$delegate(exception,cause)}}function RaygunProvider($provide){$provide.decorator("$exceptionHandler",RaygunDelegate),console.log("completed initialization of Raygun Provider(s)")}RaygunDelegate.$inject=["$delegate","$log"],RaygunProvider.$inject=["$provide"],angular.module("core").config(RaygunProvider)}(),function(){var CompareToDirective=function(){return{require:"ngModel",scope:{otherModelValue:"=compareTo"},link:function(scope,element,attributes,ngModel){ngModel.$validators.compareTo=function(modelValue){return modelValue===scope.otherModelValue},scope.$watch("otherModelValue",function(){ngModel.$validate()})}}};angular.module("core").directive("compareTo",CompareToDirective)}(),angular.module("core").directive("fitVids",fitVidsDirective),function(){function fluidVidsDirective(){return{restrict:"E",replace:!0,scope:{video:"@"},template:'<div class="fluidvids"><iframe ng-src="{{ vm.videoURL }}"></iframe></div>',link:function(scope,element,attrs){var ratio=attrs.height/attrs.width*100;element[0].style.paddingTop=ratio+"%"},controller:["$sce",function($sce){var vm=this;vm.videoURL=$sce.trustAsResourceUrl(vm.video+"?controls=0&rel=0&showinfo=0&autohide=1&modestbranding=1")}],controllerAs:"vm",bindToController:!0}}angular.module("core").directive("fluidvids",fluidVidsDirective)}(),function(){angular.module("core").directive("mobileNav",["$timeout",function($timeout){return{restriction:"A",link:function($scope,element,attributes){var clickEventType=null!==document.ontouchstart?"click":"touchstart";$(element).on(clickEventType,function(){$(this).hasClass("active")?($(".menu-list").removeClass("opened"),$(".mobile-nav").removeClass("active")):($(".menu-list").addClass("opened"),$(".mobile-nav").addClass("active"))}),$("body").on(clickEventType,function(e){!$(e.target).hasClass("mobile-nav")&&$(".mobile-nav").is(":visible")&&($(".menu-list").removeClass("opened"),$(".mobile-nav").removeClass("active"))})}}}])}(),function(){function ModalFocusDirective($timeout,$parse){return{restrict:"A",link:function(scope,element,attrs){var model=$parse(attrs.modalFocus);scope.$watch(model,function(value){value===!0&&$timeout(function(){element[0].focus()})})}}}function FocusFactory($timeout){return function(id){$timeout(function(){var element=document.getElementById(id);element&&element.focus()})}}function FocusDirective(focus){return function(scope,elem,attr){elem.on(attr.eventFocus,function(){focus(attr.eventFocusId)}),scope.$on("$destroy",function(){elem.off(attr.eventFocus)})}}ModalFocusDirective.$inject=["$timeout","$parse"],FocusFactory.$inject=["$timeout"],angular.module("core").factory("focus",FocusFactory).directive("modalFocus",ModalFocusDirective),FocusDirective.$inject=["focus"],angular.module("core").directive("eventFocus",FocusDirective)}(),function(){function yearIsChill(d){return d.year()>y-90&&d.year()<y+20}function getDate(model,format){var t;if(!model||_.isEmpty(model))return"";if((t=moment(model,format)).isValid()&&yearIsChill(t))return t;if("string"==typeof model){var stripped=model.replace(/[^\d]/,"");if((t=moment(stripped)).isValid()&&yearIsChill(t))return t;if((t=moment(stripped,format)).isValid()&&yearIsChill(t))return t;if((t=moment(stripped,"MMDDYYYY")).isValid()&&yearIsChill(t))return t;if((t=moment(stripped,"YYYYMMDD")).isValid()&&yearIsChill(t))return t}return(t=moment(model)).isValid()&&yearIsChill(t)?t:""}function DatepickerController($element,$attrs,$scope,$log){var vm=this;vm.format=vm.format||"YYYY-MM-DD",vm.display="L",vm.displayFormat=vm.dformat||moment().format("L").replace(/\d{4}/,"YYYY").replace(/\d{2}/,"MM").replace(/\d{2}/,"DD"),vm.required=void 0===vm.required&&void 0!==$attrs.required||!!vm.required,vm.mask=vm.dformat&&vm.dformat.replace(/\w/g,"9")||"99/99/9999",console.log("got mask %s from %s",vm.mask,vm.dformat);var t=getDate(vm.model,vm.format);vm.shadow=t?t.format(vm.displayFormat):t,$scope.$watch("vm.shadow",function(newVal,oldVal){if(newVal!==oldVal){$log.info("[osDp] Change Detected, %o --> %o {%s}",oldVal,newVal,vm.format);var m;newVal&&(m=moment.isMoment(newVal)?newVal:moment(newVal,vm.displayFormat),m.isValid()&&($log.info("[osDp] validDate %o --> %s",m,m.format(vm.format)),vm.model=m.format(vm.format)))}})}function dpDirective(){return{priority:0,templateUrl:"/modules/core/views/templates/os-datepicker.client.template.html",replace:!0,restrict:"E",scope:{model:"=",format:"=?",dformat:"@?",isRequired:"=?"},controller:"DatepickerController",controllerAs:"vm",bindToController:!0}}var y=moment().year();DatepickerController.$inject=["$element","$attrs","$scope","$log"],angular.module("core").controller("DatepickerController",DatepickerController).directive("dateInput",dpDirective)}(),function(){function DebounceDirective(){return{require:"ngModel",link:function(scope,element,attrs,controller){controller.$options||(controller.$options={updateOn:"default blur",debounce:{"default":3e3,blur:0},updateOnDefault:!0})}}}angular.module("core").directive("debounce",DebounceDirective)}(),function(){function osDebugInfoCtrl($scope,$rootScope,$location,$state,$log,Auth,AppConfig){$scope.debugInfo=[],$scope.collapsed=!0;!!AppConfig.get("debug");$log.info("not enabling os-debug-info")}osDebugInfoCtrl.$inject=["$scope","$rootScope","$location","$state","$log","Authentication","AppConfig"],angular.module("core").directive("osDebugInfo",[function(){return{scope:{pageName:"@?"},templateUrl:"/modules/core/views/templates/os-debug-info.client.template.html",restrict:"E",replace:!1,controller:"OsDebugInfoController"}}]).controller("OsDebugInfoController",osDebugInfoCtrl)}(),function(){function FormActionsDirective(){var template='<div data-ng-show="vm.errorText" class="pull-left text-danger"><strong data-ng-bind="vm.errorText"></strong></div><div class="pull-right">   <input ng-if="vm.showCancel" type="button" class="btn btn-link" value="{{vm.cancelText}}" ng-click="vm.cancel()">   <input ng-if="vm.showAlt" type="button" class="btn btn-default" value="{{vm.altText}}" ng-click="vm.alt()">   <input type="submit" class="btn {{vm.submitClass}}" ng-class="{ \'disabled\': vm.disableSubmit}" value="{{vm.submitText}}"></div>',ddo={template:template,scope:{disableSubmit:"=?",submitText:"@?",submitClass:"@?",cancelFn:"&?",cancelText:"@?",altFn:"&?",altText:"@?",errorText:"=?"},controller:function(){var vm=this;vm.showAlt=!!vm.altFn(),vm.altText=vm.altText||"Other Action",vm.showCancel=!!vm.cancelFn(),vm.cancelText=vm.cancelText||"cancel",vm.submitClass=vm.submitClass||"btn-oset-success",vm.submitText=vm.submitText||"Save","undefined"==typeof vm.disableSubmit&&(vm.disableSubmit=!1),vm.alt=function(){vm.altFn()()},vm.cancel=function(){vm.cancelFn()()}},controllerAs:"vm",bindToController:!0};return ddo}angular.module("core").directive("osFormActions",FormActionsDirective)}(),function(){function TinyMCEDirective($sce,$log,uiTinymceConfig){uiTinymceConfig=uiTinymceConfig||{};var minimalConfig={menubar:!1,toolbar:!1,statusbar:!1},generatedIds=0;return{require:"ngModel",link:function(scope,elm,attrs,ngModel){var expression,options,tinyInstance;attrs.id||attrs.$set("id","uiTinymce"+generatedIds++),options={setup:function(ed){ed.on("init",function(args){ngModel.$render()}),ed.on("ExecCommand",function(e){ed.save(),ngModel.$setViewValue(elm.val()),scope.$$phase||scope.$apply()}),ed.on("KeyUp",function(e){$log.debug("[TinyMce.model.KeyUp] IsDirty: %s",ed.isDirty()),ed.save(),ngModel.$setViewValue(elm.val()),scope.$$phase||scope.$apply()})},mode:"exact",elements:attrs.id},expression=attrs.uiTinymce?scope.$eval(attrs.uiTinymce):{},angular.isDefined(attrs.minimal)&&(uiTinymceConfig=minimalConfig),angular.extend(options,uiTinymceConfig,expression),setTimeout(function(){tinymce.init(options)}),ngModel.$render=function(){tinyInstance||(tinyInstance=tinymce.get(attrs.id)),tinyInstance&&($sce.trustAsHtml(ngModel.$viewValue),tinyInstance.setContent(ngModel.$viewValue||""),angular.isDefined(attrs["class"])&&_.map(attrs["class"].split(" "),function(c){c&&tinyInstance.getContentAreaContainer().classList.add(c)}))}}}}ApplicationConfiguration.registerModule("oset.tinymce");var editorConfig={menubar:!1,toolbar:["undo redo | styleselect | fontsizeselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent"],statusbar:!1,fontsize_formats:"10px 12px 14px 18px"};angular.module("oset.tinymce",[]).value("uiTinymceConfig",editorConfig).directive("osHtmlEdit",["$sce","$log","uiTinymceConfig",TinyMCEDirective])}(),function(){function PageHeaderDirective(){var ddo;return ddo={templateUrl:"/modules/core/views/templates/os-page-header.client.template.html",scope:{title:"@",subTitle:"@?",showEdit:"=?",btnShow:"=?",btnText:"@?",btnSref:"@?",editSref:"@?",level:"@?",pictureUrl:"=?",editPicSref:"@?",pictureEditFn:"&?",backBtnText:"@?",backBtnFn:"&?"},transclude:!0,restrict:"E",controller:["$transclude","$log","$state","$attrs",function(transclude,$log,$state,$attrs){var vm=this;vm.btnShow="undefined"==typeof this.btnShow?!0:this.btnShow,vm.showEdit="undefined"==typeof this.showEdit?!1:this.showEdit,vm.showPicEdit=(!!angular.isDefined($attrs.pictureEditFn)||!!angular.isDefined($attrs.editPicSref))&&vm.showEdit,vm.showBackBtn=angular.isDefined($attrs.backBtnFn)&&!!vm.backBtnText,vm.hover=!1,vm.includeTransclude=!!transclude().contents()&&transclude().contents().length>0,vm.showHeader=!!vm.subTitle||!!vm.editSref||vm.showBackBtn||vm.btnShow&&!!vm.btnText&&!!vm.btnSref,vm.editPicFn=function(){return angular.isDefined($attrs.pictureEditFn)?($log.debug("calling pictureEditFn"),vm.pictureEditFn()):void 0},vm.goBackFn=function(){return angular.isDefined($attrs.backBtnFn)?($log.debug("calling backBtnFn"),vm.backBtnFn()):void 0}}],controllerAs:"vm",bindToController:!0}}angular.module("core").directive("osPageHeader",PageHeaderDirective)}(),function(){function CategoriesDirectiveController($log){var vm=this;vm.mode=vm.mode||"edit",vm.dataType=vm.dataType||"driver",vm.newCategory=null,vm.categories||(vm.categories=[]),vm.categories&&($log.debug("Initalizing CategoriesDirective in %s mode with %d categories",vm.mode,vm.categories.length),("edit"===vm.mode||"select"===vm.mode)&&($log.debug("Confirming all defaults present in edit control"),_.each(vm.options||defaults[vm.dataType],function(option){_.find(vm.categories,{key:option.key})?$log.debug("driver already contains %s",option.key):($log.debug("pushing interest option %s",option.key),vm.categories.push(option))}),vm.summary=_.pluck(_.where(vm.categories,"value"),"key"))),vm.toggle=function(category,solo){solo?_.map(vm.categories,function(cat){cat.value=cat.key===category.key}):category.value=!category.value,_.find(vm.categories,{value:!0})?($log.debug("at least one cat selected"),vm.showAll=!1):vm.showAll=!0,vm.summary=_.pluck(_.where(vm.categories,"value"),"key")},vm.allClicked=function(){return vm.showAll?!1:(_.map(vm.categories,function(cat){cat.value=!1}),vm.showAll=!vm.showAll,void(vm.summary=[]))},vm.toggleCategory=function(interest){null===vm.newCategory?vm.newCategory="":vm.newCategory=null,vm.summary=_.pluck(_.where(vm.categories,"value"),"key")},vm.addCategory=function(){if(vm.newCategory){var existing=_.find(vm.categories,{key:vm.newCategory});existing?existing.value=!0:vm.categories.push({key:vm.newCategory,value:!0})}vm.newCategory=null,vm.summary=_.pluck(_.where(vm.categories,"value"),"key")}}function CategoryDirective(){var ddo;return ddo={templateUrl:"/modules/core/views/templates/oset-categories.client.template.html",restrict:"E",transclude:!0,scope:{categories:"=model",options:"=?",summary:"=?",mode:"@?",dataType:"@?",lblClass:"@?",showAll:"=?"},controller:"CategoriesDirectiveController",controllerAs:"vm",bindToController:!0}}var defaults={driver:[{key:"Courier",value:!1},{key:"Local CDL",value:!1},{key:"Long Haul CDL",value:!1},{key:"Taxi/Limo",value:!1},{key:"Ridesharing (Uber/Lyft)",value:!1},{key:"Non-Emergency Medical",value:!1}],job:[{key:"Courier",value:!1},{key:"Local CDL",value:!1},{key:"Long Haul CDL",value:!1},{key:"Taxi/Limo",value:!1},{key:"Ridesharing (Uber/Lyft)",value:!1},{key:"Non-Emergency Medical",value:!1}]};CategoriesDirectiveController.$inject=["$log"],angular.module("applications").controller("CategoriesDirectiveController",CategoriesDirectiveController).directive("osetCategories",CategoryDirective)}(),function(){angular.module("core").directive("onRepeatDone",["$timeout",function($timeout){return{restriction:"A",link:function($scope,element,attributes){$scope.$last===!0&&$timeout(function(){$scope.$emit(attributes.onRepeatDone||"repeat_done",element)})}}}])}(),function(){function ScrollBottomDirective($timeout){return{scope:{scrollBottom:"="},link:function(scope,element){scope.$watchCollection("scrollBottom",function(newValue){if(newValue&&element.children()&&element.children().length){var height=newValue.length*element.children().height();$timeout(function(){height=height||newValue.length*element.children().height(),console.log("Scrolling to height: "+height),element.scrollTopAnimated(height)},100)}})}}}function autofillsync($timeout){return{require:"ngModel",link:function(scope,elem,attrs,ngModel){var origVal=elem.val();$timeout(function(){var newVal=elem.val();ngModel.$pristine&&origVal!==newVal&&ngModel.$setViewValue(newVal)},500)}}}ScrollBottomDirective.$inject=["$timeout"],autofillsync.$inject=["$timeout"],angular.module("core").directive("scrollBottom",ScrollBottomDirective).directive("autofillsync",autofillsync)}(),function(){angular.module("core").directive("scrollTo",function(){return{restrict:"A",link:function(scope,element,attrs,ctrl){$(element).on("click touchstart",function(){$("html, body").animate({scrollTop:$(".section-why-outset").offset().top},300)})}}})}(),function(){angular.module("core").directive("slider",function(){return{restrict:"A",link:function(scope,element,attrs,ctrl){scope.$on("bullet_done",function(domainElement){function init(){sliderContent=$(".slider-content"),slidesCount=sliderContent.find(".slide").length,sliderContainer=$(".slider-container"),slide=$(".slide"),leftPosition=0,slide.width(sliderContainer.width()),sliderContent.width(sliderContainer.width()*slidesCount),sliderContent.css({"margin-left":leftPosition+"px"}),setCurrentPaginationItem(leftPosition)}function slideToFirst(){leftPosition=sliderContainer.width(),sliderContent.css({"margin-left":leftPosition+"px"}),slideNext()}function slideToLast(){leftPosition=-(1*sliderContainer.width()),sliderContent.css({"margin-left":leftPosition+"px"}),slideNext()}function setCurrentPaginationItem(leftPosition){var index=Math.abs(Math.round(leftPosition/sliderContainer.width())),item=$(".pagination-wrapper").children().get(index);$(".pagination-item").removeClass("current"),$(item).addClass("current")}function slidePrev(){leftPosition+=sliderContainer.width(),sliderContent.css({"margin-left":leftPosition+"px"}),setCurrentPaginationItem(leftPosition)}function slideNext(){leftPosition-=sliderContainer.width(),sliderContent.css({"margin-left":leftPosition+"px"}),setCurrentPaginationItem(leftPosition)}var sliderContent,slidesCount,sliderContainer,leftPosition,slide,clickEventType=null!==document.ontouchstart?"click":"touchstart";$(".slider-arrow").on(clickEventType,function(){$(this).hasClass("left-arrow")?0>leftPosition?slidePrev():slideToLast():leftPosition>-sliderContainer.width()*(slidesCount-1)?slideNext():slideToFirst()}),init(),$(window).off("resize").on("resize",function(){init()})})}}})}(),function(){function TOSModalDirective(){return{transclude:!0,templateUrl:"/modules/core/views/tos.client.directive.html",restrict:"EA",scope:{title:"@?",terms:"@?",acceptFn:"&?"},controller:TosModalController,controllerAs:"vm",bindToController:!0}}function TosModalController($uibModal,$log){var vm=this;vm.isOpen=!1,vm.showModal=function(){var modalInstance=$uibModal.open({templateUrl:"tosModal.html",size:"xl",backdropClass:"darken",windowClass:"tos",controller:TosController,controllerAs:"vm",resolve:{vm:function(){return vm}}});modalInstance.result.then(function(result){$log.info("Modal result %o",result),vm.acceptFn&&vm.acceptFn(result),vm.isOpen=!1},function(result){$log.info("Modal dismissed at: "+new Date),vm.isOpen=!1}),modalInstance.opened.then(function(args){vm.isOpen=!0})}}function TosController(vm,$log){$log.debug("TosController: Init with values: %o",vm),vm.tosHTML&&$log.debug("DocHTML wins over DocTemplate")}angular.module("core").directive("tos",TOSModalDirective),TosModalController.$inject=["$uibModal","$log"],TosController.$inject=["vm","$log"]}(),function(){angular.module("core").directive("videoPlayer",function(){return{restrict:"A",template:'<div class="youtube-container"><div class="youtube-player"></div></div>',link:function(scope,element,attrs,ctrl){function labnolThumb(id){return'<img class="youtube-thumb" src="modules/core/img/backgrounds/play_video_bg.jpg" /><div class="control-button-wrapper"><div class="play-icon"><div class="triangle"></div></div><div class="control-text">Play Video</div></div>'}function labnolIframe(){var iframe=document.createElement("iframe");iframe.setAttribute("src",scope.vm.text.subhero.videoURL+"?autoplay=1&autohide=2&border=0&wmode=opaque&enablejsapi=1&controls=0&showinfo=0"),iframe.setAttribute("frameborder","0"),iframe.setAttribute("id","youtube-iframe"),_this.parentNode.replaceChild(iframe,_this)}var _this=this;!function(){for(var v=document.getElementsByClassName("youtube-player"),n=0;n<v.length;n++){var p=document.createElement("div");p.innerHTML=labnolThumb(scope.vm.text.subhero.videoID),p.onclick=labnolIframe,v[n].appendChild(p)}}()}}})}(),function(){function capFilter(){return function(input,all){return _.isString(input)?input?/^[A-Z]+$/.test(input)?input:input.replace(/_/g," ").replace(/[a-z][A-Z]/g,function(txt){return txt.charAt(0)+" "+txt.charAt(1)}).replace(/([^\W_]+[^\s-]*) */g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase()}):"":input}}function prettyPrint(){return function(input){return input?JSON.stringify(input,void 0,2):""}}function isoDateFilter(){return function(input,parseFmt){var format=parseFmt||"YYYYMMDD";return input?moment(input,format).format("L"):""}}function sanitizeFilter($sce){return function(htmlCode){return $sce.trustAsHtml(htmlCode)}}function streamlineFilter($sce){return function(htmlCode){for(var hRegex=/<(\/?)h\d>/,eRegex=/<[^\/]+?><\/.+?>|<br[\/]?>/,pRegex=/<(p).*?>([^<]*)<\/(p)>|<(ul|li).*?>([^<][^u]?[^l][^i]?)+<\/(ul|li)>/,result=htmlCode.replace(eRegex,"");result.match(eRegex);)result=result.replace(eRegex,"");for(;result.match(hRegex);)result=result.replace(hRegex,"<$1b>");for(;result.match(pRegex);)result=result.replace(pRegex,"&nbsp;$2");return $sce.trustAsHtml(result)}}function pastDaysFilter(){return function(items,field,days){if(!days)return items.filter(function(){return!0});var timeStart=moment().subtract(days,"days");return console.log("filtering back %s days to %s",days,timeStart.format("L")),items.filter(function(item){return moment(item[field]).isAfter(timeStart)})}}function dollarStringFilter(){return function(input){var base=Number(input),next=base.toFixed(2);return"$"+next}}sanitizeFilter.$inject=["$sce"],streamlineFilter.$inject=["$sce"],angular.module("core").filter("titleCase",capFilter).filter("prettyPrint",prettyPrint).filter("isoDatePrint",isoDateFilter).filter("sanitize",sanitizeFilter).filter("streamline",streamlineFilter).filter("withinPastDays",pastDaysFilter).filter("toDollarString",dollarStringFilter)}(),function(){function ConfigFactory($resource,$log,$q){function paramFilter(configs,userType,moduleName){if($log.debug("Filtering configs by userType: (%s) and moduleName: (%s). %o",userType,moduleName,configs),!configs)return{};var retVal=configs;return userType&&(retVal=retVal[userType]),moduleName&&(retVal=retVal[moduleName]),retVal}var months,faqs,modules,options;return{getStates:function(){var rsrc=$resource("config/states");return rsrc.query()},getCountries:function(){return this.get("countries")},getBaseSchedule:function(){var rsrc=$resource("config/baseSchedule");return rsrc.query()},getMonths:function(){if(!months){for(months=[];months.length<12;){var m=moment().month(months.length);months.push({num:m.format("MM"),name:m.format("MMMM")})}console.log("ConfigFactory] Returning newly generated months",JSON.stringify(months))}return months},get:function(config){var rsrc=$resource("config/"+config),d=$q.defer();rsrc.get().$promise.then(function(resp){resp.hasOwnProperty(config)?d.resolve(resp[config]):d.resolve(resp)},function(err){$log.log('[AppCfg] "%s" is not an available',config,err),d.reject(err)}),d.promise.then(function(f){return f},function(e){return $log.warn("Swallowing error: %o",e),null})},getAsync:function(config){var rsrc=$resource("config/"+config);return rsrc.get().$promise.then(function(success){return success.hasOwnProperty(config)?$q.when(success[config]):$q.when(success)},function(err){return $log.log('[AppCfg] "%s" is not an available',config,err),$q.when(null)})},getReports:function(){var rsrc=$resource("config/reports");return rsrc.get()},getFaqs:function(myfilter){var d=$q.defer();if(faqs)d.resolve(faqs);else{var rsrc=$resource("config/faqs");rsrc.query().$promise.then(function(resp){$log.debug("faq response: %o",resp);var filter=myfilter||{};faqs=filter.category&&filter.category.length?_.filter(resp,function(item){return _.contains(filter.category,item.category)}):resp,d.resolve(faqs)},function(err){$log.debug("got faq error: %o",err),d.resolve([])})}return d.promise},getOptions:function(){if(options)return $q.when(options);var rsrc=$resource("config/options");return rsrc.get().$promise.then(function(response){return options=response})},getModuleConfig:function(userType,moduleName){if(modules)return $q.when(paramFilter(modules,userType,moduleName));var rsrc=$resource("config/modules");return rsrc.get().$promise.then(function(resp){return paramFilter(resp,userType,moduleName)},function(err){return $log.debug("got config error: %o",err),{}})}}}ConfigFactory.$inject=["$resource","$log","$q"],angular.module("core").factory("AppConfig",ConfigFactory)}(),function(){angular.module("core").service("Menus",["$sce",function($sce){function validateRole(userRoles,validRoles){for(var userRoleIndex in userRoles)if(userRoles.hasOwnProperty(userRoleIndex))for(var roleIndex in validRoles)if(validRoles.hasOwnProperty(roleIndex)){if(validRoles[roleIndex]===userRoles[userRoleIndex])return!0;if("*"===validRoles[roleIndex])return!0}return!1}function validateType(userType,validTypes){for(var typeIndex in validTypes)if(validTypes.hasOwnProperty(typeIndex)){if(validTypes[typeIndex]===userType)return!0;if("*"===validTypes[typeIndex])return!0}return!1}this.defaultRoles=["*"],this.defaultUserTypes=["*"],this.menus={};var shouldRender=function(user){if(user){var roleValid=!!~this.roles.indexOf("*"),typeValid=!!~this.userTypes.indexOf("*");return roleValid||(roleValid=validateRole(user.roles,this.roles)),roleValid&&!typeValid&&(typeValid=validateType(user.type,this.userTypes)),roleValid&&typeValid}return this.isPublic};this.validateMenuExistance=function(menuId){if(menuId&&menuId.length){if(this.menus[menuId])return!0;throw new Error("Menu does not exists")}throw new Error("MenuId was not provided")},this.getMenu=function(menuId){return this.validateMenuExistance(menuId),this.menus[menuId]},this.addMenu=function(menuId,options){return options=options||{},this.menus[menuId]={isPublic:null===options.isPublic||"undefined"==typeof options.isPublic?!0:options.isPublic,roles:options.roles||this.defaultRoles,userTypes:options.userTypes||this.defaultUserTypes,items:options.items||[],shouldRender:shouldRender},this.menus[menuId]},this.removeMenu=function(menuId){this.validateMenuExistance(menuId),delete this.menus[menuId]},this.addMenuItem=function(menuId,options){options=options||{},this.validateMenuExistance(menuId);var menuItemDefault={title:"",state:"",type:"item","class":void 0,isPublic:this.menus[menuId].isPublic,roles:this.menus[menuId].roles,userTypes:this.menus[menuId].userTypes,position:100,items:[],shouldRender:shouldRender},newItem=angular.extend(menuItemDefault,options);if(newItem.title=$sce.trustAsHtml(newItem.title),this.menus[menuId].items.push(newItem),options.items)for(var i in options.items)options.items.hasOwnProperty(i)&&this.addSubMenuItem(menuId,options.link,options.items[i]);return this.menus[menuId]},this.addSubMenuItem=function(menuId,parentItemState,options){options=options||{},this.validateMenuExistance(menuId);var menuSubItemDefault={title:"",state:"",position:0,shouldRender:shouldRender};for(var itemIndex in this.menus[menuId].items)if(this.menus[menuId].items[itemIndex].state===parentItemState){menuSubItemDefault=angular.extend(menuSubItemDefault,{isPublic:this.menus[menuId].items[itemIndex].isPublic,roles:this.menus[menuId].items[itemIndex].roles,userTypes:this.menus[menuId].items[itemIndex].userTypes});var newSubMenuItem=angular.extend(menuSubItemDefault,options);newSubMenuItem.title=$sce.trustAsHtml(newSubMenuItem.title),this.menus[menuId].items[itemIndex].items.push(newSubMenuItem)}return this.menus[menuId]},this.removeMenuItem=function(menuId,menuItemURL){this.validateMenuExistance(menuId);for(var itemIndex in this.menus[menuId].items)this.menus[menuId].items[itemIndex].link===menuItemURL&&this.menus[menuId].items.splice(itemIndex,1);return this.menus[menuId]},this.removeSubMenuItem=function(menuId,submenuItemURL){this.validateMenuExistance(menuId);var menuItems;for(var itemIndex in menuItems=this.menus[menuId].items)if(menuItems.hasOwnProperty(itemIndex))for(var subitemIndex in this.menus[menuId].items[itemIndex].items)this.menus[menuId].items[itemIndex].items[subitemIndex].link===submenuItemURL&&this.menus[menuId].items[itemIndex].items.splice(subitemIndex,1);return this.menus[menuId]},this.addMenu("topbar",{isPublic:!1}),this.addMenu("adminbar",{isPublic:!1,roles:["admin"]})}])}(),function(){function SocketService(Authentication,$state,$timeout){Authentication.user&&(this.socket=io()),this.on=function(eventName,callback){this.socket&&this.socket.on(eventName,function(data){$timeout(function(){console.log("[Socket.on] `%s`. Data: %o",eventName,data),callback(data)})})},this.emit=function(eventName,data){this.socket&&(console.log("[Socket.emit] %s: %o",eventName,data),this.socket.emit(eventName,data))},this.removeListener=function(eventName){this.socket&&this.socket.removeListener(eventName)}}angular.module("core").service("Socket",SocketService),SocketService.$inject=["Authentication","$state","$timeout"]}(),function(){angular.module("documents").run(["Menus",function(Menus){Menus.addMenuItem("adminbar",{title:"Documents",state:"documents",type:"dropdown"}),Menus.addSubMenuItem("adminbar","documents",{title:"List Documents",state:"documents.list"}),Menus.addSubMenuItem("adminbar","documents",{title:"Create Document",state:"documents.create"})}])}(),function(){angular.module("documents").config(["$stateProvider",function($stateProvider){$stateProvider.state("documents",{"abstract":!0,url:"/documents",template:"<ui-view/>"}).state("documents.list",{url:"",templateUrl:"modules/documents/views/list-documents.client.view.html"}).state("documents.create",{url:"/create",templateUrl:"modules/documents/views/create-document.client.view.html"}).state("documents.view",{url:"/:documentId",templateUrl:"modules/documents/views/view-document.client.view.html"}).state("documents.edit",{url:"/:documentId/edit",templateUrl:"modules/documents/views/edit-document.client.view.html"})}])}(),function(){angular.module("documents").controller("DocumentsController",["$scope","$stateParams","$location","Authentication","Documents",function($scope,$stateParams,$location,Authentication,Documents){$scope.authentication=Authentication,
$scope.create=function(){var document=new Documents({name:this.name});document.$save(function(response){$location.path("documents/"+response._id),$scope.name=""},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.remove=function(document){if(document){document.$remove();for(var i in $scope.documents)$scope.documents[i]===document&&$scope.documents.splice(i,1)}else $scope.document.$remove(function(){$location.path("documents")})},$scope.update=function(){var document=$scope.document;document.$update(function(){$location.path("documents/"+document._id)},function(errorResponse){$scope.error=errorResponse.data.message})},$scope.find=function(){$scope.documents=Documents.byId.query()},$scope.findOne=function(){$scope.document=Documents.byId.get({documentId:$stateParams.documentId})}}])}(),function(){angular.module("documents").factory("Documents",["$resource",function($resource){var ProfileRSRC=$resource("/api/profiles/:userId/documents",{userId:"@_id"}),DocumentRSRC=$resource("api/documents/:documentId",{documentId:"@_id"},{update:{method:"PUT"}}),service={byUser:ProfileRSRC,byId:DocumentRSRC};return service}])}(),function(){function menus(Menus,Auth){Menus.addMenuItem("topbar",{title:'<i class="fa fa-home fa-lg"/>',state:"users.view",position:1,userTypes:["driver"]}),Menus.addMenuItem("adminbar",{title:"Drivers",state:"drivers",type:"dropdown",roles:["admin"]}),Menus.addSubMenuItem("adminbar","drivers",{title:"List Drivers",state:"drivers.list"}),Menus.addSubMenuItem("adminbar","drivers",{title:"New Driver",state:"drivers.create"})}menus.$inject=["Menus","Authentication"],angular.module("drivers").run(menus)}(),function(){function handle404s(err){if(404===err.status)return console.warn("No Driver found ... resolving as null",err),null;throw console.error("Hard Error when retrieiving Driver",err),err}function driverResolve(Drivers,params){return params.driverId?(console.log("Searching for driver ID: %s",params.driverId),Drivers.get(params.driverId)):Drivers["default"]}function userResolve(Drivers,params,auth){var val;params.userId?(val=params.userId,console.log("Searching for driver data for user %s",val)):(val=auth.user._id,console.log("Searching for driver data for logged in user: %s",val));var driver=Drivers.getByUser(val);return driver["catch"](handle404s)}function driverListResolve(Drivers,$log){return Drivers.ById.query().$promise["catch"](function(err){return $log.error("Unable to load drivers list due to error",err),[]})}function config($stateProvider){$stateProvider.state("trucker",{url:"/trucker/:userId",templateUrl:"/modules/drivers/views/trucker.client.view.html",controller:"TruckerViewCtrl",controllerAs:"vm",bindToController:!0,resolve:upcResolve,params:{userId:{value:null,squash:!0}}}).state("trucker.experience",{url:"/experience",template:'<oset-experience-list list="vm.profile.experience"></oset-experience-list>'}).state("trucker.review",{url:"/review",params:{requestId:{value:null,squash:!0}},onEnter:["$log","$stateParams","$state",function($log,$stateParams,$state){$state.go("reviews.create",{requestId:$stateParams.requestId})}]}).state("trucker.reviews",{url:"/reviews",controller:"TruckerReviewListCtrl",controllerAs:"vm",resolve:{reviews:["$log","Reviews","profile",function($log,Reviews,profile){return Reviews.byUser.query({userId:profile.id})}]},templateUrl:"/modules/drivers/views/trucker-reviews.client.view.html"}).state("trucker.documents",{url:"/documents",controller:"TruckerLockboxCtrl",controllerAs:"vm",resolve:{documents:["$log","Documents","profile",function($log,Documents,profile){return Documents.byUser.query({userId:profile.id}).$promise["catch"](function(err){return $log.error("Unable to Fetch User's documents",err),null})}]},templateUrl:"/modules/drivers/views/trucker-docs.client.view.html"}).state("drivers",{"abstract":!0,url:"/drivers",template:'<div ui-view class="content-section"></div>',parent:"fixed-opaque"}).state("drivers.list",{url:"",templateUrl:"/modules/drivers/views/list-drivers.client.view.html",parent:"drivers",resolve:{drivers:driverListResolve},controller:"DriversListController",controllerAs:"vm",bindToController:!0}).state("drivers.create",{url:"/create",templateUrl:"/modules/drivers/views/edit-driver.client.view.html",parent:"drivers",resolve:{driver:userResolve},controller:"DriverEditController",controllerAs:"vm",bindToController:!0}).state("drivers.edit",{url:"/{driverId:[0-9a-fA-F]{24}}/edit",templateUrl:"/modules/drivers/views/edit-driver.client.view.html",parent:"drivers",resolve:{driver:driverResolve},controller:"DriverEditController",controllerAs:"vm",bindToController:!0}).state("drivers.documents",{url:"/{driverId:[0-9a-fA-F]{24}}/reports/:documentId",templateUrl:"/modules/drivers/views/document-viewer.client.view.html",parent:"drivers",resolve:{driver:driverResolve},controller:"DocumentViewController",controllerAs:"vm",bindToController:!0})}driverResolve.$inject=["Drivers","$stateParams"],userResolve.$inject=["Drivers","$stateParams","Authentication"],driverListResolve.$inject=["Drivers","$log"];var upcResolve={user:["Authentication","LoginService",function(Authentication,LoginService){return LoginService.getUser().then(function(user){return Authentication.user||(Authentication.user=user),user},function(reason){return console.error("Unable to load user - not logged in?",reason),null})}],profile:["user","$stateParams","Profiles",function(user,$stateParams,Profiles){return _.isEmpty($stateParams.userId)?user:Profiles.load($stateParams.userId).then(function(profile){return profile},function(reason){return console.error("Unable to load profile: ",reason),null})}],company:["profile","Companies",function(profile,Companies){return profile.company?Companies.get(profile.company):null}]};config.$inject=["$stateProvider"],angular.module("drivers").config(config)}(),function(){function DocumentViewController($state,$log,$stateParams,$window,$sce,auth,Drivers,DocAccess,driver){var vm=this;return auth.user?(vm.text={title:"View documents for user"},vm.driver=driver,vm.auth=auth,vm.user=auth.user,vm.reports=vm.driver.reports||{},vm.driver&&vm.driver.user&&(vm.profile=vm.driver.user,vm.profile.displayName&&(vm.text.title="View documents for "+vm.profile.displayName,vm.fileUser=vm.profile.displayName.replace(" ",""))),vm.viewFile=function(fileName){vm.error=null,$log.debug("Opening File %o",fileName);var file=vm.reports[fileName];DocAccess.updateFileUrl(vm.driver._id,file).then(function(success){vm.documentUrl=success.url,vm.documentTitle=vm.fileUser+"_"+fileName+".pdf",$sce.trustAsResourceUrl(vm.documentUrl),vm.reports[success.sku]=success,vm.activeReport=fileName})["catch"](function(error){$log.warn("[DocViewCtrl.updateFileUrl] %s",error),vm.error=error})},vm.goBack=$state.gotoPrevious,void($stateParams.documentId&&vm.viewFile($stateParams.documentId))):$state.go("intro")}function PdfViewDirective(){return{restrict:"E",link:function(scope,element,attrs){scope.$watch("src",function(newVal,oldVal){if(!element.contents().length||!element.contents()[0].contains(newVal)){var url=newVal;if(element.contents().remove(),url){var tag='<object data="reportURL" type="application/pdf" width="100%" height="100%"> <p class="text-center">It appears your Web browser is not configured to display PDF files. No worries, just <a href="reportURL">click here to download the PDF file.</a></p></object>';element.append(tag.replace(/reportURL/g,url))}else element.append('<h4 class="text-center">Sorry ... document not available</h4>')}})},scope:{src:"@pdfSrc"}}}DocumentViewController.$inject=["$state","$log","$stateParams","$window","$sce","Authentication","Drivers","DocAccess","driver"],angular.module("drivers").controller("DocumentViewController",DocumentViewController).directive("pdf",PdfViewDirective)}(),function(){function DriverEditController($state,$log,Drivers,Authentication,driver,AppConfig,$document,Applications){function activate(){$state.is("drivers.create")&&vm.driver&&vm.driver._id&&$state.go("drivers.edit",{driverId:vm.driver._id}),(!vm.driver.profile.questions||_.isEmpty(vm.driver.profile.questions))&&(vm.driver.profile.questions=Applications.getQuestions()),(!vm.driver.profile.responses||_.isEmpty(vm.driver.profile.responses))&&(vm.driver.profile.responses={"default":[]})}function submit(){return vm.driverForm.$setSubmitted(!0),vm.licenseForm=vm.driverForm["vm.licenseForm"],vm.licenseForm&&vm.licenseForm.$setSubmitted(!0),vm.experienceForm=vm.driverForm["vm.experienceForm"],vm.experienceForm&&vm.experienceForm.$setSubmitted(!0),vm.experienceForm&&vm.experienceForm.$pristine&&(console.log("Experience untouched ..."),vm.driver.experience[0]&&vm.driver.experience[0].isFresh&&(console.log("nuked experience"),vm.driver.experience=[]),vm.driverForm.$setValidity("vm.experienceForm",!0)),vm.driverForm.$invalid?(vm.driverForm.$error.required?(vm.error="Please fill in all required fields before saving",$document.scrollTopAnimated(0,300)):vm.error="Please correct the errors on the page before saving",!1):$state.is("drivers.create")?vm.create():$state.is("drivers.edit")?vm.update():void(vm.error="Unknown Configuration, sorry :(")}function create(){vm.driver.experience=_.compact(vm.driver.experience);var driver=new Drivers.ById(vm.driver);driver.$save(function(response){$log.debug("Successfully created new Driver"),$state.go("drivers.view",{driverId:response._id})},function(errorResponse){vm.error=errorResponse.data&&0!==errorResponse.status?errorResponse.data.message:"Error saving your profile. Please try again later."})}function cancel(){$state.go("drivers.view",{driverId:vm.driver._id})}function update(){var driver=vm.driver;driver.$update(function(response){response.user.id===vm.user.id?$state.go("users.view"):$state.go("drivers.view",{driverId:response._id})},function(errorResponse){vm.error=errorResponse.data.message})}var vm=this;return Authentication.user?(vm.user=Authentication.user,vm.action=$state.current.name.replace("drivers.",""),vm.driver=_.defaults(driver||{},{experience:[],interests:[],license:{},profile:{responses:[],questions:[]}}),vm.debug=AppConfig.get("debug"),vm.submit=submit,vm.update=update,vm.create=create,vm.cancel=cancel,vm.methods={submit:submit,update:update,create:create,cancel:cancel},void activate()):$state.go("intro")}angular.module("drivers").controller("DriverEditController",DriverEditController),DriverEditController.$inject=["$state","$log","Drivers","Authentication","driver","AppConfig","$document","Applications"]}(),function(){function DriverViewController($state,$log,$stateParams,Authentication,Drivers,Profiles,AppConfig,driver){function activate(){vm.driver?(vm.user=vm.driver.user,vm.canEdit=vm.user._id===Authentication.user._id):$stateParams.userId?vm.user=Profiles.load($stateParams.userId).$promise.then(function(profile){vm.user=profile,vm.canEdit=$stateParams.userId===vm.user._id}):$state.is("drivers.home")&&(vm.user=Authentication.user,vm.canEdit=!0)}function endorsementFilter(item){return item.value===!0}function endorsementDisplay(item){var i=item.key.indexOf("(");return i>0?item.key.substring(0,i).trim():item.key}var vm=this;if(!Authentication.user)return $state.go("intro");vm.text={bulletPoints:["You will be applying to jobs with your Driver Profile.","Applicants who have reports in their Driver Profile are <strong>8-12x more likely to be interviewed!</strong>","More information in your Profile = better jobs: Include your reports (Background Check etc.), experience and endorsements.","Show youre reliable: Get reports like Background Checks, MVRs & Drug Tests to be hosted in your Profile."]},vm.driver=driver,vm.user=null,vm.canEdit=!1,vm.auth=Authentication,vm.reports=AppConfig.getReports()||{},vm.endorsementFilter=endorsementFilter,vm.endorsementDisplay=endorsementDisplay,activate(),vm.successFunction=function(fileItem,response,status,headers){vm.driver.reports.resume=response};var validateAccess=function(file){return file?!0:(vm.error="Sorry, but that report is not available",!1)},handleFileAccess=function(file){return vm.resumeLoading=!0,validateAccess(file)?void $state.go("drivers.documents",{driverId:vm.driver._id,documentId:file.sku||"resume"}):(vm.resumeLoading=!1,!1)};vm.openResumeFile=function(){$log.debug("Opening Resume File"),handleFileAccess(vm.driver&&vm.driver.reports.resume)},vm.openReport=function(reportName){$log.debug("Opening Report type %s",reportName),handleFileAccess(vm.driver&&vm.driver.reports[reportName])}}angular.module("drivers").controller("DriverViewController",DriverViewController),DriverViewController.$inject=["$state","$log","$stateParams","Authentication","Drivers","Profiles","AppConfig","driver"]}(),function(){function DriversListController($log,drivers){var vm=this;vm.drivers=drivers,vm.endorsementFilter=function(item){return item.value===!0},vm.endorsementDisplay=function(item){var i=item.key.indexOf("(");return i>0?item.key.substring(0,i).trim():item.key}}angular.module("drivers").controller("DriversListController",DriversListController),DriversListController.$inject=["$log","drivers"]}(),function(){function TruckerViewCtrl(user,profile,$log){var vm=this;vm.user=user,vm.profile=profile||user,vm.tabs=[{heading:"Experience",route:"trucker.experience",disable:!1},{heading:"Reviews",route:"trucker.reviews",disable:!1},{heading:"Documents",route:"trucker.documents",disable:!0}]}function TruckerReviewListCtrl(reviews,$log){var vm=this;vm.reviews=reviews}function TruckerLockboxCtrl(documents,profile,Reports,$sce,$log){function viewFile(document){vm.error=null;var fileName=document.name;if(/^data:.*base64/.test(document.url)){if(/image\/[\w]+;/.test(document.url))return vm.imgSrc=document.url,$sce.trustAsResourceUrl(vm.imgSrc),vm.activeReport=fileName,vm.fileType=_.first(document.url.match(/image\/(\w+)/)),void(vm.documentTitle=vm.fileUser+"_"+fileName+"."+(_.last(document.url.match(/image\/(\w+)/))||".jpg"));if(/application\/pdf/.test(document.url))return vm.documentUrl=document.url,$sce.trustAsResourceUrl(vm.documentUrl),vm.activeReport=fileName,vm.fileType=_.first(document.url.match(/application\/\w+/)),void(vm.documentTitle=vm.fileUser+"_"+fileName+".pdf")}$log.debug("Opening File %o",fileName);var file=vm.reports[fileName];DocAccess.updateFileUrl(vm.driver._id,file).then(function(success){vm.documentUrl=success.url,vm.documentTitle=vm.fileUser+"_"+fileName+".pdf",$sce.trustAsResourceUrl(vm.documentUrl),vm.reports[success.sku]=success,vm.activeReport=fileName})["catch"](function(error){$log.warn("[DocViewCtrl.updateFileUrl] %s",error),vm.error=error})}var vm=this;vm.documents=documents,vm.profile=profile,vm.fileUser=vm.profile.displayName.replace(" ",""),vm.hasAccess=null!==documents,vm.viewFile=viewFile}angular.module("drivers").controller("TruckerViewCtrl",TruckerViewCtrl),TruckerViewCtrl.$inject=["user","profile","$log"],angular.module("drivers").controller("TruckerReviewListCtrl",TruckerReviewListCtrl),TruckerReviewListCtrl.$inject=["reviews","$log"],angular.module("drivers").controller("TruckerLockboxCtrl",TruckerLockboxCtrl),TruckerLockboxCtrl.$inject=["documents","profile","Reports","$sce","$log"]}(),function(){function DriverInfoFormCtrl($log,$q,$document,auth){var vm=this;vm.text=_.defaults(vm.text||{},{about:null}),vm.getSubforms=function(form){var FormController;return form.hasOwnProperty("$setSubmitted")?(FormController=form.constructor,_.compact(_.map(form,function(value,key,collection){return"$"!==key.substring(0,1)&&value instanceof form.constructor?value:void 0}))):($log.debug("[Gateway.getSubforms] form is not a FormController"),[])},vm.methods=_.defaults({submit:function(){return _.isEmpty(vm.profile._id)?(vm.error="User is not logged in",vm.loading=!1,$q.reject(vm.error)):vm.profile.$update().then(function(updatedProfile){return $log.debug("Successfully updated Driver Profile with details"),vm.gateway.profile=updatedProfile})["catch"](function(errorResponse){return vm.error=errorResponse.data&&errorResponse.data.message||"Unable to update driver",vm.loading=!1,$q.reject(vm.error)})},validate:function(){var deferred=$q.defer();vm.form.$setSubmitted(!0);var isValid=vm.validateSubForms();return vm.form&&vm.form.$invalid&&(isValid=!1,_.map(_.keys(vm.form.$error),function(errorType){$log.warn("[SignupApply.validateForm] Form %d has error type: %s",vm.currentStep,errorType),_.map(vm.form.$error[errorType],function(item){$log.error("[SignupApply.validateForm] %s has error: %o",item?item.$name:"n/a",item),item&&item.$setDirty(!0)})}),deferred.reject("Please correct the errors above")),isValid?deferred.resolve("User Form is Valid"):deferred.reject("Please correct the errors above"),deferred.promise}},vm.methods),vm.validateSubForms=function(){_.each(vm.getSubforms(vm.form),function(subform){$log.debug("[ValidateSubforms.%s] Validating subform: %s",subform.$name,subform.$name),subform.$submitted||($log.debug("[ValidateSubforms.%s] Setting to Submitted",subform.$name),subform.$setSubmitted(!0));var subs=vm.getSubforms(subform);_.each(subs,function(doublesub){})}),vm.form.experienceForm&&vm.form.experienceForm.$pristine&&(console.log("Experience untouched ..."),vm.profile.experience[0]&&vm.profile.experience[0].isFresh&&(console.log("nuked experience"),vm.profile.experience.pop()));var strippedString=vm.profile.about&&vm.profile.about.replace(/(<([^>]+)>)/gi,"")||"";return strippedString.length<=0?(vm.introTextError="Please add a message to the employer before continuing",vm.form.$setValidity("introText",!1),!1):(vm.introTextError=null,vm.form.introText.$valid||vm.form.$setValidity("introText",!0),vm.form.$invalid?(vm.form.$error.required?(vm.error="Please fill in all required fields before saving",$document.scrollTopAnimated(0,300)):vm.error="Please correct the errors on the page before saving",!1):!0)},_.isFunction(vm.methods.init)&&vm.methods.init()}function DriverInfoFormDirective(Drivers){return{templateUrl:function(elem,attrs){switch(attrs.displayMode||"full"){case"min":return"/modules/drivers/views/templates/driver-info-form.client.template.html";default:return"/modules/drivers/views/templates/driver-edit-form.client.template.html"}},restrict:"E",require:["^form"],scope:{gateway:"=",user:"=?model",text:"=?",methods:"=",displayMode:"=?"},link:function(scope,element,attrs,ctrls){scope.vm.form=ctrls[0],scope.vm.gateway&&scope.vm.gateway.profile.then(function(userResponse){scope.vm.profile=_.merge(userResponse,Drivers["default"])})},controller:"DriverInfoFormController",controllerAs:"vm",bindToController:!0}}angular.module("drivers").controller("DriverInfoFormController",DriverInfoFormCtrl).directive("driverInfoForm",DriverInfoFormDirective),DriverInfoFormCtrl.$inject=["$log","$q","$document","Authentication"],DriverInfoFormDirective.$inject=["Drivers"]}(),function(){function OsDriverInlineView(){return{priority:0,templateUrl:"/modules/applications/views/templates/applicant-normal.client.template.html",replace:!0,transclude:!0,restrict:"E",scope:{profile:"=model",application:"=?"},controller:["$q","Profiles",function($q,Profiles){var vm=this;vm.applicant=vm.profile}],controllerAs:"vm",bindToController:!0}}function OsProfileHeader(){return{templateUrl:"/modules/drivers/views/templates/driver-badge.client.template.html",restrict:"E",scope:{profile:"=model",pictureEditFn:"&?",canEdit:"=?"},link:function(scope,elem,attrs){var vm=scope.vm;vm.pictureUrl=vm.profile.props&&vm.profile.props.avatar||vm.profile.profileImageURL,vm.subTitle=vm.profile.handle||vm.profile.type,vm.canEdit=_.isUndefined(vm.canEdit)?!1:vm.canEdit,vm.editSref="settings.profile",vm.editPicSref="settings.picture",vm.editPicFn=function(){return angular.isFunction(attrs.pictureEditFn)?vm.pictureEditFn():void 0}},controller:function(){},controllerAs:"vm",bindToController:!0}}angular.module("drivers").directive("osDriverInline",OsDriverInlineView).directive("osProfileHeader",OsProfileHeader),OsDriverInlineView.$inject=[]}(),function(){function OsDriverView(){return{priority:0,templateUrl:"/modules/drivers/views/templates/driver-profile.client.template.html",replace:!0,transclude:!0,restrict:"E",scope:{driver:"=model"},controller:"OsDriverViewController",controllerAs:"vm",bindToController:!0}}var OsDriverViewController=function(Authentication){var vm=this;vm.Authentication=Authentication,vm.maxExpCt=5,vm.canEdit=function(user){return user=user||vm.driver.user,console.log("User %s edits? %s v %s",user.firstName,vm.Authentication.user._id,user._id),vm.Authentication.user._id===user._id},vm.getDateRangeString=function(startDate,endDate){var s,e;return startDate&&(s=moment(startDate))?endDate&&(e=moment(endDate))?s.format("MMMM, YYYY")+" - "+e.format("MMMM, YYYY"):s.format("MMMM, YYYY")+" - present":null},vm.filterEndorsements=function(license){return _.compact(_.keys(license.endorsements).map(function(item){return license.endorsements[item]?item:null}))||[]}};OsDriverViewController.$inject=["Authentication"],angular.module("drivers").controller("OsDriverViewController",OsDriverViewController).directive("osDriverView",OsDriverView)}(),function(){function ExperienceItemDirective(){return{priority:0,templateUrl:"/modules/drivers/views/templates/experience.client.template.html",replace:!1,restrict:"E",scope:{model:"=",editMode:"=?",canEdit:"=?",addFn:"&?",dropFn:"&?",isLast:"=?",modelIndex:"=?",viewOnly:"=?"},require:["^osetExperienceList","^?form"],link:function(scope,element,attrs,ctrls){scope.vm.form=ctrls[1],scope.vm.list=ctrls[0]},controller:ExperienceItemController,controllerAs:"vm",bindToController:!0}}function ExperienceItemController(AppConfig,$attrs){var vm=this;vm.push=angular.isDefined($attrs.addFn)?vm.addFn():null,vm.drop=angular.isDefined($attrs.dropFn)?vm.dropFn():null,vm.months=vm.months||AppConfig.getMonths(),console.log("Got %d Months",vm.months.length),vm.isEditing=!!vm.editMode||!!vm.model.isFresh,vm.canEdit=void 0===typeof vm.canEdit?!vm.viewOnly:!!vm.canEdit,vm.revertValue=angular.copy(vm.model),vm.activate=function(){return vm.formItem=vm.form["experienceItem_"+vm.modelIndex],!!vm.formItem},vm.edit=function(){vm.revertValue=angular.copy(vm.model),vm.isEditing=!0},vm.cancel=function(){vm.error=null,vm.model.isFresh?vm.drop?vm.drop(vm.model):vm.model=null:vm.model=angular.copy(vm.revertValue),vm.isEditing=!1},vm.save=function(action){return vm.error=null,vm.formItem=vm.formItem||vm.form["formItem_"+vm.modelIndex],vm.formItem._submitted=!0,"add"!==action&&vm.formItem.$pristine&&vm.model.isFresh?(vm.cancel(),vm.formItem.$setValidity("model",!0),vm.formItem.$setSubmitted(),!0):vm.formItem.$invalid?(vm.formItem.$error.required?vm.error="Please fill in all required fields before saving":vm.error="Please correct the errors on the page before saving",!1):(vm.model.isFresh=!1,"add"===action&&vm.push(),void(vm.isEditing=!1))},vm.getDateRangeString=function(startDate,endDate){var s,e;return startDate&&(s=moment(startDate))?endDate&&(e=moment(endDate))?s.format("MMMM, YYYY")+" - "+e.format("MMMM, YYYY"):s.format("MMMM, YYYY")+" - present":null}}function ExperienceListDirective(){var ddo;return ddo={templateUrl:"/modules/drivers/views/templates/experience-list.client.template.html",restrict:"E",scope:{models:"=list",canEdit:"=?",viewOnly:"=?",maxCt:"=?"},require:["^?form"],link:function(scope,element,attrs,ctrls){scope.vm.form=ctrls[0]},controller:ExperienceListController,controllerAs:"vm",bindToController:!0}}function ExperienceListController($log){function drop(exp){var index=_.remove(vm.models,exp);index&&$log.debug("Successfully removed experience")}function add(){vm.models.push({text:"",startDate:null,endDate:null,location:"",isFresh:!0}),vm.maxCt++}var vm=this;if(vm.viewOnly=vm.viewOnly||!1,vm.canEdit=void 0===typeof vm.canEdit?!vm.viewOnly:!!vm.canEdit,vm.maxCt=vm.maxCt||50,vm.isEditing=!1,vm.canEdit&&vm.models&&vm.models.length){var lastModel=vm.models[vm.models.length-1];(lastModel.isFresh||_.isEmpty(lastModel))&&(lastModel.isFresh=!0,vm.isEditing=!0)}vm.drop=drop,vm.add=add}angular.module("drivers").directive("osetExperienceItem",ExperienceItemDirective),ExperienceItemController.$inject=["AppConfig","$attrs"],angular.module("drivers").directive("osetExperienceList",ExperienceListDirective),ExperienceListController.$inject=["$log"]}(),function(){function DocumentAccessFactory($q,$log,Drivers,Auth){return{hasAccess:function(driverId,application){return $log.debug("[DocAccess.hasAccess] Looking up access for driver `%s`",driverId),!Auth.user||Auth.user!==driverId&&Auth.user.id!==driverId?application&&application.canViewDocs?!0:!1:!0},getDriver:function(driverId,application){if($log.debug("[DocAccess.hasAccess] Looking up access for `%s` to driver `%s`",Auth.user.id,driverId),this.hasAccess(driverId,application)){if(!Auth.user||Auth.user!==driverId&&Auth.user.id!==driverId){if(!application||!application.canViewDocs)return $q.reject("Sorry, but you do not have access to this applicant's documents");var deferred=$q.defer();return Drivers.get(driverId).then(function(driverProfile){return $log.debug("got driver"),driverProfile&&!_.isEmpty(driverProfile)?deferred.resolve(driverProfile):deferred.reject("No Driver Profile found for driver id: "+driverId)}),deferred.promise}return $log.debug("[DocAccess.hasAccess] Granting access to their own documents"),$q.when(Auth.user)}return $q.reject("Sorry, but you do not have access to this driver's documents")},updateFileUrl:function(driverId,file){$log.debug("[DocAccess.getFileUrl] Looking up file `%s` for driver `%s`",file.sku,driverId);var deferred=$q.defer();return moment().isBefore(moment(file.expires))?deferred.resolve(file):Drivers.getDownloadLink(driverId,file.sku||"resume").then(function(success){$log.debug("[DocAccess.getFileUrl] Got new resume link! %o",success),deferred.resolve(success)}),deferred.promise}}}DocumentAccessFactory.$inject=["$q","$log","Drivers","Authentication"],angular.module("drivers").factory("DocAccess",DocumentAccessFactory)}(),function(){function DriverFactory($resource){return{ById:$resource("api/drivers/:driverId",{driverId:"@_id"},{update:{method:"PUT"}}),ByUser:$resource("api/users/:userId/driver",{userId:"@_userId"}),get:function(driver){var driverId=!!driver&&driver.id||driver;return $resource("api/drivers/:driverId",{driverId:"@_id"},{update:{method:"PUT"}}).get({driverId:driverId}).$promise},getByUser:function(userId){return $resource("api/users/:userId/driver",{userId:"@_id"}).get({userId:userId}).$promise},getResumeLink:function(driverId){return $resource("api/drivers/:driverId/resume",{driverId:"@_id"}).get({driverId:driverId}).$promise},getReportLink:function(driverId,sku){return $resource("api/drivers/:driverId/report/:reportSku",{driverId:"@_id",reportSku:"@sku"}).get({driverId:driverId,sku:sku}).$promise},getDownloadLink:function(driverId,sku){var endpoint="api/drivers/:driverId/",args={driverId:"@driverId"};return sku&&"resume"!==sku?(args.sku="@sku",endpoint+="report/:sku"):endpoint+="resume",$resource(endpoint,args).get({driverId:driverId,sku:sku}).$promise},"default":{resume:{},experience:[{}],licenses:[{}],interests:[]}}}DriverFactory.$inject=["$resource"],angular.module("drivers").factory("Drivers",DriverFactory)}(),function(){angular.module("feeds").config(["$stateProvider",function($stateProvider){$stateProvider.state("feed",{parent:"profile-base","abstract":!0,url:"/feed",views:{"content@profile-base":{template:'<div ui-view class="content-section"></div>'}}}).state("feed.list",{url:"",templateUrl:"modules/feeds/views/list-feeds.client.view.html"}).state("feed.create",{url:"/create",templateUrl:"modules/feeds/views/create-feed.client.view.html"}).state("feed.view",{url:"/:feedItemId",templateUrl:"modules/feeds/views/view-feed.client.view.html"}).state("feed.edit",{url:"/:feedItemId/edit",templateUrl:"modules/feeds/views/edit-feed.client.view.html"})}])}(),function(){angular.module("feeds").controller("FeedsController",["$scope","$stateParams","$state","Authentication","Feed","Profiles",function($scope,$stateParams,$state,Authentication,Feed,Profiles){var vm=this;vm.authentication=Authentication,vm.create=function(){var feedItem=new Feed.item({title:vm.title,notes:vm.notes});feedItem.$save(function(response){$state.go("feed.list",{feedItemId:response.id}),vm.title="",vm.notes=""},function(errorResponse){vm.error=errorResponse.data.message})},vm.remove=function(feedItem){if(feedItem){feedItem.$remove();for(var i in vm.feed)vm.feed[i]===feedItem&&vm.feed.splice(i,1)}else vm.feedItem.$remove(function(){$state.go("feed.list")})},vm.update=function(){var feedItem=vm.feedItem;feedItem.$update(function(){$state.go("feed.list",{feedItemId:feedItem.id})},function(errorResponse){vm.error=errorResponse.data.message})},vm.find=function(){Feed.load().then(function(result){return vm.feed=result,Profiles.lookup(result.user)}).then(function(feedUser){vm.feed.user=feedUser})},vm.populateItem=function(feedItem,index){Feed.getItem(feedItem).then(function(item){return _.extend(vm.feed.items[index],item),Profiles.lookup(item.user)}).then(function(user){vm.feed.items[index].user=user})},vm.findOne=function(){Feed.getItem($stateParams.feedItemId).then(function(item){vm.feedItem=item,Profiles.lookup(item.user).then(function(feedUser){vm.feedItem.user=feedUser})})}}])}(),function(){function feedFactory($resource,$q){function loadFeed(userId){return feedRsrc.get().$promise}function getFeedItem(item){return _.isString(item)?feedRsrc.get({feedItemId:item}).$promise:feedRsrc.get({feedItemId:item.id}).$promise}var feedRsrc=$resource("api/feed/:feedItemId",{feedItemId:"@_id"},{update:{method:"PUT"}}),factory={load:loadFeed,getItem:getFeedItem,item:feedRsrc};return factory}angular.module("feeds").factory("Feeds",["$resource",function($resource){return $resource("api/feeds/:feedId",{feedId:"@_id"},{update:{method:"PUT"}})}]),feedFactory.$inject=["$resource","$q"],angular.module("feeds").factory("Feed",feedFactory)}(),function(){function menus(Menus){Menus.addMenuItem("topbar",{title:"Job Postings",state:"jobs.list",userTypes:["driver","owner"],position:10}),Menus.addMenuItem("adminbar",{title:"Jobs",state:"jobs",type:"dropdown",roles:["admin"]}),Menus.addSubMenuItem("adminbar","jobs",{title:"My Jobs",state:"jobs.mine"}),Menus.addSubMenuItem("adminbar","jobs",{title:"All Jobs",state:"jobs.list"}),Menus.addSubMenuItem("adminbar","jobs",{title:"New Job",state:"jobs.create"})}menus.$inject=["Menus"],angular.module("jobs").run(menus)}(),function(){function moduleConfigResolve(AppConfig,auth){return AppConfig.getModuleConfig(auth.user.type,"jobs")}function companyResolve(Companies,params,auth,$q){var promise;if(params.companyId)console.log("Searching for company ID: %s",params.companyId),promise=Companies.get(params.companyId);else{if(params.jobId)return console.log("Not resolving company - find it in the job"),null;if(params.userId)console.log("Searching for company data for user %s",params.userId),promise=Companies.getByUser(params.userId);else{if("owner"!==auth.user.type)return null;console.log("Searching for company data for logged in user"),promise=Companies.getByUser(auth.user._id)}}return promise["catch"](function(err){return 404===err.status?null:$q.reject(err)})}function jobResolve(Jobs,params){var val=params.jobId;return console.log("Searching for job ID: %s",val),val?Jobs.ById.get({id:val}).$promise:null}function getApplications(job,Applications){return Applications.ById.query({job:job._id}).$promise}function listUserResolve(Jobs,params,auth,$q){var promise;if(auth.user&&"owner"===auth.user.type)promise=Jobs.ById.query({user:auth.user._id,company:params.companyId}).$promise;else{if(!auth.user)return[];promise=Jobs.ByUser.query({userId:auth.user._id}).$promise}return promise["catch"](function(err){return 404===err.status?[]:$q.reject(err)})}function listAllResolve(Jobs){return Jobs.ById.query().$promise}function config($stateProvider){$stateProvider.state("jobs",{"abstract":!0,url:"/jobs",template:'<div ui-view class="content-section"></div>',parent:"fixed-opaque",resolve:{job:function(){},jobs:function(){},company:function(){},
config:moduleConfigResolve}}).state("jobs.list",{parent:"jobs",url:"?itemId&tabName",reloadOnSearch:!1,templateUrl:"/modules/jobs/views/list-jobs.client.view.html",resolve:{jobs:listAllResolve,company:companyResolve},controller:"JobsListController",controllerAs:"vm",bindToController:!0}).state("jobs.mine",{url:"/me",templateUrl:"/modules/jobs/views/list-jobs.client.view.html",controller:"JobsListController",controllerAs:"vm",bindToController:!0,resolve:{jobs:listUserResolve,company:companyResolve},parent:"jobs"}).state("jobs.create",{url:"/create/:companyId",templateUrl:"/modules/jobs/views/edit-job.client.view.html",controller:"JobEditController",controllerAs:"vm",bindToController:!0,resolve:{company:companyResolve},parent:"jobs"}).state("jobs.view",{url:"/:jobId",templateUrl:"/modules/jobs/views/view-job.client.view.html",controller:"JobViewController",controllerAs:"vm",bindToController:!0,resolve:{job:jobResolve,applications:getApplications},parent:"jobs"}).state("jobs.edit",{url:"/:jobId/edit",templateUrl:"/modules/jobs/views/edit-job.client.view.html",controller:"JobEditController",controllerAs:"vm",bindToController:!0,resolve:{job:jobResolve},parent:"jobs"}).state("jobs.apply",{url:"/:jobId/apply",parent:"jobs"})}getApplications.$inject=["job","Applications"],companyResolve.$inject=["Companies","$stateParams","Authentication","$q"],jobResolve.$inject=["Jobs","$stateParams"],listUserResolve.$inject=["Jobs","$stateParams","Authentication","$q"],listAllResolve.$inject=["Jobs"],moduleConfigResolve.$inject=["AppConfig","Authentication"],config.$inject=["$stateProvider"],angular.module("jobs").config(config)}(),function(){function JobEditController($stateParams,$state,$log,Authentication,Jobs,job,company,$uibModal,config){function activate(){$state.is("jobs.create")?(vm.pageTitle="Post new job",vm.company||($log.error("[JobEditCtrl] Company must be defined when posting a new job, returning home"),$state.go("home")),config.requireSubscription&&checkSubscription(),vm.job={payRate:{min:null,max:null},requirements:"<ul><li></li></ul>",location:[defaultAddress],postStatus:"draft",companyId:!!vm.company&&vm.company._id||$stateParams.companyId}):$state.is("jobs.edit")&&(vm.job.location||(vm.job.location=[]),0===vm.job.location.length&&vm.job.location.push(defaultAddress))}function checkSubscription(){vm.company.subscription?vm.company.subscription.isValid||(vm.invalidSubscription=vm.company.subscription.statusMessage):vm.invalidSubscription="Sorry, but you will need to purchase a subscription before posting jobs",vm.company.subscription&&vm.company.subscription.isValid||openSubscriptionModal()}function openSubscriptionModal(){var modalInstance=$uibModal.open({templateUrl:"invalidSubscription.html",controller:["$state","$modalInstance","statusMessage",function($state,$modalInstance,statusMessage){var vm=this;vm.statusMessage=statusMessage,vm.gotoPlans=function(){$state.go("subscriptionsReview"),$modalInstance.close("subscriptions")},vm.cancel=function(){$state.go("home"),$modalInstance.close("home")}}],backdrop:!0,backdropClass:"shadow",controllerAs:"vm",size:"lg",keyboard:!1,resolve:{statusMessage:function(){return vm.invalidSubscription}}});modalInstance.result.then(function(message){$log.info("Modal accepted with message: %s",message)},function(){$log.info("Modal dismissed at: "+new Date),$state.go("home")})}function cancel(){$state.go("jobs.view",{jobId:vm.job._id})}function submit(){return vm.disabled=!0,vm.jobForm.$invalid?(vm.jobForm.$error.required?vm.error="Please fill in all required fields above":vm.error="Please correct all errors above",vm.disabled=!1,!1):(vm.error=vm.success=null,$state.is("jobs.create")?vm.create():$state.is("jobs.edit")?vm.update():(vm.disabled=!1,$log.warn('Unknown Form Mode: "%s"',vm.mode),void(vm.error="Unknown Form Mode")))}function create(){if(vm.job.companyId=vm.job.companyId||vm.company._id,!vm.job.companyId)return $log.error("Cannot create a job without a company ID!"),void(vm.error="Company is not defined, please try again later");var job=new Jobs.ById(vm.job);job.$save(function(response){$state.go("jobs.view",{jobId:response._id})},handleErr)}function update(){var job=vm.job;job.$update(function(response){$state.go("jobs.view",{jobId:response._id})},handleErr)}function handleErr(errorResponse){errorResponse.data&&errorResponse.data.message?vm.error=errorResponse.data.message:(vm.error="Unable to save changes at this time",$log.error("[JobEditCtrl] Error Saving Job: %o",job,errorResponse)),vm.disabled=!1}if(!Authentication.user)return $state.go("intro");var vm=this;vm.authentication=Authentication,vm.user=Authentication.user,vm.job=job,vm.company=company||job&&"object"==typeof job.company&&job.company||void 0,vm.cancel=cancel,vm.submit=submit,vm.create=create,vm.update=update,vm.enableEdit=!1,vm.showPreview=!1;var defaultAddress={type:"main",streetAddresses:[],zipOnly:!0};vm.types=["main","home","business","billing","other"],vm.pageTitle="Edit Job",activate()}angular.module("jobs").controller("JobEditController",JobEditController),JobEditController.$inject=["$stateParams","$state","$log","Authentication","Jobs","job","company","$uibModal","AppConfig"]}(),function(){function JobViewController($stateParams,$state,$log,Authentication,job,applications){function activate(){vm.user.isAdmin?vm.enableEdit=!0:!vm.user||vm.user.isDriver?vm.enableEdit=!1:vm.user.isOwner&&(vm.enableEdit=vm.user._id===(vm.company&&(vm.company.owner._id||vm.company.owner)))}var vm=this;vm.authentication=Authentication,vm.user=Authentication.user,vm.enableEdit=!1,vm.job=job,vm.applications=applications,vm.company=job&&"object"==typeof job.company&&job.company||void 0,vm.delist=function(job){job=job||vm.job,job||$log.debug("Cannot delist without a job"),job.delist()},vm.remove=function(job){if(job){job.$remove();for(var i in vm.jobs)vm.jobs[i]===job&&vm.jobs.splice(i,1)}else vm.job.$remove(function(){$state.go("home")})},activate()}JobViewController.$inject=["$stateParams","$state","$log","Authentication","job","applications"],angular.module("jobs").controller("JobViewController",JobViewController)}(),function(){function JobsListController($state,auth,jobs,company,moduleConfig){function activate(){$state.is("jobs.list")?vm.listTitle="Outset Job Listings":$state.is("jobs.mine")&&(vm.listTitle="driver"===vm.user.type?"My Jobs":"My Job Postings"),vm.user.isAdmin?vm.enableEdit=!0:"driver"===vm.user.type?vm.enableEdit=!1:"owner"===vm.user.type&&(vm.enableEdit=vm.user._id===(vm.company&&(vm.company.owner._id||vm.company.owner)))}var vm=this;vm.auth=auth,vm.user=auth.user,vm.config=moduleConfig||{},vm.enableEdit=!!vm.config.edit,vm.jobs=jobs,vm.company=company,vm.subtitle=vm.jobs.length+" Open Jobs.","driver"===vm.auth.user.type?vm.bodyCopy={heading:"Jobs are <em>Coming Soon!</em>",intro:"<p>Before opening up the site to employers, we are giving you time to build your profile and get your reportsready.</p>",bullets:["The more information you provide, the better your chances","Applicants who have reports in their profile are <u>8x more likely</u> to be hired!","You always have total control over who sees your information"],wrap:"<p>So put your best foot forward, and well let you know when its time to apply!</p>",homeTxt:"Back to your Profile Page"}:"owner"===vm.auth.user.type?vm.bodyCopy={heading:"Your Applicant Tracking System, all in one place!",intro:"<p>Once prospective employees have applied to your jobs, this will be the center of your applicant tracking.</p>",bullets:[],wrap:"<p>So post your jobs, optimize their appearance and details, and come back here once the applications start coming in!</p>",homeTxt:"Return to your Company Dashboard"}:vm.bodyCopy={},activate()}JobsListController.$inject=["$state","Authentication","jobs","company","config"],angular.module("jobs").controller("JobsListController",JobsListController)}(),function(){function JobListDirective(){return{templateUrl:"/modules/jobs/views/templates/job-list.client.template.html",restrict:"E",replace:!1,scope:{header:"@?",companyId:"@?",srcJobs:"=?",showPost:"=?",limitTo:"=?",config:"=?",showSearch:"=?",btnClass:"@?"},controller:JobListDirectiveCtrl,controllerAs:"vm",bindToController:!0}}function JobListDirectiveCtrl(Jobs,$log,$state,$location,config,auth,params){function activate(){vm.companyId||vm.driverId||vm.srcJobs||($log.warn("[%s] should Specify a company or driver, or set srcJobs pre-load","JobListController"),$state.includes("jobs")&&($log.error("[%s] Routing back to user's home page","JobListController"),$state.go("home"))),vm.companyId&&vm.driverId&&$log.warn("[%s] Both company and driver specified, defaulting to company","JobListController"),vm.srcJobs&&vm.srcJobs.length>=0?vm.jobs=vm.srcJobs:vm.companyId?(vm.filter.company={_id:vm.companyId},vm.myJobsOnly=!0,vm.jobs=Jobs.ById.query({company:vm.companyId})):vm.jobs=[],vm.visibleId&&!_.find(vm.jobs,{_id:vm.visibleId})&&(vm.visibleId=vm.visibleTab=null,$state.transitionTo("jobs.list",{itemId:vm.visibleId,tabName:vm.visibleTab}))}var vm=this;vm.visibleId=params.itemId,vm.visibleTab=params.tabName,vm.config=vm.config||config.getModuleConfig(auth.user.type,"jobs").then(function(success){vm.config=success}),config.getAsync("debug").then(function(success){vm.debug=!!success}),vm.showSearch=void 0===vm.showSearch?!0:!!vm.showSearch,vm.limitTo=vm.limitTo||100,vm.filter={},vm.user=auth.user,vm.myJobsOnly=!1,vm.showMore=function(){vm.limitTo+=100},vm.toggleFilterMine=function(){vm.filters.mine?vm.filter.hasOwnProperty("company")&&delete vm.filter.company:vm.filter.company={_id:vm.companyId},vm.filters.clear=!(vm.filters.today||vm.filters.week||vm.filters.unseen||!vm.filters.mine)};var filterProto={numDays:0,day:!1,week:!1,unseen:!1,mine:!1,clear:!0};vm.filters=_.clone(filterProto),vm.toggleFilter=function(filter){switch(filter){case"today":1===vm.filters.numDays?vm.filters.numDays=0:(vm.filters.week=!1,vm.filters.numDays=1,vm.filters.clear=!1);break;case"week":7===vm.filters.numDays?vm.filters.numDays=0:(vm.filters.day=!1,vm.filters.numDays=7,vm.filters.clear=!1);break;case"unseen":break;case"clear":return void(vm.filters=_.clone(filterProto))}},vm.predicate="posted",vm.reverse=!0,vm.toggleSort=function(field,reverse){field===vm.predicate?vm.reverse=!vm.reverse:(vm.predicate=field,vm.reverse=!!reverse)},vm.showAllTypes=!0,vm.jobCatFilter=function(job){return vm.showAllTypes?!0:(!job.cats&&job.categories&&(job.cats=_.pluck(_.where(job.categories,"value"),"key")||[]),!!_.intersection(vm.jobCats,job.cats).length)},vm.searchTermFilter=function(job){if(!vm.searchTerms)return!0;var terms=vm.searchTerms.split(" "),reg=new RegExp("(?="+terms.join(")(?=")+")","i");return job.searchText=job.searchText||[job.name,job.description,job.requirements].join(" "),reg.test(job.searchText)},vm.showTab=function(jobId,tabName,count){return"applicants"===tabName&&count?$state.go("applications.list",{itemId:jobId,tabName:tabName}):(vm.visibleId&&vm.visibleTab===tabName?vm.visibleId=vm.visibleTab=null:(vm.visibleId=jobId,vm.visibleTab=tabName),$state.transitionTo($state.current,{itemId:vm.visibleId,tabName:vm.visibleTab}),void $location.search({itemId:vm.visibleId,tabName:vm.visibleTab}))},activate()}angular.module("jobs").directive("osJobList",JobListDirective),JobListDirectiveCtrl.$inject=["Jobs","$log","$state","$location","AppConfig","Authentication","$stateParams"]}(),function(){function JobItemController(Auth){var dm=this;dm.auth=Auth,dm.displayMode="all",dm.showSection=function(section,only){return only||"all"!==dm.displayMode?dm.displayMode===section:!0},dm.setDisplay=function(section){dm.displayMode=section||"all"}}function JobDirective(){return{scope:{job:"=",inline:"=?",editSref:"@?",showEdit:"=?"},templateUrl:"/modules/jobs/views/templates/job.client.template.html",restrict:"E",replace:!0,controller:JobItemController,controllerAs:"dm",bindToController:!0}}JobItemController.$inject=["Authentication"],angular.module("jobs").directive("osJob",JobDirective)}(),function(){function NewApplicationDirective(){var ddo;return ddo={transclude:!0,templateUrl:"/modules/jobs/views/templates/os-new-application-modal.client.template.html",restrict:"EA",scope:{job:"=",title:"@?"},controller:NewApplicationModalController,controllerAs:"vm",bindToController:!0}}function NewApplicationModalController($uibModal,$log){var vm=this;vm.isOpen=!1,vm.showModal=function(size){var modalInstance=$uibModal.open({templateUrl:"applyModal.html",controller:ApplicationCreateController,controllerAs:"vm",size:size||"lg",resolve:{job:function(){return vm.job}}});modalInstance.result.then(function(result){$log.info("Modal result %o",result),vm.selected=result},function(result){$log.info("Modal result %o",result),$log.info("Modal dismissed at: "+new Date)}),modalInstance.opened.then(function(args){$log.info("Applying to Job Modal Args: %o",args),vm.isOpen=!0})}}function ApplicationCreateController($scope,$uibModalInstance,$state,$log,Applications,job,auth){function createApplication(){if(validateApplication(!0)){$log.debug("[AppController.create]","Creating new Application");var application=new Applications.ByJob({status:"submitted",agreement:vm.application.termsAccepted});saveApplication(application)}}function saveDraft(){if(validateApplication(!1)){$log.debug("[AppController.saveDraft]","Creating new Draft Application");var application=new Applications.ById({status:"draft"});saveApplication(application)}}var vm=this;$scope.vm=vm,vm.createApplication=createApplication,vm.saveDraft=saveDraft,vm.job=job,vm.application={message:auth.user&&auth.user.about},vm.placeholders={title:"Cover Letter for Job Application",messageHeading:"",messageSubHeading:"This will serve as your introduction to the employer. Your application will also consist of your completed profile, your resume and any reports you have ordered through Outset.",intro:"Write a short message explaining why you're a good fit for the position.",errors:{noJob:"You must select a job to apply to first, or you can save as a draft",noMessage:"Please add a message to the employer before submitting your application",terms:"You must accept the terms before submitting your application"},disclaimer:"<strong>Terms:</strong> By Applying for this job you consent to this employer reviewing your personal information, including: Your Profile, Resume, Background Check, Motor Vehicle Report & Drug Test, (If items are present in your profile). Outset is not responsible for the hiring decision of this employer, any and all hiring actions, including rejection of applicant, are the responsibility of the employer and the applicant."};var validateApplication=function(termsRequired){if(!vm.job||!vm.job._id)return vm.error=vm.placeholders.errors.noJob,!1;var strippedString=vm.application.message&&vm.application.message.replace(/(<([^>]+)>)/gi,"")||"";return strippedString.length<=0?(vm.error=vm.placeholders.errors.noMessage,!1):termsRequired&&!vm.application.termsAccepted?(vm.error=vm.placeholders.errors.terms,!1):vm.applicantForm.$invalid?(vm.application.message?vm.error="Please correct the errors above in order to submit your application":vm.error=vm.placeholders.errors.noMessage,!1):!0},saveApplication=function(application){application.jobId=vm.job&&vm.job._id&&vm.job._id,application.introduction=vm.application.message,application.agreement=vm.application.termsAccepted,application.$save(function(response){$uibModalInstance.close(response._id),$state.go("applications.view",{applicationId:response._id})},function(errorResponse){vm.error=errorResponse.data.message})}}angular.module("jobs").directive("osNewApplicationModal",NewApplicationDirective),NewApplicationModalController.$inject=["$uibModal","$log"],ApplicationCreateController.$inject=["$scope","$uibModalInstance","$state","$log","Applications","job","Authentication"]}(),function(){function JobsService($resource,$q){var jobRsrc=$resource("api/jobs/:id",{id:"@_id"},{update:{method:"PUT"}});return{ById:jobRsrc,ByUser:$resource("api/users/:userId/jobs",{userId:"@userId"}),list:function(query){return jobRsrc.query(query).$promise},get:function(jobId){return jobRsrc.get({id:jobId}).$promise},listByCompany:function(query){var rsrc=$resource("api/companies/:id/jobs/applications",{id:"@_id"},{});return query.id=query.id||query.companyId,_.isString(query.id)||(query.id=query.id._id),rsrc.query(query).$promise}}}JobsService.$inject=["$resource","$q"],angular.module("jobs").factory("Jobs",JobsService)}(),function(){function EndorsementDisplayDirective(){var ddo;return ddo={template:template,restrict:"E",scope:{endorsements:"=model"},controller:function(){var vm=this;vm.filteredEndorsements=_.compact(_.keys(vm.endorsements).map(function(item){return vm.endorsements[item]?item:null})),vm.endorsementBase=[{key:"HME",description:"Hazardous Materials",value:!1},{key:"P",description:"Passenger",value:!1},{key:"S",description:"School Bus",value:!1},{key:"T",description:"Double-Triple Trailer",value:!1},{key:"N",description:"Tank Vehicle",value:!1},{key:"M",description:"Motorcycle",value:!1}],vm.getEndorsementName=function(key){var name=_.find(vm.endorsementBase,{key:key});return _.isEmpty(name)?key:name.description}},controllerAs:"vm",bindToController:!0}}var template='<span><span ng-repeat="key in vm.endorsements" ng-init="description = vm.getEndorsementName(key)" ng-if="key"class="endorsement label label-success" tooltip-popup-delay="750" uib-tooltip="{{description}}">{{key}}</span><span ng-if="!vm.filteredEndorsements.length">None</span></span>';angular.module("license").directive("osetListEndorsements",EndorsementDisplayDirective)}(),function(){function EditLicenseController($scope,$log,appConfig){var vm=this;vm.licenseTypes=["Standard","Commercial"],vm.ratings=["A","B","C","D","G"],vm.endorsements=[{key:"HME",description:"Hazardous Materials",value:!1},{key:"P",description:"Passenger",value:!1},{key:"S",description:"School Bus",value:!1},{key:"T",description:"Double-Triple Trailer",value:!1},{key:"N",description:"Tank Vehicle",value:!1},{key:"M",description:"Motorcycle",value:!1}],_.isEmpty(vm.license)?$log.warn("[EditLicense] Assuming we are creating a new license. Is this OK?"):$log.debug("[EditLicense] Displaying License for editing: %o",vm.license);var views={minimal:{cols:1,horizontal:!0,types:!0,classes:!0,hideClasses:!1,state:!1,expires:!1,dob:!1,endorsements:!1},standard:{cols:2,horizontal:!1,types:!0,classes:!0,hideClasses:!1,state:!0,expires:!0,dob:!0,endorsements:!0}};vm.states=appConfig.getStates(),vm.debug=appConfig.get("debug"),vm.dateFormat="MM/DD/YYYY",vm.setMode=function(mode){vm.view=views[mode||vm.mode]},vm.toggleView=function(){vm.mode="minimal"===vm.mode?"standard":"minimal",vm.setMode(vm.mode)}}function EditLicenseDirective(){var ddo;return ddo={templateUrl:"/modules/license/views/license.client.template.html",restrict:"E",scope:{license:"=?model",user:"=?",defaultMode:"@?mode"},controller:"EditLicenseController",controllerAs:"vm",bindToController:!0,link:function(scope,elem,attrs){scope.vm.mode=scope.vm.defaultMode||"standard",scope.vm.setMode(scope.vm.mode)}}}function InlineLicenseDirective(){var ddo;return ddo={templateUrl:"/modules/license/views/license-inline.client.template.html",restrict:"E",scope:{license:"=model",showEndorsements:"=?"},controller:function(){var vm=this;vm.showEndorsements=!!vm.showEndorsements,_.forOwn(vm.license,function(value,key){return _.isEmpty(value)?void 0:(vm.hasLicense=!0,!1)})},controllerAs:"vm",bindToController:!0}}EditLicenseController.$inject=["$scope","$log","AppConfig"],angular.module("license").controller("EditLicenseController",EditLicenseController).directive("osetLicenseInline",InlineLicenseDirective).directive("osEditLicense",EditLicenseDirective)}(),function(){function gmapApiProvider(){var config={key:"AIzaSyDb2fSf75lhB2A0lBXeZ_89iXDhO-pmLoY",v:"3.18",libraries:"weather,geometry,visualization"},configs=["v"+config.v,"key="+config.key,"libraries="+config.libraries];gmapsApiBase+configs.join("&")}var gmapsApiBase="//maps.googleapis.com/maps/api/js?";angular.module("location").config(gmapApiProvider)}(),function(){function LocationController($scope,$log){function getSearchString(){var str="";return vm.showCircle=vm.circle,vm.showMarker=vm.marker,vm.radiusMod=vm.radMod,str+=vm.address&&vm.address.city?(str?", ":"")+vm.address.city:"",str+=vm.address&&vm.address.state?(str?", ":"")+vm.address.state:"",str.trim()?vm.radiusMod=vm.radMod:(console.log("Mapping to string: %s",str.trim()),vm.address&&vm.address.zipCode?(str=vm.address.zipCode,vm.radiusMod=1.5*vm.radMod):vm.zipCode?(str=vm.zipCode,vm.radiusMod=2*vm.radMod,vm.showCircle=!0,vm.showMarker=!1):(str="United States",vm.showCircle=!1,vm.showMarker=!1)),$log.debug("new search : %s",str),str.trim()}function processChange(newVal,oldVal,scope){if(newVal!==oldVal){var search=getSearchString();vm.search!==search&&(vm.search=search,vm.range&&vm.range.setMap(null),vm.mapMarker&&vm.mapMarker.setMap(null),vm.geoCode())}}var vm=this;switch(vm.search="United States",vm.range=null,vm.precision=vm.precision||"approximate",vm.precision){case"approximate":vm.circle=!0,vm.marker=!1,vm.radMod=1.25;break;case"exact":vm.marker=!0,vm.circle=!1,vm.radMod=1;break;default:vm.circle=!0,vm.marker=!1,vm.radMod=1}!vm.address&&vm.addresses&&vm.addresses.length&&(vm.address=vm.addresses[0]),vm.geoCode=function(maps){vm.search&&vm.search.length>0&&(vm.geocoder||(vm.geocoder=new vm.gmaps.Geocoder),vm.geocoder.geocode({address:vm.search},function(results,status){if(status===vm.gmaps.GeocoderStatus.OK){$log.info("[LocationCtrl] OK - %d results. First location: %o",results.length,results[0]);var result=results[0],loc=result.geometry.location;vm.search=result.formatted_address,vm.gotoLocation(loc,result.geometry.viewport)}else $log.info("[location.geocode] Sorry, this search produced no results.",vm.search)}))},vm.gotoLocation=function(center,viewport){vm.map.setCenter(center);var r;viewport&&(vm.map.fitBounds(viewport),r=vm.radiusMod*Math.max(google.maps.geometry.spherical.computeDistanceBetween(viewport.getSouthWest(),viewport.getCenter()),google.maps.geometry.spherical.computeDistanceBetween(viewport.getNorthEast(),viewport.getCenter()))),r&&vm.showCircle&&(vm.range=new google.maps.Circle({strokeColor:"#0000FF",strokeOpacity:.5,strokeWeight:2,fillColor:"#0000FF",fillOpacity:.25,center:viewport.getCenter(),map:vm.map,radius:r})),vm.showMarker&&(vm.mapMarker=new google.maps.Marker({position:center,map:vm.map}))},$scope.$on("mapInitialized",function(event,map){vm.map=map,vm.gmaps=$scope.google.maps,vm.search=getSearchString(),vm.geoCode()}),$scope.$watch("vm.address",processChange),$scope.$watch("vm.address.zipCode",processChange),$scope.$watch("vm.address.city",processChange),$scope.$watch("vm.address.state",processChange),$scope.$watch("vm.zipCode",processChange)}LocationController.$inject=["$scope","$log"],angular.module("location").controller("LocationController",LocationController)}(),function(){function LocationDirective(){return{priority:0,template:'<map disable-default-u-i="true" scrollwheel="false" draggable="false" zoom-control="true"></map>',replace:!1,transclude:!1,restrict:"E",scope:{address:"=?",addresses:"=?",center:"@?",style:"@?",zipCode:"=?",precision:"=?"},controller:"LocationController",controllerAs:"vm",bindToController:!0}}angular.module("location").directive("osMapLocation",LocationDirective)}(),function(){function PaymentController($state,$log,Payments,tokenResponse,report,applicant,company){var vm=this;console.log("got server response: %o",tokenResponse),vm.token=tokenResponse.clientToken,vm.applicant=applicant,vm.report=report,vm.company=company,vm.price=vm.report.promo||vm.report.price,vm.logo=vm.company?vm.report.logo:vm.report.logo||"./modules/bgchecks/img/everifile_logo.png",braintree.setup(vm.token,"dropin",{container:"dropin",form:"paymentAuthForm",paymentMethodNonceReceived:function(event,nonce){event.preventDefault(),vm.postPayment(event,nonce)}}),vm.initSubscriptions=function(){Payments.Plans.getOne({planId:report.planId}).$promise.then(function(success){vm.serverPlan=success},function(error){$log.error("No Plan found on server for planId `%s`",report.planId),vm.error="Sorry, the plan you are trying to order is not currently available",Raygun.send(new Error("Unknown PlanId: "+report.planId))}),vm.report&&vm.report.features&&(vm.features=_.keys(vm.report.features))},vm.company&&vm.initSubscriptions(),vm.applyPromo=function(){vm.promoCode=vm.promoCode.toUpperCase(),$log.debug("looking for promo code `"+vm.promoCode+"`"),vm.serverPlan&&vm.serverPlan.discounts&&(vm.promoItem=_.find(vm.serverPlan.discounts,{id:vm.promoCode}),vm.promoItem?(vm.promoError=null,$log.debug("Found promo item %o",vm.promoItem),vm.subtotal=parseFloat(vm.serverPlan.price)-parseFloat(vm.promoItem.amount)):($log.debug("No Promo Item found"),vm.subtotal=null,vm.promoItem=null,vm.promoError="No promo code found matching "+vm.promoCode,vm.promoCode=null))},vm.postPayment=function(event,nonce){if(vm.processing)return console.log("Payment already in process"),void event.preventDefault();vm.processing=!0,vm.error=vm.success=null;var opts,payment;vm.company?(opts={nonce:nonce,planId:vm.serverPlan.id,companyId:vm.company._id,price:vm.serverPlan.price},vm.promoItem&&(opts.promoCode=vm.promoItem.id,opts.price=vm.subtotal),payment=new Payments.Subscription(opts)):(opts={nonce:nonce,sku:vm.report.sku,applicantId:vm.applicant._id,price:vm.price},payment=new(Payments.Nonce())(opts)),payment.$save(function(response){vm.setSuccess(response)},function(errorResponse){vm.processing=!1,errorResponse.status?vm.error=errorResponse.data&&errorResponse.data.message||"Please try again later ("+errorResponse.status+")":vm.error="Please try again later"})},vm.setSuccess=function(response){console.log("Holy crap! Response: %o",response),vm.company?vm.success="Subscription successful! You can now start posting jobs on Outset":vm.success="Order successfully placed. We will let you know as soon as your reports are ready!",vm.report=response}}PaymentController.$inject=["$state","$log","Payments","token","report","applicant","company"],angular.module("payments").controller("PaymentController",PaymentController)}(),function(){function PaymentService($resource){var _this=this;return _this.data={getToken:function(){var rsrc=$resource("api/payments/token",{},{get:{method:"GET",isArray:!1}});return rsrc.get()},Nonce:function(){return $resource("api/reports/types/:sku/create",{sku:"@sku",nonce:"@nonce",price:"@price",applicantId:"@applicantId"},{$save:{method:"POST"}})},Subscription:$resource("api/companies/:companyId/subscription",{planId:"@planId",promoCode:"@promoCode",nonce:"@nonce",price:"@price",companyId:"@companyId"},{$save:{method:"POST"}}),Plans:$resource("api/companies/subscriptions/:planId",{planId:"@planId",promoCode:"@promoCode"},{$get:{method:"GET",isArray:!0},getOne:{method:"GET",isArray:!1}})},_this.data}PaymentService.$inject=["$resource"],angular.module("payments").factory("Payments",PaymentService)}(),function(){angular.module("reviews").run(["Menus",function(Menus){Menus.addMenuItem("adminbar",{title:"Reviews",state:"reviews",type:"dropdown"}),Menus.addSubMenuItem("adminbar","reviews",{title:"List Reviews",state:"reviews.list"}),Menus.addSubMenuItem("adminbar","reviews",{title:"Create Review",state:"reviews.create"})}])}(),function(){angular.module("reviews").config(["$stateProvider",function($stateProvider){$stateProvider.state("reviews",{"abstract":!0,url:"/reviews",template:"<ui-view/>",resolve:{review:_.noop,reviewRequest:_.noop}}).state("reviews.list",{url:"",templateUrl:"modules/reviews/views/list-reviews.client.view.html"}).state("reviews.create",{url:"/create?requestId",templateUrl:"modules/reviews/views/create-review.client.view.html",controller:"ReviewEditCtrl",controllerAs:"vm",params:{requestId:{value:null,squash:!0},userId:{value:null,squash:!0}},data:{hideMenus:!0},resolve:{reviewRequest:["$log","$stateParams","Requests",function($log,$stateParams,Requests){return Requests.get($stateParams.requestId)["catch"](function(err){return $log.error(err,"Unable to find requestId"),null})}],profile:["$log","$stateParams","reviewRequest","Profiles",function($log,$stateParams,reviewRequest,Profiles){var profileId=reviewRequest&&reviewRequest.from||$stateParams.userId;return profileId?Profiles.load(profileId)["catch"](function(err){return $log.error(err,"Unable to find Requesting party"),null}):void 0}]}}).state("reviews.view",{url:"/:reviewId",templateUrl:"modules/reviews/views/view-review.client.view.html"}).state("reviews.edit",{url:"/:reviewId/edit",templateUrl:"modules/reviews/views/create-review.client.view.html",controller:"ReviewEditCtrl",controllerAs:"vm",params:{requestId:{value:null,squash:!0},userId:{value:null,squash:!0}},data:{hideMenus:!0},resolve:{review:["$log","$stateParams","Reviews",function($log,$stateParams,Reviews){return Reviews.getById($stateParams.reviewId)["catch"](function(err){return $log.error(err,"Unable to find Review"),null})}],reviewRequest:["$log","review","Requests",function($log,review,Requests){return Requests.get(review.objectLink)["catch"](function(err){return $log.error(err,"Unable to find request"),null})}],profile:["$log","$stateParams","review","Profiles",function($log,$stateParams,review,Profiles){var profileId=review&&(review.user&&review.user.id||review.user)||$stateParams.userId;return profileId?Profiles.load(profileId)["catch"](function(err){return $log.error(err,"Unable to find Requesting party"),null}):void 0}]}})}])}(),function(){function ReviewsController(reviewRequest,$stateParams,$location,Authentication,Reviews){var vm=this;vm.request=reviewRequest,vm.authentication=Authentication,vm.create=function(){var review=new Reviews.ByUser(vm.review);review.$save(function(response){$location.path("reviews/"+response._id),vm.name=""},function(errorResponse){vm.error=errorResponse.data.message})},vm.remove=function(review){if(review){review.$remove();for(var i in vm.reviews)vm.reviews[i]===review&&vm.reviews.splice(i,1)}else vm.review.$remove(function(){$location.path("reviews")})},vm.update=function(){var review=vm.review;review.$update(function(){$location.path("reviews/"+review._id)},function(errorResponse){vm.error=errorResponse.data.message})},vm.find=function(){vm.reviews=Reviews.ById.query()},vm.findOne=function(){vm.review=Reviews.ById.get({reviewId:$stateParams.reviewId})}}function ReviewEditController($log,$state,$stateParams,$location,reviewRequest,profile,review,Authentication,Reviews){function activate(){_.isEmpty(vm.request)&&_.isEmpty(vm.review)&&($log.error("No review or review request in parameters ... redirecting"),vm.error="Unable to find Review"),vm.profile=profile,vm.profileName=profile.displayName;var contactInfo=vm.request.contactInfo||{};vm.greetingText=vm.request.text,_.isEmpty(vm.review)&&(vm.review.userId=profile.id,vm.review.name=contactInfo.displayName||contactInfo.firstName||contactInfo.lastName,vm.review.email=contactInfo.email,vm.review.phone=contactInfo.phoneNumber,vm.review.request=vm.request.id)}function create(){vm.error=null;var review=vm.review._id?vm.review:new Reviews.byUser(vm.review);if(!vm.review.email&&!vm.review.phone)return void(vm.error="Please enter either a phone number or email address");if(!vm.review.rating)return void(vm.error="Please select a rating");if(vm.reviewForm.$invalid)return void _.each(vm.reviewForm.$error.required,function(field){vm.error="Please enter a "+field.$name});var p=vm.review._id?review.$update:review.$save;p(function(response){$state.go("trucker",{userId:profile.id||response.user.id||response.user}),vm.review={}},function(errorResponse){vm.error=errorResponse.data.message})}var vm=this;vm.request=reviewRequest||{},vm.authentication=Authentication,vm.review=review||{},vm.faqs=faqs,vm.create=create,activate()}angular.module("reviews").controller("ReviewsController",ReviewsController),ReviewsController.$inject=["reviewRequest","$stateParams","$location","Authentication","Reviews"],
angular.module("reviews").controller("ReviewEditCtrl",ReviewEditController),ReviewEditController.$inject=["$log","$state","$stateParams","$location","reviewRequest","profile","review","Authentication","Reviews"];var faqs=[{question:"What do you need my information for?",answer:"We use your information to ensure that each review is tied to a real person - and to ensure the integrity of the site"},{question:"What information will be visible to users?",answer:"Only your name will be shown to the driver or other users. We will keep your contact information hidden at all times."},{question:"What will my email and phone number be used for?",answer:"We will be providing other users to check references for reviews. Communication will be handled through TruckerLine and your email and phone number will aways remain private."}]}(),function(){function ReviewFactory($resource){function getById(id){return rsrc.get({id:id}).$promise}var rsrc=$resource("api/reviews/:id",{id:"@_id"},{update:{method:"PUT"}}),byUser=$resource("api/profiles/:userId/reviews",{userId:"@userId"},{update:{method:"PUT"}});return{ById:rsrc,ByUser:byUser,getById:getById}}angular.module("reviews").factory("Reviews",ReviewFactory),ReviewFactory.$inject=["$resource"]}(),function(){function ScheduleViewController(){}angular.module("schedule").controller("ScheduleViewController",ScheduleViewController)}(),function(){function ScheduleViewDirective(){return{templateUrl:"/modules/schedule/views/view-schedule.client.view.html",restrict:"E",scope:{model:"=",title:"@?"},controller:"ScheduleViewController",controllerAs:"vm",bindToController:!0}}angular.module("schedule").directive("osViewSchedule",ScheduleViewDirective)}(),function(){function config($httpProvider){$httpProvider.interceptors.push(["$q","$location","Authentication","TokenFactory",function($q,$location,Authentication,TokenFactory){return{request:function(config){var auth=TokenFactory.get("access_token");return auth&&(config.headers=config.headers||{},config.headers.Authorization=TokenFactory.getAuthTokenHeader()),config},responseError:function(rejection){switch(rejection.status){case 401:Authentication.user=null,$location.path("/");break;case 403:}return $q.reject(rejection)}}}])}function menus(Menus){Menus.addMenuItem("adminbar",{title:"Users",state:"users",type:"dropdown",roles:["admin"]}),Menus.addSubMenuItem("adminbar","users",{title:"List Users",state:"users.list"}),Menus.addSubMenuItem("adminbar","users",{title:"My User",state:"users.view"})}config.$inject=["$httpProvider"],menus.$inject=["Menus"],angular.module("users",["core"]).config(config).run(menus)}(),function(){angular.module("users").config(["$stateProvider",function($stateProvider){var upcResolve={user:["Authentication","LoginService",function(Authentication,LoginService){return LoginService.getUser().then(function(user){return Authentication.user||(Authentication.user=user),user},function(reason){return console.error("Unable to load user - not logged in?",reason),null})}],profile:["user","$stateParams","Profiles",function(user,$stateParams,Profiles){return _.isEmpty($stateParams.userId)?user:Profiles.load($stateParams.userId).then(function(profile){return profile},function(reason){return console.error("Unable to load profile: ",reason),null})}],company:["profile","Companies",function(profile,Companies){return profile.company?Companies.get(profile.company):null}]};$stateProvider.state("profile-base",{"abstract":!0,views:{"":{templateUrl:"/modules/core/views/profile-base.client.template.html",controller:["user","profile",function(user,profile){var vm=this;vm.user=user,vm.profile=profile||user}],controllerAs:"vm",bindToController:!0},"content@profile-base":{template:'<h1 class="text-center">CONTENT</h1>'},"sidebar@profile-base":{templateUrl:"/modules/drivers/views/templates/my-driver-sidebar.client.view.html",controller:["user","profile","Friends",function(user,profile,Friends){function initialize(){var friendOne=_.first(vm.user.friends);_.isString(friendOne)?Friends.query({user:vm.user.id}).then(function(results){vm.friends=results}):vm.friends=vm.user.friends}var vm=this;vm.user=user,vm.profile=profile,vm.friends=null,initialize()}],controllerAs:"vm",bindToController:!0}},resolve:upcResolve}).state("settings",{"abstract":!0,url:"/settings",templateUrl:"/modules/users/views/settings/settings.client.view.html",parent:"fixed-opaque"}).state("settings.profile",{url:"/profile",templateUrl:"/modules/users/views/settings/edit-profile.client.view.html"}).state("settings.password",{url:"/password",templateUrl:"/modules/users/views/settings/change-password.client.view.html"}).state("settings.accounts",{url:"/accounts",templateUrl:"/modules/users/views/settings/manage-social-accounts.client.view.html"}).state("settings.picture",{url:"/picture",templateUrl:"/modules/users/views/settings/change-profile-picture.client.view.html",resolve:{user:["Authentication",function(auth){return auth.user}]},controller:["Authentication","user",function(auth,user){var vm=this;vm.user=user,vm.successFunction=function(fileItem,response,status,headers){vm.user=response,vm.imageURL=vm.user.profileImageURL,auth.user.profileImageURL=response.profileImageURL,vm.showPhotoEdit=!1}}],controllerAs:"vm",bindToController:!0}).state("users",{"abstract":!0,url:"/users",template:'<div ui-view class="content-section container"></div>',parent:"fixed-opaque"}).state("users.list",{url:"",templateUrl:"/modules/users/views/list-users.client.view.html",parent:"users",controller:"UserListController",controllerAs:"vm",bindToController:!0,resolve:{users:["Profiles",function(Profiles){return Profiles.query()}]}}).state("users.view",{parent:"profile-base",url:"/profile/{userId:[0-9a-fA-F]{24}}",views:{content:{templateUrl:"/modules/drivers/views/templates/driver-body.client.view.html",controller:["user","profile",function(user,profile){var vm=this;vm.user=user,vm.profile=profile}],controllerAs:"vm",bindToController:!0}},controller:"ProfileController",controllerAs:"vm",bindToController:!0}).state("authentication",{url:"/authentication",templateUrl:"/modules/users/views/authentication/authentication.client.view.html"}).state("password",{"abstract":!0,url:"/password",template:"<ui-view/>",parent:"fixed-opaque"}).state("password.forgot",{url:"/forgot",templateUrl:"/modules/users/views/password/forgot-password.client.view.html"}).state("password.reset",{"abstract":!0,url:"/reset",template:"<ui-view/>"}).state("password.reset.invalid",{url:"/invalid",templateUrl:"/modules/users/views/password/reset-password-invalid.client.view.html"}).state("password.reset.success",{url:"/success",templateUrl:"/modules/users/views/password/reset-password-success.client.view.html"}).state("password.reset.form",{url:"/:token",templateUrl:"/modules/users/views/password/reset-password.client.view.html"})}])}(),function(){function LoginController($state,$modalInstance,$log,Authentication,srefRedirect,LoginService){var vm=this;vm.auth=Authentication,vm.srefRedirect=srefRedirect,vm.credentials={},vm.signin=function(){var credentials=vm.credentials||this.credentials;LoginService.login(credentials).then(function(response){vm.auth.user||(vm.auth.user=response),$modalInstance&&_.isFunction($modalInstance.close)&&$modalInstance.close("success"),vm.srefRedirect?$state.go(vm.srefRedirect.state,vm.srefRedirect.params,{reload:!0}):$state.includes("intro")?$state.go("home"):($log.debug("currently at state `%s`, staying here and not redirecting home",$state.$current.name),$state.go($state.current,{},{reload:!0})),vm.auth.isLoggedIn()})["catch"](function(response){console.error(response.message||response),vm.error=response.message||"Unable to Login at this time. Please Check your Credentials"})}}LoginController.$inject=["$state","$modalInstance","$log","Authentication","srefRedirect","LoginService"],angular.module("users").controller("LoginController",LoginController)}(),function(){angular.module("users").controller("PasswordController",["$scope","$stateParams","$http","$state","Authentication","$timeout",function($scope,$stateParams,$http,$state,Authentication,$timeout){$scope.authentication=Authentication,$scope.authentication.user&&$state.go("home"),$scope.askForPasswordReset=function(){$scope.success=$scope.error=null,$http.post("api/auth/forgot",$scope.credentials).success(function(response){function updateMsg(ct){return ct--,$scope.msg=" in "+ct,ct>0?$timeout(function(){updateMsg(ct)},1e3):void $state.go("intro")}$scope.credentials=null,$scope.ct=5,$scope.success=response.message,$scope.msg=" in "+$scope.ct,updateMsg($scope.ct)}).error(function(response){$scope.credentials=null,$scope.error=response.message})},$scope.resetUserPassword=function(){$scope.success=$scope.error=null,$http.post("api/auth/reset/"+$stateParams.token,$scope.passwordDetails).success(function(response){function updateMsg(ct){return ct--,$scope.msg=" in "+ct,ct>0?$timeout(function(){updateMsg(ct)},1e3):void $state.go("home")}$scope.passwordDetails=null,$scope.success="Password Changed Successfully!",Authentication.user=response,$state.is("password.reset.form")&&updateMsg(6)}).error(function(response){console.log("hmmm, that was'nt suppoased to happen: ",response),$scope.error=response.data&&response.data.message||response.message||"Sorry, an error occurred"})}}])}(),function(){function ProfileController($state,$log,user,profile,Companies){if(!user)return $log.error("no user defined in profile instantiation"),$state.go("home");var vm=this;vm.user=user,vm.profile=profile,vm.profile&&vm.profile.company&&("string"==typeof vm.profile.company?Companies.getByUser(vm.profile._id).then(function(company){vm.company=company},function(error){$log.error("Unable to get company for user due to `%s`",error)}):vm.company=vm.profile.company)}angular.module("users").controller("ProfileController",ProfileController),ProfileController.$inject=["$state","$log","user","profile","Companies"]}(),function(){angular.module("users").controller("ChangePasswordController",["$scope","$http","Users","Authentication","$state","$timeout",function($scope,$http,Users,Authentication,$state,$timeout){$scope.user=Authentication.user,$scope.changeUserPassword=function(){$scope.success=$scope.error=null,$http.post("api/users/password",$scope.passwordDetails).success(function(response){function updateMsg(ct){return ct--,$scope.msg=" in "+ct,ct>0?$timeout(function(){updateMsg(ct)},1e3):void $state.go("home")}$scope.success="Password successfully changed.",$scope.passwordDetails=null,$scope.ct=5,$scope.msg=" in "+$scope.ct,updateMsg($scope.ct)}).error(function(response){$scope.error=response.message})}}])}(),function(){function ProfilePictureController($timeout,$window,FileUploader,$log,$attrs,$scope,TokenFactory){function activate(){return vm.allowBlank&&!vm.model&&($log.debug("[ChangeProfilePictureCtrl] Initialized blank model"),vm.model={}),vm.allowBlank||vm.model?vm.mode||vm.apiUrl?(vm.initializeUploader(),vm.uploader.onBeforeUploadItem=function(item){var blob;blob=vm.hasOwnProperty("imageURL")?dataURItoBlob(vm.useCropped?vm.croppedImage:vm.newImage,vm.useCropped?vm.newImage:null):dataURItoBlob(vm.newFile),item._file=blob},vm.uploader.onAfterAddingFile=function(fileItem){if($window.FileReader){var fileReader=new FileReader;fileReader.readAsDataURL(fileItem._file),vm.success=vm.error=null,vm.isEditing=!0,vm.fileName=fileItem.file.name,fileReader.onload=function(fileReaderEvent){$timeout(function(){vm.hasOwnProperty("imageURL")?vm.newImage=fileReaderEvent.target.result:vm.newFile=fileReaderEvent.target.result,vm.autoUpload&&vm.uploadProfilePicture(),vm.autoCrop&&(vm.isCropping=!0)},0)}}},vm.uploader.onSuccessItem=function(fileItem,response,status,headers){vm.modelPath?vm.model[vm.modelPath]=response:vm.model=response,angular.isDefined($attrs.successCallback)&&vm.successCallback()(fileItem,response,status,headers),vm.cancelUpload(),vm.success=!0},vm.uploader.onErrorItem=function(fileItem,response,status,headers){vm.cancelUpload(),angular.isDefined($attrs.failCallback)&&vm.failCallback()(fileItem,response,status,headers),vm.error=response.message},$scope.$watch(function(){return"resume"===vm.mode.toLowerCase()?vm.modelId:vm.model},function(newVal,oldVal){vm.updateUploadUrl()}),vm.initialized=!0,void $log.debug("[PictureUploader] Successfuly initialized Picture Uploader")):void(vm.initialized=!1):($log.error("[PictureUploader] Must specify a model"),void(vm.initialized=!1))}function saveCrop(){vm.useCropped=!0,vm.autoCrop?vm.uploadProfilePicture():vm.isCropping=!1}function dataURItoBlob(dataURI){var byteString;byteString=dataURI.split(",")[0].indexOf("base64")>=0?atob(dataURI.split(",")[1]):unescape(dataURI.split(",")[1]);for(var mimeString=dataURI.split(",")[0].split(":")[1].split(";")[0],ia=new Uint8Array(byteString.length),i=0;i<byteString.length;i++)ia[i]=byteString.charCodeAt(i);return new Blob([ia],{type:mimeString})}function uploadProfilePicture(){vm.success=vm.error=null,vm.uploader.uploadAll()}function cancelUpload(){vm.uploader.clearQueue(),vm.model&&(vm.imageURL=vm.model.profileImageURL),vm.success=vm.error=null,vm.isCropping=!1,vm.isEditing=!1,delete vm.newImage,delete vm.croppedImage,delete vm.newFile}var vm=this;vm.initializeVariables=function(){vm.autoUpload=!!vm.autoUpload,vm.autoCrop=!!vm.autoCrop,vm.isEditing=!1,vm.uploader=null,vm.uploadUrl="api/users/picture",vm.newImage=null,vm.croppedImage=null,vm.isCropping=!1,vm.useCropped=!1,vm.saveCrop=saveCrop,vm.shape=vm.shape||"circle",vm.hasFile=vm.modelPath?!!vm.model[vm.modelPath]:!!vm.model,vm.modelPath&&vm.hasFile&&(vm.uploadBtnText="Select New File ...")},vm.initializeVariables(),vm.uploadProfilePicture=uploadProfilePicture,vm.cancelUpload=cancelUpload;var pictureFilter={name:"imageFilter",fn:function(item,options){var type="|"+item.type.slice(item.type.lastIndexOf("/")+1)+"|";return-1!=="|jpg|png|jpeg|bmp|gif|".indexOf(type)}},resumeFilter={name:"resumeFilter",fn:function(item,options){var type="|"+item.type.slice(item.type.lastIndexOf("/")+1)+"|";return-1!=="|pdf|docx|doc|rtf|".indexOf(type)}};vm.resetVariables=function(){var filter;switch(vm.mode.toLowerCase()){case"user":vm.imageURL=vm.model.profileImageURL,vm.uploadUrl="api/users/picture",filter=pictureFilter;break;case"company":vm.imageURL=vm.model.profileImageURL,vm.uploadUrl="api/companies/"+vm.model._id+"/picture",filter=pictureFilter;break;case"resume":vm.uploadUrl="api/drivers/"+(vm.modelId||vm.model._id)+"/resume",vm.modelPath=vm.modelPath||"resume",filter=resumeFilter;break;case"documents":vm.uploadUrl="api/drivers/"+vm.modelId+"/documents",vm.modelPath=vm.modelPath||"file",filter=resumeFilter;break;case"raw":vm.uploadUrl=null,filter=pictureFilter;break;default:$log.warn("[FileUploader] Unknown Mode: %s. Defaulting to user",vm.mode)}return filter},vm.updateUploadUrl=function(){return vm.uploader?(vm.resetVariables(),void(vm.uploader.url!==vm.uploadUrl&&(vm.uploader.url=vm.uploadUrl))):!1},vm.initializeUploader=function(){var filter;vm.mode?filter=vm.resetVariables():vm.apiUrl&&($log.debug("[PictureUploader] Mode not specified, using URL: %s",vm.apiUrl),vm.uploadUrl=vm.apiUrl),vm.uploader=new FileUploader({url:vm.uploadUrl,headers:{Authorization:TokenFactory.getAuthTokenHeader()}}),$log.debug("initailzing uploader with filter: ",!!filter&&filter.name),vm.uploader.filters.push(filter)},vm.reactivateUploader=function(){$timeout(function(){vm.uploader.destroy(),vm.initializeVariables(),activate()},0)},activate(),vm.startCrop=function(){vm.uploader&&vm.uploader.queue.length||(vm.newImage=vm.imageURL),vm.isCropping=!0},vm.cancelCrop=function(){vm.isCropping=!1,vm.autoCrop&&vm.uploadProfilePicture()}}angular.module("users").controller("ChangeProfilePictureController",ProfilePictureController),ProfilePictureController.$inject=["$timeout","$window","FileUploader","$log","$attrs","$scope","TokenFactory"]}(),function(){function EditProfileController($http,$location,$log,Users,Authentication){var vm=this;vm.profile||$log.warn("[EditProfileController] No profile passed to osEditProfile Directive"),vm.profile=vm.profile||Authentication.user,$log.info("[EditProfileController] Profile %o",vm.profile),vm.updateUserProfile=function(isValid){if(isValid){vm.success=vm.error=null;var user=new Users(vm.profile);user.$update(function(response){vm.success=!0,vm.profile=Authentication.user=response,vm.userForm.$setPristine()},function(response){vm.error=response.data.message})}else vm.error=vm.userForm.$error()},vm.cancel=function(){alert("Cancel not yet implemented")}}EditProfileController.$inject=["$http","$location","$log","Users","Authentication"],angular.module("users").controller("EditProfileController",EditProfileController)}(),function(){angular.module("users").controller("SocialAccountsController",["$scope","$http","$location","Users","Authentication","$state",function($scope,$http,$location,Users,Authentication,$state){$state.go("settings.profile"),$scope.user=Authentication.user,$scope.hasConnectedAdditionalSocialAccounts=function(provider){for(var i in $scope.user.additionalProvidersData)return!0;return!1},$scope.isConnectedSocialAccount=function(provider){return $scope.user.provider===provider||$scope.user.additionalProvidersData&&$scope.user.additionalProvidersData[provider]},$scope.removeUserSocialAccount=function(provider){$scope.success=$scope.error=null,$http["delete"]("api/users/accounts",{params:{provider:provider}}).success(function(response){$scope.success=!0,$scope.user=Authentication.user=response}).error(function(response){$scope.error=response.message})}}])}(),function(){function SettingsController($stateParams,$location,$log,Authentication){this.user=Authentication.user,this.user||$location.path("/"),$stateParams.userId&&($stateParams.userId===this.user._id||this.user.isAdmin||($log.warn("[SettingsController] Non-Admin tried to access another user's settings"),$location.path("/")))}SettingsController.$inject=["$stateParams","$location","$log","Authentication"],angular.module("users").controller("SettingsController",SettingsController)}(),function(){function UserListController(Auth,Profiles,$log,users){var vm=this;vm.users=users,vm.myId=Auth.user.id,vm.queryIndex=-1,vm.doSearch=function(){var index=++vm.queryIndex,terms=vm.searchTerms.split(" ");$log.debug("Searching for `%s`",terms),Profiles.query({text:terms}).then(function(results){return $log.debug("Query %d of %d",index,vm.queryIndex),index<vm.queryIndex?($log.error("Ignoring stale query result: %d",index),!1):($log.debug("Got %d results",results.length),vm.filter=_.pluck(results,"id"),void(vm.queryIndex=index))})},vm.doFilter=function(value,index){return _.isEmpty(vm.searchTerms)||_.contains(vm.filter,value.id)}}UserListController.$inject=["Authentication","Profiles","$log","users"],angular.module("users").controller("UserListController",UserListController)}(),function(){function LoginModalDirective(){return{transclude:!0,templateUrl:"/modules/users/views/templates/login-modal.client.template.html",restrict:"EA",scope:{signin:"&",title:"@?",srefText:"@?",job:"=?",redirect:"=?"},controller:LoginModalController,controllerAs:"vm",bindToController:!0}}function LoginModalController($scope,$uibModal,$log,$attrs){var vm=this;vm.isOpen=!1,angular.isDefined($attrs.redirect)?($log.debug("using existing redirect: %o",vm.redirect),vm.redirect=vm.redirect):angular.isDefined($attrs.job)&&(vm.redirect={state:"jobs.view",params:{jobId:vm.job&&vm.job.id},text:vm.srefText}),vm.showLogin=function(){var modalInstance=$uibModal.open({templateUrl:"loginModal.html",controller:"LoginController",resolve:{srefRedirect:function(){return vm.redirect}},controllerAs:"vm",bindToController:!0});modalInstance.result.then(function(result){$log.info("Modal result %o",result),vm.isOpen=!1},function(result){$log.info("Modal dismissed at: "+new Date),vm.isOpen=!1}),modalInstance.opened.then(function(args){vm.isOpen=!0})}}angular.module("users").directive("loginModal",LoginModalDirective),LoginModalController.$inject=["$scope","$uibModal","$log","$attrs"]}(),function(){angular.module("users").directive("osEditProfile",[function(){return{scope:{profile:"=model",editFn:"&",cancelFn:"&",updateFn:"&"},templateUrl:"/modules/users/views/templates/edit-settings.client.template.html",restrict:"E",replace:!0,controller:"EditProfileController",controllerAs:"vm",bindToController:!0}}])}(),function(){angular.module("users").directive("osProfile",[function(){return{scope:{profile:"=model",title:"@?",editable:"=?",editFn:"&?"},templateUrl:"/modules/users/views/templates/user-profile.client.template.html",restrict:"E",replace:!0,controller:"OsProfileController",controllerAs:"ctrl",bindToController:!0}}]).controller("OsProfileController",["$log",function($log){this.edit=this.editFn}]).directive("osProfileBadge",[function(){return{scope:{profile:"="},templateUrl:"/modules/users/views/templates/user-badge.client.template.html",restrict:"E",replace:!0}}])}(),function(){angular.module("users").directive("osetSeedSignup",[function(){return{scope:{model:"=?",showForm:"=?",hideName:"=?",btnClass:"@?"},templateUrl:"/modules/users/views/templates/seed-user-form.client.template.html",restrict:"E",controller:"SeedUserController",controllerAs:"vm",bindToController:!0}}]).controller("SeedUserController",["$log","SeedService",function($log,Seed){var vm=this;vm.model=vm.model||{},vm.showForm=vm.showForm||!1,vm.hideName=vm.hideName||!1,vm.btnClass=vm.btnClass||"button get-started",vm.interestOptions=[{key:"Local",value:!1},{key:"Long Haul",value:!1},{key:"Indep. Operator",value:!1},{key:"Fleet Mgmt.",value:!1}],vm.postSeed=function(){var seed=new Seed(vm.model);seed.$save().then(function(success){$log.debug("Successfully Saved seed user: %o",success),vm.model.success="Thank you for your interest, We will let you know as soon as we launch!"})["catch"](function(err){_.contains(err.data.message.toLowerCase(),"unique field")?vm.model.success="Thank you again for signing up. We will let you know as soon as we launch":vm.model.error=err.data.message||err})}}])}(),function(){function PictureUploadDirective(){var ddo={restrict:"E",templateUrl:"/modules/users/views/settings/picture-upload.client.template.html",scope:{model:"=",title:"@",mode:"@?",shape:"@?",apiUrl:"@?",successCallback:"&?",failCallback:"&?",allowBlank:"=?",isEditing:"=?"},controller:"ChangeProfilePictureController",controllerAs:"vm",bindToController:!0};return ddo}function FileUploadDirective(){var ddo={restrict:"E",templateUrl:"/modules/users/views/settings/file-upload.client.template.html",scope:{model:"=",modelPath:"@",title:"@",mode:"@?",apiUrl:"@?",successCallback:"&?",failCallback:"&?",allowBlank:"=?",modelId:"=",uploadBtnClass:"@?",uploadBtnText:"@?",autoUpload:"=?",hideIcon:"=?"},controller:"ChangeProfilePictureController",controllerAs:"vm",bindToController:!0};return ddo}angular.module("users").directive("osPictureUploader",PictureUploadDirective).directive("osetFileUpload",FileUploadDirective)}(),function(){function SignupApplyModalDirective(){var ddo;return ddo={transclude:!0,templateUrl:"/modules/users/views/templates/signup-apply.client.template.html",restrict:"EA",scope:{signin:"&?",title:"@?",type:"@?",srefText:"@?",job:"=?"},controller:SignupApplyModalController,controllerAs:"vm",bindToController:!0}}function SignupApplyModalController($uibModal,$log,$attrs){var vm=this;vm.isOpen=!1,angular.isDefined($attrs.job)&&(vm.type=vm.type||"driver"),vm.show=function(){var modalInstance=$uibModal.open({templateUrl:"signupApplyModal.html",controller:SignupApplyController,size:"lg",resolve:{type:function(){return vm.type},job:function(){return vm.job}},controllerAs:"vm",bindToController:!0});modalInstance.result.then(function(result){$log.info("Modal result %o",result),vm.isOpen=!1},function(result){$log.info("Modal dismissed at: "+new Date),vm.isOpen=!1}),modalInstance.opened.then(function(args){vm.isOpen=!0})}}function SignupApplyController($http,$state,$modalInstance,$log,Authentication,type,job,$document,Drivers,ApplicationFactory){var vm=this;vm.auth=Authentication,vm.job=job,vm.extraText=vm.job&&vm.job.text||null,vm.currentStep=type?1:0,vm.applicant=vm.auth.user||{profileImageURL:""},vm.credentials={type:type},vm.application={},vm.validateForm=function(){var stepForm=vm["subForm"+vm.currentStep];return stepForm.$invalid?(_.map(_.keys(stepForm.$error),function(errorType){$log.debug("[SignupApply.validateForm] Form %d has error type: %s",vm.currentStep,errorType),_.map(stepForm.$error[errorType],function(item){$log.debug("[SignupApply.validateForm] Item has error: %o",item),item&&item.$setDirty(!0)})}),vm.error="please correct the errors above",vm.loading=!1,!1):(vm.error=null,!0)},vm.nextStep=function(){vm.validateForm()&&vm.currentStep++},vm.prevStep=function(){vm.currentStep--},vm.selectUserType=function(userType){return vm.validateForm()?(vm.error=vm.success=null,vm.loading=!1,void vm.currentStep++):(vm.error="Please select what type of user best describes you",vm.loading=!1,!1)},vm.createUser=function(event){vm.loading=!0;var formMethods=vm["subform"+vm.currentStep+"Methods"];formMethods.validate().then(function(success){return $log.debug("[SignupApplyModal] validated: %s",success),formMethods.submit()}).then(function(success){vm.applicant=success,vm.currentStep++})["catch"](function(error){vm.error=error})["finally"](function(){vm.loading=!1})},vm.createDriver=function(){vm.loading=!0;var formMethods=vm["subform"+vm.currentStep+"Methods"];formMethods.validate().then(function(success){return $log.debug("[SignupApplyModal] validated: %s",success),formMethods.submit()}).then(function(success){vm.applicant=success,vm.application.message=vm.applicant.about,vm.currentStep++})["catch"](function(error){vm.error=error})["finally"](function(){vm.loading=!1})},vm.userPicUploaded=function(fileItem,response){vm.applicant=response,vm.imageURL=vm.applicant.profileImageURL,Authentication.user.profileImageURL=response.profileImageURL},vm.createApplication=function(){if(vm.validateApplication(!0)){$log.debug("[AppController.create]","Creating new Application");var application=new ApplicationFactory.ByJob({status:"submitted",agreement:vm.application.termsAccepted});application.jobId=vm.job&&vm.job._id&&vm.job._id,application.introduction=vm.application.message,application.agreement=vm.application.termsAccepted,application.$save(function(response){$modalInstance.close(response._id),$state.go("applications.view",{applicationId:response._id})},function(errorResponse){vm.error=errorResponse.data.message})}},vm.validateApplication=function(termsRequired){return vm.job&&vm.job._id?termsRequired&&!vm.application.termsAccepted?(vm.error=vm.about.errors.terms,!1):vm.picIsEditing?(vm.error=vm.about.errors.picEdit,!1):vm.validateForm()?!0:(vm.application.message?vm.error="Please correct the errors above in order to submit your application":vm.error=vm.about.errors.noMessage,!1):(vm.error=vm.about.errors.noJob,!1)},vm.about={zip:"Your zip code will be used to help improve your experience on the site",password:"A password will be required in order to see the status of your application and communicate with the employer.",messageSubHeading:null,disclaimer:"<strong>Terms:</strong> By Applying for this job you consent to this employer reviewing your personal information, including: Your Profile, Resume, Background Check, Motor Vehicle Report & Drug Test, (If items are present in your profile). Outset is not responsible for the hiring decision of this employer, any and all hiring actions, including rejection of applicant, are the responsibility of the employer and the applicant.",errors:{noJob:"You must select a job to apply to first, or you can save as a draft",noMessage:"Please enter a message to the employer before submitting your application",terms:"You must accept the terms before submitting your application",picEdit:"Please complete editing your picture before continuing"}}}angular.module("users").directive("osetSignupApplyModal",SignupApplyModalDirective),SignupApplyModalController.$inject=["$uibModal","$log","$attrs"],SignupApplyController.$inject=["$http","$state","$modalInstance","$log","Authentication","type","job","$document","Drivers","Applications"]}(),function(){function SignupFormCtrl($log,$q,UserService){var vm=this;vm.user=_.defaults(vm.user||{},{type:"driver",terms:!1,addresses:[{}]}),vm.text=_.defaults(vm.text||{},{zip:"Your zip code will be used to help improve your experience on the site",password:"Please enter a password of at least 8 characters. This will be used to ensure your secure access to the site"}),vm.focusEmail=!0,vm.methods=_.defaults({submit:function(){return UserService.createUser(vm.user).then(function(success){$log.debug("Successfully created a new user and logged in"),vm.gateway&&($log.debug("Setting Gateway User Object"),vm.gateway.profile=success)})},validate:function(){var deferred=$q.defer();return vm.user.password!==vm.user.confirmPassword?($log.debug("passwords do not match, yo!"),deferred.reject("Passwords to not match. Please enter them again")):vm.form&&vm.form.$invalid?(_.map(_.keys(vm.form.$error),function(errorType){$log.warn("[SignupApply.validateForm] Form %d has error type: %s",vm.currentStep,errorType),_.map(vm.form.$error[errorType],function(item){$log.error("[SignupApply.validateForm] %s has error: %o",item.$name,item),item&&item.$setDirty(!0)})}),deferred.reject("please correct the errors above")):vm.user.terms?deferred.resolve("User Form is Valid"):deferred.reject("Please agree to the terms and conditions before signing up"),deferred.promise}},vm.methods)}function SignupFormDirective(){return{templateUrl:"/modules/users/views/templates/signup-form.client.template.html",restrict:"E",require:["^form"],scope:{user:"=model",text:"=?",methods:"=?",gateway:"="},link:function(scope,element,attrs,ctrls){scope.vm.form=ctrls[0]},controller:"SignupFormController",controllerAs:"vm",bindToController:!0}}SignupFormCtrl.$inject=["$log","$q","UserService"],angular.module("users").controller("SignupFormController",SignupFormCtrl).directive("userSignupForm",SignupFormDirective)}(),function(){function SignupModalDirective(){return{transclude:!0,templateUrl:"/modules/users/views/templates/signup-modal.client.template.html",restrict:"EA",scope:{signin:"&",title:"@?",type:"@?",srefText:"@?",job:"=?"},controller:SignupModalController,controllerAs:"vm",bindToController:!0}}function SignupModalController($uibModal,$log,$attrs){var vm=this;vm.type=vm.type||null,vm.isOpen=!1,angular.isDefined($attrs.job)&&(vm.redirect={state:"jobs.view",params:{jobId:vm.job&&vm.job.id},text:vm.srefText}),vm.showSignup=function(){var modalInstance=$uibModal.open({templateUrl:"signupModal.html",controller:SignupController,size:"lg",resolve:{type:function(){return vm.type},srefRedirect:function(){return vm.redirect}},controllerAs:"vm",bindToController:!0});modalInstance.result.then(function(result){$log.info("Modal result %o",result),vm.isOpen=!1},function(result){$log.info("Modal dismissed at: "+new Date),vm.isOpen=!1}),modalInstance.opened.then(function(args){vm.isOpen=!0})}}function SignupController($state,$modalInstance,$log,Authentication,type,srefRedirect){var vm=this;vm.auth=Authentication,vm.credentials={type:type,terms:""},vm.srefRedirect=srefRedirect,vm.extraText=vm.srefRedirect&&vm.srefRedirect.text||null,vm.handleRedirect=function(response){$state.is("jobs.view")&&response.isDriver?($log.debug("New Driver currently at state `%s`, Redirecting to home",$state.$current.name),$state.go("users.view",{newUser:!0},{reload:!0})):vm.srefRedirect?$state.go(vm.srefRedirect.state,vm.srefRedirect.params,{reload:!0}):$state.includes("intro")?$state.go("home"):($log.debug("currently at state `%s`, staying here and not redirecting home",$state.$current.name),$state.go($state.current,{newUser:!0},{reload:!0})),$modalInstance.close()},vm.signup=function(event){vm.loading=!0,vm.signupFormMethods.validate().then(function(success){return $log.debug("[SignupApplyModal] validated: %s",success),vm.signupFormMethods.submit();
}).then(vm.handleRedirect)["catch"](function(error){vm.error=error})["finally"](function(){vm.loading=!1})}}angular.module("users").directive("signupModal",SignupModalDirective),SignupModalController.$inject=["$uibModal","$log","$attrs"],SignupController.$inject=["$state","$modalInstance","$log","Authentication","type","srefRedirect"]}(),function(){function SignupTypeCtrl($log,$q,$document){var vm=this;vm.selectType=function(type){$log.debug("[SignupType] User selected %s",type),vm.model=type,$document.scrollTopAnimated(0,300),vm.callback()}}function SignupTypeDirective(){return{templateUrl:"/modules/users/views/templates/signup-type.client.template.html",restrict:"E",require:["^form"],scope:{model:"=",callback:"&"},controller:"SignupTypeController",controllerAs:"vm",bindToController:!0}}SignupTypeCtrl.$inject=["$log","$q","$document"],angular.module("users").controller("SignupTypeController",SignupTypeCtrl).directive("userSignupType",SignupTypeDirective)}(),function(){function ConnectionButtonDirective($log,Friends){function linkFn(scope,el,attr,ctrl){var vm=scope.vm;vm["class"]=attr["class"]||"btn btn-oset-secondary",vm.status="",vm.buttonConfig={me:{hide:!0},none:{text:"ignored"},friends:{text:"Friends",icon:"fa-star"},sent:{text:"Request Sent"},pending:{text:"Accept Pending Request",icon:"fa-question"},noauth:{hide:!0},"default":{text:"Add Friend",icon:"fa-plus"}},Object.defineProperty(vm,"button",{get:function(){return vm.buttonConfig?vm.buttonConfig[vm.status]||vm.buttonConfig["default"]||{hide:!0}:{hide:!0}}}),Friends.check(vm.profile).then(function(response){$log.debug("Got Friend Check Response: %o",response),vm.setStatus(response)},function(err){$log.error(err,"Unable to Check Friend Status"),vm.status="default",vm.request=null})}var directive={restrict:"E",scope:{profile:"=",btnClass:"@?"},template:['<button type="button" ng-hide="!!vm.button.hide" uib-tooltip="{{vm.request | prettyPrint}}"','ng-click="vm.click()" ng-class="pull-right {{vm.class}}">',"{{vm.button.text}}",'<i ng-show="!!vm.button.icon" class="fa {{vm.button.icon}}"></i>',"</button>"].join(""),replace:!0,link:linkFn,controller:ConnectionButtonController,controllerAs:"vm",bindToController:!0};return directive}function ConnectionButtonController($log,Friends,Authentication){function setStatus(request){if(vm.request=request,!vm.auth.isLoggedIn())return vm.status="noauth";if(vm.auth.isLoggedIn()&&vm.auth.user.id===vm.profile.id)return vm.status="me";if(request){if("accepted"===request.status)return vm.status="friends";if("new"===request.status){var fromId=!!request.from&&request.from.id||request.from;return void(vm.status=vm.auth.user.id===fromId?"sent":"pending")}}vm.status="default"}function click(reject){if("pending"===vm.status){var action=reject?Friends.reject(vm.request):Friends.accept(vm.request);return action.then(function(result){"accepted"===result.status?vm.status="friends":"rejected"===result.status?vm.status="none":vm.setStatus(result)})["catch"](function(err){$log.error(err,"unable to %s the friend request",reject?"reject":"accept")})}return"default"!==vm.status&&vm.status||($log.info("Creating a new Friend Request!"),Friends.request(vm.profile.id).then(function(success){switch($log.info("Created friend request: %o",success),vm.status=success.status,success.status){case"new":return vm.status="sent";case"accepted":return vm.status="friends"}})["catch"](function(error){$log.error({error:error},"Unable to add Friend")})),!1}var vm=this;vm.auth=Authentication,vm.click=click,vm.setStatus=setStatus}ConnectionButtonController.$inject=["$log","Friends","Authentication"],ConnectionButtonDirective.$inject=["$log","Friends"],angular.module("users").directive("osetConnectionButton",ConnectionButtonDirective)}(),function(){function AuthenticationService(TokenFactory,$window,$q){function isLoggedIn(){return!_.isEmpty(service.user)&&!!TokenFactory.isValid()}function isAdmin(){return!!service.user&&service.user.isAdmin}var service={isLoggedIn:isLoggedIn,isAdmin:isAdmin};return Object.defineProperty(service,"user",{enumerable:!0,get:function(){return $window.user},set:function(value){return _.isEmpty(value)?void($window.user=null):_.isObject(value)?void($window.user=value):void($window.user=null)}}),service}function LoginService($http,$log,TokenFactory,$window,$q,auth){function login(credentials){return credentials.client_id="outset_webapp_dev",credentials.client_secret="supernanigans",credentials.grant_type="password",$http.post("/oauth/token",credentials).then(function(response){return $log.debug("Got Token Response: ",response),TokenFactory.set("access_token",response.data.access_token),TokenFactory.set("refresh_token",response.data.refresh_token),TokenFactory.set("token_type",response.data.token_type),TokenFactory.set("token_expires",Date.now()+response.data.expires_in),getUser()})}function logout(){return TokenFactory.clear(),$window.user=null}function getUser(){return _.isEmpty(auth.user)?!TokenFactory.isEmpty()&&TokenFactory.isValid()?$http.get("api/users/me").then(function(response){return $log.debug("Got `me` Response: ",response),auth.user=response.data,auth.user},function(err){return console.error("Got error Response: ",err),$q.reject(err)}):$q.reject():$q.when(auth.user)}return getUser(),{getUser:getUser,login:login,logout:logout}}function AuthTokenFactory($window){function set(key,value){if(_.isString(key))_.isUndefined(value)||_.isNull(value)?delete $window.localStorage[key]:$window.localStorage[key]=value;else if(_.isObject(key)){var response=key;console.info("Setting Tokens based on keys: ",_.keys(response)),_.forOwn(response,function(k){_.isUndefined(k.value)||_.isNull(k.value)?delete $window.localStorage[k.key]:$window.localStorage[k.key]=k.value})}else console.error("Unable to process args",{key:key,value:value})}function get(key,defaultValue){return $window.localStorage[key]||defaultValue}function clear(key){key?set(key):_.each(tokenKeys,function(key){set(key)})}function isEmpty(){return!get("access_token")}function isValid(){return!isEmpty()&&Date.now()<get("token_expires")}function getAuthToken(){return[get("token_type"),get("access_token")].join(" ")}function getRefreshToken(){return"Refresh "+get("refresh_token")}var tokenKeys=["access_token","refresh_token","token_expires","token_type"];return{set:set,get:get,clear:clear,isEmpty:isEmpty,isValid:isValid,getAuthTokenHeader:getAuthToken,getRefreshToken:getRefreshToken}}angular.module("users").factory("Authentication",AuthenticationService).factory("TokenFactory",AuthTokenFactory).factory("LoginService",LoginService),AuthenticationService.$inject=["TokenFactory","$window","$q"],LoginService.$inject=["$http","$log","TokenFactory","$window","$q","Authentication"],AuthTokenFactory.$inject=["$window"]}(),function(){function UsersService($resource){return $resource("api/users",{},{update:{method:"PUT"}})}function NewUserService(auth,$resource,$log,$http,$q){var vm=this;return vm.auth=auth,{createUser:function(credentials){var deferred=$q.defer();return $log.debug("assigning email to username"),credentials.username=credentials.email,$http.post("api/auth/signup",credentials).success(function(response){$log.debug("Successfully created %o USER Profile",response.type),vm.auth.user=response,Raygun.setUser(vm.auth.user._id,!1,vm.auth.user.email,vm.auth.user.displayName),deferred.resolve(response)}).error(function(response){$log.error("[UserService.createUser] Error creating user: %o",response),deferred.reject(response.message)}),deferred.promise}}}function ProfilesService($resource,$q,$log){var _data={query:function(query){return $resource("api/profiles").query(query).$promise},load:function(userId){return $resource("api/profiles/:userId",{userId:"@userId"}).get({userId:userId}).$promise},getUserForDriver:function(driver){var deferred=$q.defer();if(!_.isObject(driver.user)||!driver.user._id){var RSRC=$resource("api/profiles/:userId",{userId:"@userId"});return RSRC.get({userId:driver.user}).$promise}return deferred.resolve(driver),deferred.promise},lookup:function(user){return _.isString(user)?_data.load(user):$q.when(user)}};return _data}function RequestsService($resource,$log,$q){function createRequest(obj){var request=new RequestMsgRsrc(obj);return request.$save().then(function(success){return $log.debug("created new friend request: %o",success),success})}function listRequests(query){return RequestMsgRsrc.query(query).$promise}function getRequest(id){return id?RequestMsgRsrc.get({requestId:id}).$promise:$q.when({})}function updateRequest(id,data){return RequestMsgRsrc.update(id,data).$promise}var service={create:createRequest,list:listRequests,get:getRequest,update:updateRequest},RequestMsgRsrc=$resource("api/requests/:requestId",{requestId:"@_id"},{update:{method:"PUT"}});return service}function FriendService($resource,$log,Requests){function requestFriend(friend){var id=!!friend&&friend.id||friend;Requests.create({friendId:id,requestType:"friendRequest"}).then(function(success){return $log.debug("created new friend request: %o",success),success})}function listRequests(){return Requests.list({requestType:"friendRequest"})}function acceptRequest(request){return Requests.update({requestId:request.id||request._id},{action:"accept"})}function ignoreRequest(request){return Requests.update({requestId:request.id||request._id},{action:"deny"})}function listFriends(query){return RootFriendRsrc.query(query).$promise}function checkFriend(user){var id=!!user&&user.id||user;return Requests.list({userId:id}).then(function(results){return $log.debug("Got Requests from server: %o",results),_.first(results)}).then(function(request){return $log.debug("Returning first result %o",request),request})}function removeFriend(userId){return RootFriendRsrc["delete"]({userId:userId})}var service={getRequests:listRequests,request:requestFriend,accept:acceptRequest,ignore:ignoreRequest,query:listFriends,check:checkFriend,remove:removeFriend},RootFriendRsrc=$resource("api/friends/:userId",{},{update:{method:"PUT"}});return service}function SeedService($resource){return $resource("api/seed",{},{update:{method:"PUT"}})}angular.module("users").factory("Users",UsersService),UsersService.$inject=["$resource","$q"],angular.module("users").factory("UserService",NewUserService),NewUserService.$inject=["Authentication","$resource","$log","$http","$q"],angular.module("users").factory("Profiles",ProfilesService),ProfilesService.$inject=["$resource","$q","$log"],angular.module("users").factory("Requests",RequestsService),RequestsService.$inject=["$resource","$log","$q"],angular.module("users").factory("Friends",FriendService),FriendService.$inject=["$resource","$log","Requests"],angular.module("users").factory("SeedService",SeedService),SeedService.$inject=["$resource"]}();