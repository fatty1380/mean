<section data-ng-controller="DriversController" data-ng-init="findOne()">
    <div ng-include="'modules/dashboard/views/templates/dashboard-header.client.template.html'"></div>
    <section class="container opaque-bg">
        <div class="page-header">
            <h3 data-ng-bind="driver.user.displayName"></h3>
        </div>
        <div class="pull-right" data-ng-show="authentication.user._id == driver.user._id">
            <a class="btn btn-primary" href="/#!/drivers/{{driver._id}}/edit">
                <i class="glyphicon glyphicon-edit"></i>
            </a>
            <a class="btn btn-primary" data-ng-click="remove();">
                <i class="glyphicon glyphicon-trash"></i>
            </a>
        </div>
        <small>
            <em class="text-muted">
                Created on
                <span data-ng-bind="driver.created | date:'mediumDate'"></span>
                by
                <span data-ng-bind="driver.user.displayName"></span>
            </em>
        </small>

        <h4 class="list-group-item-heading" data-ng-bind="driver.user.name"></h4>
        <label>Addresses</label>
        <div ng-repeat="address in driver.user.addresses">
            <div ng-repeat="street in address.streetAddresses">
                <p data-ng-bind="street"></p>
            </div>
            <p data-ng-bind="address.city"></p>
            <p data-ng-bind="address.state"></p>
            <p data-ng-bind="address.zip"></p>
        </div>
        <p ng-show="!driver.user.addresses || driver.user.addresses.length == 0">None</p>
        <br/>
        <label>Licenses</label>
        <div ng-repeat="license in driver.licenses">
            <p>Type: {{license.type}}</p>
            <p>Number: {{license.number}}</p>
            <p>DOB: {{license.dateOfBirth}}</p>
            <p>State: {{license.state}}</p>
            <p>Rating/Class: {{license.rating}}</p>
            <p>Issued: {{license.issued}}</p>
            <p>Expires: {{license.expires}}</p>

            <label>Endorsements</label>
            <div ng-repeat="endorsement in license.endorsements">
                <p>{{endorsement.key}}
                    <span class="label" data-ng-bind="endorsement.value ? 'YES' : 'NO'" ng-class="endorsement.value ? 'label-success' : 'label-danger'"></span>
                </p>

            </div>
        </div>
        <p ng-show="driver.licenses.length == 0">None</p>
        <br/>

        <p ng-show="driver.endorsements.length == 0">None</p>
        <br/>
        <label>Experience</label>
        <div ng-repeat="exp in driver.experience">
            <p>{{exp.location}}: from {{exp.time.start | date : 'MMMM, yyyy'}} to {{exp.time.end | date : 'MMMM, yyyy'}}</p>
            <p data-ng-bind="exp.text"></p>
        </div>
        <p ng-show="driver.experience.length == 0">None</p>
        <br/>
        <label>isActive</label>
        <span class="label" data-ng-bind="driver.isActive ? 'YES' : 'NO'" ng-class="driver.isActive ? 'label-success' : 'label-danger'"></span>
        <label>isDeleted</label>
        <span class="label" data-ng-bind="driver.isDeleted ? 'YES' : 'NO'" ng-class="!driver.isDeleted ? 'label-success' : 'label-danger'"></span>


    </section>
</section>
